/*! For license information please see a7bc68d82dc9dff9ff74.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkMsdyn365_Commerce_Online=self.webpackChunkMsdyn365_Commerce_Online||[]).push([[40],{0:e=>{e.exports=React},11:e=>{e.exports=ReactDOM},260:(e,t,n)=>{n.d(t,{i:()=>o.createAccordionStateInput});var o=n(600);n(341),n(302)},302:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});n(4);var o=n(5),r=n(10),a=n(1),i=n(8),c=n.n(i),s=n(16),d=n(0),l=n(260);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let u=class extends d.Component{constructor(e){super(e),this.moduleClassName="ms-accordion-item",this.handleHeadingChange=e=>this.props.config.accordionItemTitle=e.target.value,this._onToggle=this._onToggle.bind(this),this.telemetryContent=(0,a.getTelemetryObject)(this.props.context.request.telemetryPageName,this.props.friendlyName,this.props.telemetry)}shouldComponentUpdate(e){return this.props.data!==e.data}render(){const{slots:e,renderView:t,config:n,data:o}=this.props,r=o&&o.accordionExpandedState&&o.accordionExpandedState.result,i=r&&void 0===r.isAllExpanded?o&&n.isExpandedOnInitialLoad:r&&r.isAllExpanded,s=m(m({},this.props),{},{AccordionItemContainer:{moduleProps:this.props,className:c()(this.moduleClassName,n.className)},AccordionItemContent:{className:"ms-accordion-item-content"},drawer:{tag:a.ControlledDrawer,className:`${this.moduleClassName}__drawer`,toggleButtonText:n.accordionItemTitle&&n.accordionItemTitle||"",collapseProps:{isOpen:i},onToggle:this._onToggle,onTextChange:this.handleHeadingChange,requestContext:this.props.context.request,telemetryContent:this.telemetryContent},accordionSlots:e});return t(s)}_onToggle(e){if(!e.isOpen&&"ExpandOneItemOnly"===this.props.interactionStyle){const e={isAllExpanded:!1};this.props.context.actionContext.update((0,l.i)(e),e)}}};u=(0,r.Cg)([s.PA],u);const h=u},341:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});n(4);var o=n(5),r=(n(3),n(10)),a=n(2),i=n(1),c=n(8),s=n.n(c),d=n(16),l=n(0),p=n(260);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let h=class extends l.PureComponent{constructor(e){super(e),this.expandAllButtonRef=l.createRef(),this.collapseAllButtonRef=l.createRef(),this.handleHeadingChange=e=>this.props.config.heading.text=e.target.value,this._onExpandAll=this._onExpandAll.bind(this),this._onCollapseAll=this._onCollapseAll.bind(this),this.telemetryContent=(0,i.getTelemetryObject)(this.props.context.request.telemetryPageName,this.props.friendlyName,this.props.telemetry),this.payLoad=(0,i.getPayloadObject)("click",this.telemetryContent,""),this.state={isDisabled:!1}}render(){const{slots:e}=this.props,{heading:t,className:n}=this.props.config,o=t&&t.text&&l.createElement(a.Text,{className:"ms-accordion-header-section__heading",tag:t.tag||"h1",text:t.text,editProps:{onEdit:this.handleHeadingChange,requestContext:this.props.context.request}}),r=u(u({},this.props),{},{AccordionContainer:{moduleProps:this.props,className:s()("ms-accordion",n)},HeaderSection:{className:"ms-accordion-header-section"},HeadingWrapper:{className:"ms-accordion-header-section-container"},heading:o,config:this.props&&this.props.config,accordianButtonsContainer:{tag:"div",className:"ms-accordion-header-section-toggle-button-container"},accordionButtons:this._renderAccordionButton(),accordionItemContainer:{tag:"div",className:"ms-accordion-item-section"},accordionItems:e&&e.accordionItems&&e.accordionItems.length>0&&e.accordionItems.map(((e,t)=>this._getAccordionItem(e,t)))});return this.props.renderView(r)}_renderAccordionButton(){const{config:e,resources:t}=this.props,{heading:n}=e;this.payLoad.contentAction.etext=i.TelemetryConstant.ExpandAll;const o=(0,i.getTelemetryAttributes)(this.telemetryContent,this.payLoad);this.payLoad.contentAction.etext=i.TelemetryConstant.CollapseAll;const r=(0,i.getTelemetryAttributes)(this.telemetryContent,this.payLoad);return e.showToggleAll?l.createElement(l.Fragment,null,l.createElement("button",Object.assign({disabled:this.state.isDisabled,className:"ms-accordion_ExpandAll","aria-label":`${t.expandAllText} ${null!=n&&n.text?n.text:""}`,onClick:this._onExpandAll,ref:this.expandAllButtonRef},o),t.expandAllText),"Â ",t.toggleAllSeparator,"Â ",l.createElement("button",Object.assign({className:"ms-accordion_CollapseAll","aria-label":`${t.collapseAllText} ${null!=n&&n.text?n.text:""}`,onClick:this._onCollapseAll,ref:this.collapseAllButtonRef},r,{disabled:!this.state.isDisabled}),t.collapseAllText)):(this.props.context.telemetry.error("Accordion button content is empty, module wont render"),null)}_onExpandAll(){const e={isAllExpanded:!0};this.props.context.actionContext.update((0,p.i)(e),e),e.isAllExpanded&&(this.setState({isDisabled:!0}),setTimeout((()=>{var e;null===(e=this.collapseAllButtonRef.current)||void 0===e||e.focus()}),50))}_onCollapseAll(){const e={isAllExpanded:!1};this.props.context.actionContext.update((0,p.i)(e),e),e.isAllExpanded||(this.setState({isDisabled:!1}),setTimeout((()=>{var e;null===(e=this.expandAllButtonRef.current)||void 0===e||e.focus()}),50))}_getAccordionItem(e,t){return l.createElement(l.Fragment,{key:t},l.cloneElement(e,{interactionStyle:this.props.config.interactionStyle}))}};h=(0,r.Cg)([d.PA],h);const g=h},600:(e,t,n)=>{n.r(t),n.d(t,{createAccordionStateInput:()=>a,default:()=>c,getGenericActionDataAction:()=>i});var o=n(2),r=n(6);function a(e){return new r.GenericInput("accordionExpandedState",e,"IAccordionExpandedState")}const i=(0,o.createObservableDataAction)({action:r.getGenericAction,input:()=>a({})}),c=i},1264:(e,t,n)=>{var o=n(5);n(4);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const i={modules:{},dataActions:{}};i.modules.accordion={c:()=>n(341),$type:"moduleDefinition",da:[{name:"accordionExpandedState",path:"@msdyn365-commerce-modules/accordion/dist/lib/data-actions/accordion-state-data-action",runOn:0}],iNM:!0,ns:"@msdyn365-commerce-modules",n:"accordion",p:"accordion",pdp:"",md:"node_modules/@msdyn365-commerce-modules/accordion/dist/lib/modules/accordion"};{const e="@msdyn365-commerce-modules/accordion/dist/lib/data-actions/accordion-state-data-action";let t=n(600);((e,t)=>{if(i.dataActions[e]=t,!i.dataActions[e].default)throw new Error("Data action path "+e+" does not have a default export");i.dataActions[e].default.prototype.RegistrationId=e,i.dataActions[e].default.prototype.id&&(i.dataActions[i.dataActions[e].default.prototype.id]=e)})(e,t)}window.__bindings__=window.__bindings__||{},window.__bindings__.modules=a(a({},window.__bindings__.modules||{}),i.modules),window.__bindings__.dataActions=a(a({},window.__bindings__.dataActions||{}),i.dataActions);const c={};c["__local__|__local__|themes|peetsaw|views|accordion"]={c:()=>n(1265),cn:"__local__-__local__-accordion"},c["@msdyn365-commerce-modules|accordion|modules|accordion|accordion"]={c:()=>n(1266),cn:"@msdyn365-commerce-modules-accordion-accordion"},window.__bindings__=window.__bindings__||{},window.__bindings__.viewDictionary=a(a({},window.__bindings__.viewDictionary||{}),c)},1265:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});n(3);var o=n(1),r=n(0);const a=e=>{const{heading:t,AccordionContainer:n,accordionItems:a}=e,i=e.context.request.user.isAuthenticated;return e.heading||e.accordionButtons||e.accordionItems?r.createElement(o.Module,Object.assign({},n,{"data-authenticated":i?"true":"false"}),r.createElement(o.Node,Object.assign({},e.HeaderSection),r.createElement(o.Node,Object.assign({},e.HeadingWrapper),t),e.accordionButtons&&r.createElement(o.Node,Object.assign({},e.accordianButtonsContainer),e.accordionButtons)),r.createElement(o.Node,Object.assign({},e.accordionItemContainer),a)):(e.context.telemetry.error("Accordion content is empty, module wont render"),null)}},1266:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});n(3);var o=n(1),r=n(0);const a=e=>{const{heading:t,AccordionContainer:n,accordionItems:a}=e;return e.heading||e.accordionButtons||e.accordionItems?r.createElement(o.Module,Object.assign({},n),r.createElement(o.Node,Object.assign({},e.HeaderSection),r.createElement(o.Node,Object.assign({},e.HeadingWrapper),t),e.accordionButtons&&r.createElement(o.Node,Object.assign({},e.accordianButtonsContainer),e.accordionButtons)),r.createElement(o.Node,Object.assign({},e.accordionItemContainer),a)):(e.context.telemetry.error("Accordion content is empty, module wont render"),null)}}},e=>{e.O(0,[0,3,2,4,5,6,7,8,9],(()=>{return t=1264,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=a7bc68d82dc9dff9ff74.bundle.js.map