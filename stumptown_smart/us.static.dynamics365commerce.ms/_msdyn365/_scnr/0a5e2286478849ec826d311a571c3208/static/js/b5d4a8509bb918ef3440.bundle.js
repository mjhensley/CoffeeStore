/*! For license information please see b5d4a8509bb918ef3440.bundle.js.LICENSE.txt */
(self.webpackChunkMsdyn365_Commerce_Online=self.webpackChunkMsdyn365_Commerce_Online||[]).push([[11],{17:(e,t,n)=>{"use strict";n.d(t,{ActionMenuComponent:()=>c.F,AddOrderTemplateToCartComponent:()=>m.cz,AddToCartBehavior:()=>u.XZ,AddToCartComponent:()=>u.Cx,AddToOrderTemplateComponent:()=>m.yy,AddToOrderTemplateDialog:()=>m.R8,AddToWishlistComponent:()=>d.R,Carousel:()=>r.A,CartIconComponent:()=>i.L,CartLineItemComponent:()=>p.h,CartLinePriceEditor:()=>p.j,DuplicateItemsWhenAddingToOrderTemplateDialog:()=>m.QB,ItemAddedToCartDialog:()=>m.bq,ItemAddedToOrderTemplateDialog:()=>m.lW,ItemSuccessfullyAddedToCartNotification:()=>u.NT,LinesAddedToOrderTemplateDialog:()=>m.Vn,OrderDetailsProduct:()=>u.os,OrderTemplateNameDialog:()=>m.YW,Player:()=>a.Player,PriceComponent:()=>h.F,ProductComponent:()=>g.z,ProductComponentSwatchComponent:()=>g.y,ProductComponentV2SwatchComponent:()=>f.ProductComponentV2SwatchComponent,ProductDimensionsMatrix:()=>y.y,PromoCodeComponent:()=>o.y,RatingComponent:()=>s.X,RefinerComponent:()=>v.nh,RefinerItemType:()=>v.T7,RefinerOptionsComponent:()=>v.Ti,RefinerOptionsType:()=>v.Ss,RenameOrderTemplateComponent:()=>m.qZ,SaveCartToOrderTemplateComponent:()=>m._z,SearchBarComponent:()=>_.L,SocialMedia:()=>l.q,SocialMediaComponent:()=>l.b,SwatchComponent:()=>C.SwatchComponent,TableCellComponent:()=>b.UQ,TableCellContentType:()=>b.aE,TableComponent:()=>b.Or,TableHeaderComponent:()=>b.zH,TableRowComponent:()=>b.eM,WishListIconComponent:()=>T.W,getProductConfigure:()=>C.getProductConfigure,getUpdatedRefinementCriteria:()=>v.ed,isMatchingRefinementCriterion:()=>v.gU});var a=n(691),r=n(1159),i=n(1160),o=n(1161),s=n(481),l=n(1105),c=n(1162),u=n(695),d=n(1167),p=n(1168),m=n(698),h=n(483),g=n(1169),f=n(1173);n.o(f,"ProductDimensionsMatrix")&&n.d(t,{ProductDimensionsMatrix:function(){return f.ProductDimensionsMatrix}}),n.o(f,"RefinerComponent")&&n.d(t,{RefinerComponent:function(){return f.RefinerComponent}}),n.o(f,"RefinerItemType")&&n.d(t,{RefinerItemType:function(){return f.RefinerItemType}}),n.o(f,"RefinerOptionsComponent")&&n.d(t,{RefinerOptionsComponent:function(){return f.RefinerOptionsComponent}}),n.o(f,"RefinerOptionsType")&&n.d(t,{RefinerOptionsType:function(){return f.RefinerOptionsType}}),n.o(f,"SearchBarComponent")&&n.d(t,{SearchBarComponent:function(){return f.SearchBarComponent}}),n.o(f,"SwatchComponent")&&n.d(t,{SwatchComponent:function(){return f.SwatchComponent}}),n.o(f,"TableCellComponent")&&n.d(t,{TableCellComponent:function(){return f.TableCellComponent}}),n.o(f,"TableCellContentType")&&n.d(t,{TableCellContentType:function(){return f.TableCellContentType}}),n.o(f,"TableComponent")&&n.d(t,{TableComponent:function(){return f.TableComponent}}),n.o(f,"TableHeaderComponent")&&n.d(t,{TableHeaderComponent:function(){return f.TableHeaderComponent}}),n.o(f,"TableRowComponent")&&n.d(t,{TableRowComponent:function(){return f.TableRowComponent}}),n.o(f,"WishListIconComponent")&&n.d(t,{WishListIconComponent:function(){return f.WishListIconComponent}}),n.o(f,"getProductConfigure")&&n.d(t,{getProductConfigure:function(){return f.getProductConfigure}}),n.o(f,"getUpdatedRefinementCriteria")&&n.d(t,{getUpdatedRefinementCriteria:function(){return f.getUpdatedRefinementCriteria}}),n.o(f,"isMatchingRefinementCriterion")&&n.d(t,{isMatchingRefinementCriterion:function(){return f.isMatchingRefinementCriterion}});var C=n(484);n.o(C,"ProductDimensionsMatrix")&&n.d(t,{ProductDimensionsMatrix:function(){return C.ProductDimensionsMatrix}}),n.o(C,"RefinerComponent")&&n.d(t,{RefinerComponent:function(){return C.RefinerComponent}}),n.o(C,"RefinerItemType")&&n.d(t,{RefinerItemType:function(){return C.RefinerItemType}}),n.o(C,"RefinerOptionsComponent")&&n.d(t,{RefinerOptionsComponent:function(){return C.RefinerOptionsComponent}}),n.o(C,"RefinerOptionsType")&&n.d(t,{RefinerOptionsType:function(){return C.RefinerOptionsType}}),n.o(C,"SearchBarComponent")&&n.d(t,{SearchBarComponent:function(){return C.SearchBarComponent}}),n.o(C,"TableCellComponent")&&n.d(t,{TableCellComponent:function(){return C.TableCellComponent}}),n.o(C,"TableCellContentType")&&n.d(t,{TableCellContentType:function(){return C.TableCellContentType}}),n.o(C,"TableComponent")&&n.d(t,{TableComponent:function(){return C.TableComponent}}),n.o(C,"TableHeaderComponent")&&n.d(t,{TableHeaderComponent:function(){return C.TableHeaderComponent}}),n.o(C,"TableRowComponent")&&n.d(t,{TableRowComponent:function(){return C.TableRowComponent}}),n.o(C,"WishListIconComponent")&&n.d(t,{WishListIconComponent:function(){return C.WishListIconComponent}}),n.o(C,"getUpdatedRefinementCriteria")&&n.d(t,{getUpdatedRefinementCriteria:function(){return C.getUpdatedRefinementCriteria}}),n.o(C,"isMatchingRefinementCriterion")&&n.d(t,{isMatchingRefinementCriterion:function(){return C.isMatchingRefinementCriterion}});var y=n(1174),v=n(1175),_=n(1176),b=n(1177),T=n(1178)},133:(e,t,n)=>{"use strict";var a=n(39),r=n(28),i=n(128),o=n(53),s=n(47),l=n(110),c=n(50),u=n(60),d=n(101),p=n(160),m=n(152),h=n(129),g=r("".indexOf);i("match",(function(e,t,n){return[function(t){var n=u(this),r=s(t)?d(t,e):void 0;return r?a(r,t,n):new RegExp(t)[e](c(n))},function(e){var a=o(this),r=c(e),i=n(t,a,r);if(i.done)return i.value;var s=c(m(a));if(-1===g(s,"g"))return h(a,r);var u=-1!==g(s,"u");a.lastIndex=0;for(var d,f=[],C=0;null!==(d=h(a,r));){var y=c(d[0]);f[C]=y,""===y&&(a.lastIndex=p(r,l(a.lastIndex),u)),C++}return 0===C?null:f}]}))},213:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var a=n(10),r=n(2),i=n(14),o=n(1),s=n(8),l=n.n(s),c=n(0),u=function(e){var t,n,a;return null!==(a=null!==(n=null!==(t=e.data.price.AdjustedPrice)&&void 0!==t?t:e.data.price.TradeAgreementPrice)&&void 0!==n?n:e.data.price.BasePrice)&&void 0!==a?a:0},d=function(e,t,n,a){return void 0===t?"":n&&0===t&&e.freePriceText?e.freePriceText:e.context.cultureFormatter.formatCurrency(t,a)},p=function(e){var t,n,a;return null!==(t=e.isPriceMinMaxEnabled)&&void 0!==t&&t&&((null===(n=e.product)||void 0===n?void 0:n.ProductTypeValue)===i.ProductType.Master||(null===(a=e.product)||void 0===a?void 0:a.ProductTypeValue)===i.ProductType.KitMaster)&&void 0!==e.data.price.MinVariantPrice&&void 0!==e.data.price.MaxVariantPrice},m=function(e){var t,n=d(e,e.data.price.MaxVariantPrice,!1,e.currencyCode),a=d(e,e.data.price.MinVariantPrice,!1,e.currencyCode);return e.isPriceMinMaxEnabled&&e.data.price.MaxVariantPrice&&e.data.price.MinVariantPrice&&e.data.price.MaxVariantPrice>e.data.price.MinVariantPrice?c.createElement("span",{className:"msc-price__pricerange",itemProp:"price"},c.createElement("span",{className:"msc-price__minprice",itemProp:"price"},a),c.createElement("span",{className:"msc-price__separator",itemProp:"price"},null===(t=e.priceResources)||void 0===t?void 0:t.priceRangeSeparator),c.createElement("span",{className:"msc-price__maxprice",itemProp:"price"},n)):c.createElement("span",{className:"msc-price__actual",itemProp:"price"},d(e,function(e){return p(e)&&void 0!==e.data.price.MinVariantPrice?e.data.price.MinVariantPrice:void 0!==e.data.price.CustomerContextualPrice?e.data.price.CustomerContextualPrice:u(e)}(e),!0,e.currencyCode))},h=r.msdyn365Commerce.createComponent("Price",(0,a.Cl)({component:function(e){var t,n,r;if(void 0===e.data.price.CustomerContextualPrice)return null;if(e.isSalesAgreementPriceFeatureEnabled&&0!==e.data.price.SalesAgreementPrice){var i=(0,a.zs)(c.useState(!1),2),s=i[0],h=i[1];return c.createElement("span",{className:l()("msc-price",e.className)},c.createElement("span",{className:l()("msc-price__salesagreementprice",e.className)},c.createElement("p",{className:"msc-price__actual",itemProp:"price"},d(e,null!==(t=e.data.price.SalesAgreementPrice)&&void 0!==t?t:e.data.price.CustomerContextualPrice,!0)),c.createElement(o.Button,{className:s?"msc-price__salesagreementprompt_expanded":"msc-price__salesagreementprompt_collapsed","aria-label":null===(n=e.priceResources)||void 0===n?void 0:n.salesAgreementPricePrompt,onClick:function(){h(!s)},"aria-expanded":s,tabIndex:0},null===(r=e.priceResources)||void 0===r?void 0:r.salesAgreementPricePrompt),s&&function(e){var t,n,a,r,i,s,u,d=(null!==(t=e.data.price.AttainablePriceLines)&&void 0!==t?t:[])[0];return c.createElement("p",{className:l()("msc-price__salesagreementdetail",e.className)},c.createElement("p",null," Â· "+(0,o.format)(null!==(a=null===(n=e.priceResources)||void 0===n?void 0:n.salesAgreementExpirationDatePrompt)&&void 0!==a?a:"",e.context.cultureFormatter.formatDate(d.EffectiveDate),e.context.cultureFormatter.formatDate(d.ExpirationDate))),c.createElement("p",null," Â· "+(0,o.format)(null!==(i=null===(r=e.priceResources)||void 0===r?void 0:r.salesAgreementCommittedQuantityPrompt)&&void 0!==i?i:"",d.CommittedQuantity)),c.createElement("p",null," Â· "+(0,o.format)(null!==(u=null===(s=e.priceResources)||void 0===s?void 0:s.salesAgreementRemainingQuantityPrompt)&&void 0!==u?u:"",d.RemainingQuantity)))}(e)))}return c.createElement("span",{className:l()("msc-price",e.className)},function(e){var t=u(e),n=p(e)?e.data.price.MinVariantPrice:e.data.price.CustomerContextualPrice;return!(!n||!t)&&n<t}(e)?function(e){var t=d(e,u(e),!0);return c.createElement(c.Fragment,null,c.createElement("span",{className:"sr-only"}," ",e.originalPriceText," ",t," ",e.currentPriceText," ",m(e)),c.createElement("span",{className:"msc-price__strikethrough","aria-hidden":"true"},t," "),c.createElement("span",{"aria-hidden":"true"},m(e)),e.savingsText&&c.createElement("span",{className:"msc-price__savings"},e.savingsText))}(e):m(e))}},{}))},276:(e,t,n)=>{"use strict";n.d(t,{cK:()=>a,iW:()=>f,iQ:()=>c,AH:()=>m,X$:()=>C,GP:()=>r,Eo:()=>y,q4:()=>l,oT:()=>i,nr:()=>v,bD:()=>u,sg:()=>h,Cq:()=>d,n_:()=>g,w1:()=>s,Bq:()=>o});var a;n(15),n(18),n(12),n(19),n(71);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e?e.replace(/{(\d+)}/g,((e,t)=>{if(t>=n.length)return e;const a=n[t];return"number"==typeof a||a?"string"==typeof a?a:a.toString():""})):""}function i(e){return!e||"string"!=typeof e||!o(e)}function o(e){return e&&"string"==typeof e?e.trim?e.trim():e.replace(/^\s+|\s+$/g,""):e}function s(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(!e||!t)&&(n&&(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase()),e.startsWith,e.startsWith(t))}function l(e){return e&&e.textContent||""}function c(e,t){!e||i(t)||function(e,t){if(!e||i(t))return!1;if(e.classList)return e.classList.contains(t);return`' ' ${e.className} ' '`.includes(`' ' ${o(t)}  ' '`)}(e,t)||(e.classList?e.classList.add(t):e.className=o(`${e.className} ${t}`))}function u(e){if(!e)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}function d(e,t){return p(e,t)}function p(e,t){if(i(e)||"#"===e)return[];const n=t||document;if(/^[#.]?[\w-]+$/.test(e)){switch(e[0]){case".":return n.getElementsByClassName?u(n.getElementsByClassName(e.slice(1))):u(n.querySelectorAll(e));case"#":const t=n.querySelector(e);return t?[t]:[]}return u(n.getElementsByTagName(e))}return u(n.querySelectorAll(e))}function m(e,t,n){return e?n||""===n?void(e.style[t]=n):(n=e.style[t],i(n)&&(n=getComputedStyle(e),n=n[t]),n):null}function h(e){e&&(e.innerHTML="")}function g(e,t){const n=p(e,t);return n&&n.length?n[0]:null}!function(e){e[e.Back=8]="Back",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Break=19]="Break",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e[e.Print=44]="Print",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Colon2=59]="Colon2",e[e.Equals2=61]="Equals2",e[e.Equals3=107]="Equals3",e[e.Minus2=109]="Minus2",e[e.Period=190]="Period",e[e.WindowsLeft=91]="WindowsLeft",e[e.WindowsRight=92]="WindowsRight",e[e.WindowsOpera=219]="WindowsOpera",e[e.Menu=93]="Menu",e[e.NumPad0=96]="NumPad0",e[e.NumPad1=97]="NumPad1",e[e.NumPad2=98]="NumPad2",e[e.NumPad3=99]="NumPad3",e[e.NumPad4=100]="NumPad4",e[e.NumPad5=101]="NumPad5",e[e.NumPad6=102]="NumPad6",e[e.NumPad7=103]="NumPad7",e[e.NumPad8=104]="NumPad8",e[e.NumPad9=105]="NumPad9",e[e.NumPadMultiply=106]="NumPadMultiply",e[e.NumPadPlus=107]="NumPadPlus",e[e.NumPadMinus=109]="NumPadMinus",e[e.NumPadDot=110]="NumPadDot",e[e.NumPadDivide=111]="NumPadDivide",e[e.Function1=112]="Function1",e[e.Function2=113]="Function2",e[e.Function3=114]="Function3",e[e.Function4=115]="Function4",e[e.Function5=116]="Function5",e[e.Function6=117]="Function6",e[e.Function7=118]="Function7",e[e.Function8=119]="Function8",e[e.Function9=120]="Function9",e[e.Function10=121]="Function10",e[e.Function11=122]="Function11",e[e.Function12=123]="Function12",e[e.NavigationUp=138]="NavigationUp",e[e.NavigationDown=139]="NavigationDown",e[e.NavigationLeft=140]="NavigationLeft",e[e.NavigationRight=141]="NavigationRight",e[e.NavigationAccept=142]="NavigationAccept",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Colon=186]="Colon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Minus=189]="Minus",e[e.ForwardSlash=191]="ForwardSlash",e[e.Tilde=192]="Tilde",e[e.GamepadA=195]="GamepadA",e[e.GamepadB=196]="GamepadB",e[e.GamepadX=197]="GamepadX",e[e.GamepadY=198]="GamepadY",e[e.GamepadRightButton=199]="GamepadRightButton",e[e.GamepadLeftButton=200]="GamepadLeftButton",e[e.GamepadLeftTrigger=201]="GamepadLeftTrigger",e[e.GamepadRightTrigger=202]="GamepadRightTrigger",e[e.GamepadDPadUp=203]="GamepadDPadUp",e[e.GamepadDPadDown=204]="GamepadDPadDown",e[e.GamepadDPadLeft=205]="GamepadDPadLeft",e[e.GamepadDPadRight=206]="GamepadDPadRight",e[e.GamepadSelect=207]="GamepadSelect",e[e.GamepadStart=208]="GamepadStart",e[e.GamepadLeftThumbstick=209]="GamepadLeftThumbstick",e[e.GamepadRightThumbstick=210]="GamepadRightThumbstick",e[e.GamepadLeftThumbstickUp=211]="GamepadLeftThumbstickUp",e[e.GamepadLeftThumbstickDown=212]="GamepadLeftThumbstickDown",e[e.GamepadLeftThumbstickRight=213]="GamepadLeftThumbstickRight",e[e.GamepadLeftThumbstickLeft=214]="GamepadLeftThumbstickLeft",e[e.GamepadRightThumbstickUp=215]="GamepadRightThumbstickUp",e[e.GamepadRightThumbstickDown=216]="GamepadRightThumbstickDown",e[e.GamepadRightThumbstickRight=217]="GamepadRightThumbstickRight",e[e.GamepadRightThumbstickLeft=218]="GamepadRightThumbstickLeft",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.Quote=222]="Quote"}(a||(a={}));class f{static ajax(e,t,n){if(!e)return;let a=null;window.XDomainRequest?(a=new XDomainRequest,a.addEventListener("load",(()=>{t&&t(a.responseText),f._removeFromPendingAjaxRequests(a)})),f.pendingAjaxRequests.push(a)):window.XMLHttpRequest&&(a=new XMLHttpRequest,a.onreadystatechange=()=>{if(4===a.readyState){let e=null;200===a.status&&(e=a.responseText),t&&t(e)}}),a&&(a.ontimeout=a.addEventListener("error",(()=>{f._removeFromPendingAjaxRequests(a),n&&n()})),a.open("GET",e,!0),a.send())}static _removeFromPendingAjaxRequests(e){let t=-1;for(let n=0;n<f.pendingAjaxRequests.length;n++)if(e===f.pendingAjaxRequests[n]){t=n;break}t>=0&&f.pendingAjaxRequests.splice(t,1)}}f.pendingAjaxRequests=[];n(9);"undefined"==typeof window||!window.document||window.document.createElement;function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||!t.length)return null;const a="boolean"==typeof t[0]&&t[0];if(t.length<2)return a?null:t[0];if(a&&t.length<3)return t[1];const r=a?t[1]:t[0];for(let e=a?2:1;e<t.length;e++)if(void 0!==t[e])for(const n of Object.keys(t[e]))if(t[e].hasOwnProperty(n)){const i=t[e][n];if(a){let e=Array.isArray?Array.isArray(i):"[object Array]"==={}.toString.call(i),t=!!r[n]&&(Array.isArray?Array.isArray(r[n]):"[object Array]"==={}.toString.call(r[n])),a=!e&&"object"==typeof i,o=!t&&!!r[n]&&"object"==typeof r[n];if(e&&t){for(const[s,l]of i.entries())e=Array.isArray?Array.isArray(l):"[object Array]"==={}.toString.call(l),t=!!r[n][s]&&(Array.isArray?Array.isArray(r[n][s]):"[object Array]"==={}.toString.call(r[n][s])),a=!e&&"object"==typeof l,o=!t&&!!r[n][s]&&"object"==typeof r[n][s],r[n][s]=e?C(!0,t?r[n][s]:[],l):a?C(!0,o?r[n][s]:{},l):l;continue}if(e){r[n]=C(!0,[],i);continue}if(a){r[n]=C(!0,o?r[n]:{},i);continue}}r[n]=i}return r}function y(e){return null===e?null:{width:e.clientWidth,height:e.clientHeight}}function v(){return!(!navigator.vendor||!navigator.userAgent)&&(navigator.vendor.includes("Apple")&&!navigator.userAgent.includes("CriOS")&&!navigator.userAgent.includes("FxiOS"))}},289:(e,t,n)=>{"use strict";n.d(t,{ClosedCaptionTypes:()=>o.sY,MediaEvents:()=>a.W7,MediaQuality:()=>o._M,MediaTypes:()=>o.mI,MenuCategories:()=>a.q5,PlayerConstants:()=>a.jz,VideoErrorCodes:()=>a.wT,VideoPlayerNames:()=>a.hN});var a=n(1151),r=n(1306);n.o(r,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return r.ClosedCaptionHelper}}),n.o(r,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return r.ClosedCaptionTypes}}),n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return r.LocalizationConstants}}),n.o(r,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return r.LocalizationHelper}}),n.o(r,"MediaQuality")&&n.d(t,{MediaQuality:function(){return r.MediaQuality}}),n.o(r,"MediaTypes")&&n.d(t,{MediaTypes:function(){return r.MediaTypes}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return r.PlayerHelper}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}});var i=n(1307);n.o(i,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return i.ClosedCaptionHelper}}),n.o(i,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return i.ClosedCaptionTypes}}),n.o(i,"KeyCodes")&&n.d(t,{KeyCodes:function(){return i.KeyCodes}}),n.o(i,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return i.LocalizationConstants}}),n.o(i,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return i.LocalizationHelper}}),n.o(i,"MediaQuality")&&n.d(t,{MediaQuality:function(){return i.MediaQuality}}),n.o(i,"MediaTypes")&&n.d(t,{MediaTypes:function(){return i.MediaTypes}}),n.o(i,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return i.PlayPauseTrigger}}),n.o(i,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return i.PlayerHelper}}),n.o(i,"VideoControls")&&n.d(t,{VideoControls:function(){return i.VideoControls}}),n.o(i,"format")&&n.d(t,{format:function(){return i.format}}),n.o(i,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return i.isNullOrWhiteSpace}}),n.o(i,"isSafari")&&n.d(t,{isSafari:function(){return i.isSafari}});var o=n(1152),s=(n(1308),n(1309));n.o(s,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return s.ClosedCaptionHelper}}),n.o(s,"KeyCodes")&&n.d(t,{KeyCodes:function(){return s.KeyCodes}}),n.o(s,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return s.LocalizationConstants}}),n.o(s,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return s.LocalizationHelper}}),n.o(s,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return s.PlayPauseTrigger}}),n.o(s,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return s.PlayerHelper}}),n.o(s,"VideoControls")&&n.d(t,{VideoControls:function(){return s.VideoControls}}),n.o(s,"format")&&n.d(t,{format:function(){return s.format}}),n.o(s,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return s.isNullOrWhiteSpace}}),n.o(s,"isSafari")&&n.d(t,{isSafari:function(){return s.isSafari}})},478:(e,t,n)=>{"use strict";n.d(t,{ActionToggle:()=>a.A});var a=n(1148),r=n(1305);n.o(r,"AgeGate")&&n.d(t,{AgeGate:function(){return r.AgeGate}}),n.o(r,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return r.ClosedCaptionHelper}}),n.o(r,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return r.ClosedCaptionTypes}}),n.o(r,"ClosedCaptions")&&n.d(t,{ClosedCaptions:function(){return r.ClosedCaptions}}),n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return r.LocalizationConstants}}),n.o(r,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return r.LocalizationHelper}}),n.o(r,"MediaEvents")&&n.d(t,{MediaEvents:function(){return r.MediaEvents}}),n.o(r,"MenuCategories")&&n.d(t,{MenuCategories:function(){return r.MenuCategories}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"PlayerConstants")&&n.d(t,{PlayerConstants:function(){return r.PlayerConstants}}),n.o(r,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return r.PlayerHelper}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"VideoErrorCodes")&&n.d(t,{VideoErrorCodes:function(){return r.VideoErrorCodes}}),n.o(r,"VideoPlayerNames")&&n.d(t,{VideoPlayerNames:function(){return r.VideoPlayerNames}}),n.o(r,"closedCaptionsSettingDefaults")&&n.d(t,{closedCaptionsSettingDefaults:function(){return r.closedCaptionsSettingDefaults}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}}),n.o(r,"videoClosedCaptionsConstant")&&n.d(t,{videoClosedCaptionsConstant:function(){return r.videoClosedCaptionsConstant}})},479:(e,t,n)=>{"use strict";var a=n(39),r=n(28),i=n(128),o=n(53),s=n(47),l=n(60),c=n(239),u=n(160),d=n(110),p=n(50),m=n(101),h=n(129),g=n(250),f=n(33),C=g.UNSUPPORTED_Y,y=Math.min,v=r([].push),_=r("".slice),b=!f((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),T="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;i("split",(function(e,t,n){var r="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:a(t,this,e,n)}:t;return[function(t,n){var i=l(this),o=s(t)?m(t,e):void 0;return o?a(o,t,i,n):a(r,p(i),t,n)},function(e,a){var i=o(this),s=p(e);if(!T){var l=n(r,i,s,a,r!==t);if(l.done)return l.value}var m=c(i,RegExp),g=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(C?"g":"y"),b=new m(C?"^(?:"+i.source+")":i,f),E=void 0===a?4294967295:a>>>0;if(0===E)return[];if(0===s.length)return null===h(b,s)?[s]:[];for(var x=0,S=0,N=[];S<s.length;){b.lastIndex=C?0:S;var P,w=h(b,C?_(s,S):s);if(null===w||(P=y(d(b.lastIndex+(C?S:0)),s.length))===x)S=u(s,S,g);else{if(v(N,_(s,x,S)),N.length===E)return N;for(var M=1;M<=w.length-1;M++)if(v(N,w[M]),N.length===E)return N;S=x=P}}return v(N,_(s,x)),N}]}),T||!b,C)},480:(e,t,n)=>{"use strict";n.d(t,{RA:()=>T,vh:()=>_,wV:()=>b,qi:()=>E});n(9);var a=n(692),r=n(289),i=n(276);const o={"ar-ab":"Ø¹Ø±Ø¨Ù","ar-xm":"Ø¹Ø±Ø¨Ù","ar-ma":"Ø¹Ø±Ø¨Ù","ar-sa":"Ø¹Ø±Ø¨Ù","eu-es":"Euskara","bg-bg":"ÐÑÐ»Ð³Ð°ÑÑÐºÐ¸","ca-es":"CatalÃ ","zh-cn":"ç®ä½ä¸­æ","zh-hk":"ç¹é«ä¸­æ","zh-tw":"ç¹é«ä¸­æ","hr-hr":"Hrvatski","cs-cz":"ÄeÅ¡tina","da-dk":"Dansk","nl-be":"Nederlands","nl-nl":"Nederlands","en-ab":"English","en-aa":"English","en-au":"English","en-ca":"English","en-eu":"English","en-hk":"English","en-in":"English","en-id":"English","en-ie":"English","en-jm":"English","en-my":"English","en-nz":"English","en-pk":"English","en-ph":"English","en-sg":"English","en-za":"English","en-tt":"English","en-gb":"English","en-us":"English","et-ee":"Eesti","fi-fi":"Suomi","fr-ab":"FranÃ§ais","fr-be":"FranÃ§ais","fr-ca":"FranÃ§ais","fr-fr":"FranÃ§ais","fr-xf":"FranÃ§ais","fr-ch":"FranÃ§ais","gl-es":"Galego","de-de":"Deutsch","de-at":"Deutsch","de-ch":"Deutsch","el-gr":"ÎÎ»Î»Î·Î½Î¹ÎºÎ¬","he-il":"×¢××¨××ª","hi-in":"à¤¹à¤¿à¤à¤¦à¥","hu-hu":"Magyar","is-is":"Ãslenska","id-id":"Bahasa Indonesia","it-it":"Italiano","ja-jp":"æ¥æ¬èª","kk-kz":"ÒÐ°Ð·Ð°Ò","ko-kr":"íêµ­ì´","lv-lv":"LatvieÅ¡u","lt-lt":"LietuviÅ³","ms-my":"Bahasa Melayu (Asia Tenggara)â","nb-no":"Norsk (bokmÃ¥l)","nn-no":"Norsk (nynorsk)","fa-ir":"ÙØ§Ø±Ø³Û","pl-pl":"Polski","pt-br":"PortuguÃªs (Brasil)â","pt-pt":"PortuguÃªs (Portugal)â","ro-ro":"RomÃ¢nÄ","ru-ru":"Ð ÑÑÑÐºÐ¸Ð¹","sr-latn-rs":"Srpski","sk-sk":"SlovenÄina","sl-si":"Slovenski","es-ar":"EspaÃ±ol","es-cl":"EspaÃ±ol","es-co":"EspaÃ±ol","es-cr":"EspaÃ±ol","es-do":"EspaÃ±ol","es-ec":"EspaÃ±ol","es-us":"EspaÃ±ol","es-gt":"EspaÃ±ol","es-hn":"EspaÃ±ol","es-xl":"EspaÃ±ol","es-mx":"EspaÃ±ol","es-ni":"EspaÃ±ol","es-pa":"EspaÃ±ol","es-py":"EspaÃ±ol","es-pe":"EspaÃ±ol","es-pr":"EspaÃ±ol","es-es":"EspaÃ±ol","es-uy":"EspaÃ±ol","es-ve":"EspaÃ±ol","sv-se":"Svenska","tl-ph":"Tagalog","th-th":"à¹à¸à¸¢","tr-tr":"TÃ¼rkÃ§e","uk-ua":"Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°","ur-pk":"Ø§Ø±Ø¯Ù","vi-vn":"Tiáº¿ng Viá»t"},s={"ar-ab":"ar","ar-xm":"ar","ar-ma":"ar","ar-sa":"ar","eu-es":"eu","bg-bg":"bg","ca-es":"ca","zh-cn":"zh","zh-hk":"zh","zh-tw":"zh","hr-hr":"hr","cs-cz":"cs","da-dk":"da","nl-be":"nl","nl-nl":"nl","en-ab":"en","en-aa":"en","en-au":"en","en-ca":"en","en-eu":"en","en-hk":"en","en-in":"en","en-id":"en","en-ie":"en","en-jm":"en","en-my":"en","en-nz":"en","en-pk":"en","en-ph":"en","en-sg":"en","en-za":"en","en-tt":"en","en-gb":"en","en-us":"en","et-ee":"et","fi-fi":"fi","fr-ab":"fr","fr-be":"fr","fr-ca":"fr","fr-fr":"fr","fr-xf":"fr","fr-ch":"fr","gl-es":"gl","de-de":"de","de-at":"de","de-ch":"de","el-gr":"el","he-il":"he","hi-in":"hi","hu-hu":"hu","is-is":"is","id-id":"id","it-it":"it","ja-jp":"ja","kk-kz":"kk","ko-kr":"ko","lv-lv":"lv","lt-lt":"lt","ms-my":"msâ","nb-no":"nb","nn-no":"nn","fa-ir":"fa","pl-pl":"pl","pt-br":"ptâ","pt-pt":"ptâ","ro-ro":"ro","ru-ru":"ru","sr-latn-rs":"sr","sk-sk":"sk","sl-si":"sl","es-ar":"es","es-cl":"es","es-co":"es","es-cr":"es","es-do":"es","es-ec":"es","es-us":"es","es-gt":"es","es-hn":"es","es-xl":"es","es-mx":"es","es-ni":"es","es-pa":"es","es-py":"es","es-pe":"es","es-pr":"es","es-es":"es","es-uy":"es","es-ve":"es","sv-se":"sv","tl-ph":"tl","th-th":"th","tr-tr":"tr","uk-ua":"uk","ur-pk":"ur","vi-vn":"vi"},l="audio_tracks",c="closecaption_off",u="audio_tracks_default",d="cc_customize",p="cc_text_font",m="cc_text_color",h="cc_appearance",g="cc_presettings",f="cc_reset",C="closecaption",y="descriptive_audio",v="unknown_language",_={playVideoAriaLabel:"play video",playAriaLabel:"play",pauseAriaLabel:"pause",closeAriaLabel:"close",optionAriaLabel:"More options",muteAriaLabel:"mute",unMuteAriaLabel:"unmute",fullScreenAriaLabel:"full screen",exitFullScreenAriaLabel:"exit full screen",playingAriaLabel:"paying",pausedAriaLabel:"paused",seekBarLabel:"Seek bar",sliderThumbLabel:"Slider thumb",volumeThumbLabel:"Volume thumb",videoTimeDurationLabel:"Video time duration",closedCaptionLabel:"Closed caption",audio_tracks:"Audio Tracks",descriptive_audio:"Audio descriptions",closecaption_off:"Off",audio_tracks_default:"Default Track",cc_customize:"Customize",cc_text_font:"Font",cc_text_color:"Text color",cc_color_black:"Black",cc_color_blue:"Blue",cc_color_cyan:"Cyan",cc_color_green:"Green",cc_color_grey:"Grey",cc_color_magenta:"Magenta",cc_color_red:"Red",cc_color_white:"White",cc_color_yellow:"Yellow",cc_font_name_casual:"Casual",cc_font_name_cursive:"Cursive",cc_font_name_monospacedsansserif:"Monospaced Sans Serif",cc_font_name_monospacedserif:"Monospaced Serif",cc_font_name_proportionalserif:"Proportional Serif",cc_font_name_proportionalsansserif:"Proportional Sans Serif",cc_font_name_smallcapitals:"Small Capitals",cc_text_size:"Text size",cc_text_size_default:"Default",cc_text_size_extralarge:"Extra Large",cc_text_size_large:"Large",cc_text_size_maximum:"Maximum",cc_text_size_small:"Small",cc_appearance:"Appearance",cc_preset1:"Preset 1 ",cc_preset2:"Preset 2",cc_preset3:"Preset 3",cc_preset4:"Preset 4",cc_preset5:"Preset 5",cc_presettings:"Close captions appearance {0}: ({1}:{2}, {3}:{4})",cc_text_background_color:"Background color",cc_text_background_opacity:"Background opacity",cc_text_opacity:"Text opacity",cc_percent_0:"0%",cc_percent_100:"100%",cc_percent_25:"25%",cc_percent_50:"50%",cc_percent_75:"75%",cc_text_edge_color:"Text edge color",cc_text_edge_style:"Text edge style",cc_text_edge_style_depressed:"Depressed",cc_text_edge_style_dropshadow:"Drop shadow",cc_text_edge_style_none:"No edge",cc_text_edge_style_raised:"Raised",cc_text_edge_style_uniform:"Uniform",cc_window_color:"Window color",cc_window_opacity:"Window opacity",cc_reset:"Reset"};class b{constructor(e){this.playerResources=e}getLocalizedValue(e){return this.playerResources[e]||_[e]||""}getLanguageCodeFromLocale(e){return s[e]||""}getLanguageNameFromLocale(e){return o[e]||this.getLocalizedValue(v)}}class T{constructor(e,t,n){this.playerMetaData=e,this.playerHelper=t,this.localizationHelper=n}checkClosedCaptionsFiles(){return!!(this.playerMetaData.ccFiles&&this.playerMetaData.ccFiles.length>0)}getClosedCaptionMenu(){if(this.playerMetaData.ccFiles&&this.playerMetaData.ccFiles.length>0){const e=this.playerMetaData.ccFiles,t=[];for(const n of e)if(!n.ccType||n.ccType===r.ClosedCaptionTypes.TTML){const e=this.localizationHelper.getLanguageCodeFromLocale(n.locale.toLowerCase()),a={id:this.playerHelper.addIdPrefix(n.locale),label:o[n.locale],language:e,data:n.locale,selected:!1,selectable:!0,persistOnClick:!0,ariaLabel:`${o[n.locale]} ${this.localizationHelper.getLocalizedValue(C)}`};t.push(a)}return t.push({id:this.playerHelper.addIdPrefix("appearance"),label:this.localizationHelper.getLocalizedValue(h),selected:!1,selectable:!1,subMenu:this._getClosedCaptionsSettingsMenu()}),t.unshift({id:this.playerHelper.addIdPrefix("off"),label:this.localizationHelper.getLocalizedValue(c),selected:!1,data:"off",selectable:!0,persistOnClick:!0,ariaLabel:`${this.localizationHelper.getLocalizedValue(c)} ${this.localizationHelper.getLocalizedValue(C)}`}),{category:r.MenuCategories.ClosedCaption,id:this.playerHelper.addIdPrefix(r.MenuCategories.ClosedCaption),label:this.localizationHelper.getLocalizedValue(C),items:t}}return null}getUpdatedClosedCaptionSetting(e,t,n){if(t===a.videoClosedCaptionsConstant.presetKey){const t=a.closedCaptionsPresetMap[n];return{window_color:e.window_color,window_opacity:e.window_opacity,text_background_color:t.text_background_color,text_background_opacity:t.text_background_opacity,text_color:t.text_color,text_edge_style:t.text_edge_style,text_font:t.text_font,text_opacity:t.text_opacity,text_size:t.text_size,preset:n}}return this._getOptionValue(t,n)?(e[a.videoClosedCaptionsConstant.presetKey]="none",e[t]=n,e):e}getClosedCaptionURLFromLocale(e){let t="";const n=this.playerMetaData.ccFiles;for(const a of n)a.locale===e&&(t=a.url);return t}_getOptionValue(e,t){const n=a.closedCaptionsSettingsMap[e];if(n){const e=a.closedCaptionsSettingsOptions[n.option];return e&&e.map[t]}return""}_getClosedCaptionsSettingsMenu(){const e=[];for(const t of Object.keys(a.closedCaptionsSettingsMap)){const n=a.closedCaptionsSettingsMap[t],i=a.closedCaptionsSettingsOptions[n.option],o=[];for(const e in i.map)o.push({id:this._getCCMenuItemId(t,e),label:this.localizationHelper.getLocalizedValue(`${i.pre}${e}`),selectable:!0,selected:!1,persistOnClick:!0,data:`${t}:${e}`});o.unshift({id:"",label:this.localizationHelper.getLocalizedValue(`cc_${t}`),ariaLabel:`${t} - go back to previous menu`,selectable:!1,selected:!1,persistOnClick:!1,isBackButton:!0}),e.push({id:this.playerHelper.addIdPrefix(`${t}_item`),label:this.localizationHelper.getLocalizedValue(`cc_${t}`),selectable:!1,subMenu:{id:this._getCCSettingsMenuId(t),category:r.MenuCategories.ClosedCaptionSettings,items:o,label:this.localizationHelper.getLocalizedValue(`cc_${t}`)}})}e.unshift({id:"",label:this.localizationHelper.getLocalizedValue(d),ariaLabel:"Customize - go back to previous menu",selectable:!1,selected:!1,persistOnClick:!1,isBackButton:!0});const t={id:this.playerHelper.addIdPrefix(r.MenuCategories.ClosedCaptionSettings),label:this.localizationHelper.getLocalizedValue(d),category:r.MenuCategories.ClosedCaptionSettings,items:e},n=[];for(const e of Object.keys(a.closedCaptionsPresetMap)){const t=a.closedCaptionsPresetMap[e],r=t.text_font,o=t.text_color,s=(0,i.GP)(this.localizationHelper.getLocalizedValue(g),"",this.localizationHelper.getLocalizedValue(p),this.localizationHelper.getLocalizedValue(`cc_font_name_${r}`),this.localizationHelper.getLocalizedValue(m),this.localizationHelper.getLocalizedValue(`cc_color_${o}`));n.push({id:this._getCCMenuItemId(a.videoClosedCaptionsConstant.presetKey,e),label:this.localizationHelper.getLocalizedValue(`cc_${e}`),data:`preset:${e}`,selectable:!0,selected:!1,persistOnClick:!0,ariaLabel:s,hasMouseHoverEvents:!0})}return n.push({id:this.playerHelper.addIdPrefix("cc-customize"),label:this.localizationHelper.getLocalizedValue(d),subMenu:t,hasMouseHoverEvents:!0}),n.push({id:"reset",label:this.localizationHelper.getLocalizedValue(f),data:"reset",persistOnClick:!0,hasMouseHoverEvents:!0}),n.unshift({id:"",label:this.localizationHelper.getLocalizedValue(h),ariaLabel:"Appreance - go back to previous menu",selectable:!1,selected:!1,persistOnClick:!1,isBackButton:!0,hasMouseHoverEvents:!0}),{id:this._getCCSettingsMenuId(a.videoClosedCaptionsConstant.presetKey),label:this.localizationHelper.getLocalizedValue(h),category:r.MenuCategories.ClosedCaptionSettings,items:n}}_getCCMenuItemId(e,t){return this.playerHelper.addIdPrefix(`cc-${e}-${t}`)}_getCCSettingsMenuId(e){return this.playerHelper.addIdPrefix(`cc-${e}`)}}n(15),n(19);class E{constructor(e,t,n){this.onErrorCallback=(e,t)=>{console.log(`ErrorType : ${e}, Message : ${t}`)},this.playerProps=e,this.localizationHelper=t,this._isMobileDevice=n}getMetadata(){return this._mapVideoFiles(),this._setCCFiles(),this._setAudioTracks(),this.playerProps.playerData.metaData}updatePlayerProps(e){this.playerProps=e,this._clearVideoPlayerMetaData()}getOptionMenu(){const e=this._getAudioTracksMenu();if(null===e)return null;const t=[];return t.push({id:this.addIdPrefix("audioTracks"),label:this.localizationHelper.getLocalizedValue(l),selected:!1,selectable:!1,subMenu:e}),{category:r.MenuCategories.Options,id:this.addIdPrefix(r.MenuCategories.Options),label:"Options",items:t}}getPosterFrameUrl(){let e="";return!this.playerProps.playerData.options.hidePosterFrame&&this.playerProps.playerData.metaData.posterframeUrl&&(e=this._removeProtocolFromUrl(this.playerProps.playerData.metaData.posterframeUrl),this.playerProps.playerData.options.thumbnailFullWidth&&(e=e.indexOf("?")>0?`${e}&w=${r.PlayerConstants.thumbnailFullWidth}&h=${r.PlayerConstants.thumbnailFullHeight}`:`${e}?w=${r.PlayerConstants.thumbnailFullWidth}&h=${r.PlayerConstants.thumbnailFullHeight}`)),e}getVideoFileToPlay(){let e={url:"",mediaType:r.MediaTypes.MP4,quality:r.MediaQuality.LO};const t=this.playerProps.playerData.metaData,n=this._getVideoFileByType(r.MediaTypes.MP4,t.videoFiles);if(this._isMobileDevice&&this.playerProps.playerData.options.mobileVideoQuality){const e=this._getVideoFileByQuality(this.playerProps.playerData.options.mobileVideoQuality.toUpperCase(),n);if(e)return e}const a=this._getVideoFileByQuality(r.MediaQuality.HDX,n);if(null!==a)e=a;else{const t=this._getVideoFileByQuality(r.MediaQuality.HQ,n);if(null!==t)e=t;else{const t=this._getVideoFileByQuality(r.MediaQuality.SD,n);if(null!==t)e=t;else{const t=this._getVideoFileByQuality(r.MediaQuality.LO,n);null!==t&&(e=t)}}}return e}isEmptyOrUndefined(e){return void 0===e||""===e}addIdPrefix(e){const t=this.isEmptyOrUndefined(this.playerProps.playerId)?null:`${this.playerProps.playerId}-`;return t&&!(0,i.w1)(e,t,!1)?t+e:e}removeIdPrefix(e){const t=this.isEmptyOrUndefined(this.playerProps.playerId)?null:`${this.playerProps.playerId}-`;return t&&(0,i.w1)(e,t,!1)?e.substring(t.length):e}_getAudioTracksMenu(){const e=[],t=this.playerProps.playerData.metaData;if(void 0!==t.audioTracks&&t.audioTracks.length>0){let n=0;for(const e of t.audioTracks)e.isDescriptiveAudio&&n++;let a=0;for(const r of t.audioTracks){let t,i="";if(r.isDescriptiveAudio){const e=this.localizationHelper.getLocalizedValue(y);if(n>1){const n=this.localizationHelper.getLanguageNameFromLocale(r.languageCode);t=`${e} - ${n}`}else t=e;i=`daudio-${r.languageCode.toLowerCase()}`}else t=this.localizationHelper.getLanguageNameFromLocale(r.languageCode),i=r.languageCode.toLowerCase();const o={label:t,language:i,data:r.url,id:this.addIdPrefix(`audio-${a}`),selected:!1,selectable:!0,persistOnClick:!0};e.push(o),a++}return e.unshift({id:"",label:this.localizationHelper.getLocalizedValue(u),ariaLabel:this.localizationHelper.getLocalizedValue(u),language:"default",data:"default",selectable:!0,selected:!1,persistOnClick:!0}),e.unshift({id:"",label:this.localizationHelper.getLocalizedValue(l),ariaLabel:`${this.localizationHelper.getLocalizedValue(l)} - go back to previous menu`,selectable:!1,selected:!1,persistOnClick:!1,isBackButton:!0}),{category:r.MenuCategories.AudioTracks,id:this.addIdPrefix(r.MenuCategories.AudioTracks),label:this.localizationHelper.getLocalizedValue(l),items:e}}return null}_clearVideoPlayerMetaData(){this.playerProps.playerData.metaData.videoFiles=[],this.playerProps.playerData.metaData.audioTracks=[],this.playerProps.playerData.metaData.ccFiles=[]}_setCCFiles(){const e=this.playerProps.playerData.metaData,t=[];if(!(e.ccFiles&&e.ccFiles.length>0)&&e.videoBinaryReferences&&e.videoBinaryReferences.length>0){for(const n of e.videoBinaryReferences)if(n.extension&&"ttml"===n.extension||"videoClosedCaptionBinaryReference"===n.$type){const e={ccType:r.ClosedCaptionTypes.TTML,locale:n.locale,url:n.sourceHref};t.push(e)}this.playerProps.playerData.metaData.ccFiles=t}}_setAudioTracks(){const e=this.playerProps.playerData.metaData,t=[];if(e.videoBinaryReferences&&e.videoBinaryReferences.length>0)for(const n of e.videoBinaryReferences)if(n.$type&&"audioBinaryReference"===n.$type){const e={isDescriptiveAudio:"descriptiveAudio"===n.audioType,bitrate:n.bitrate,languageCode:void 0===n.locale?"":n.locale,name:n.alias,url:n.clientHref};t.push(e)}this.playerProps.playerData.metaData.audioTracks=t}_mapVideoFiles(){const e=this.playerProps.playerData.metaData;if(!e.videoFiles||0===e.videoFiles.length){const t=[],n=e.videoBinaryReferences;if(n&&n.length>0)for(const e of n)if(e.format){if("1001"===e.format)continue;const n=this._getMediaTypeAndQuality(e.format);let a;a=n.mediaType===r.MediaTypes.MP4?e.clientHref:e.sourceHref,a&&(a=this._removeProtocolFromUrl(a)),a&&t.push({url:a,quality:n.quality,mediaType:n.mediaType,formatCode:e.format})}this.playerProps.playerData.metaData.videoFiles=t}}_getMediaTypeAndQuality(e){let t=r.MediaTypes.MP4,n=r.MediaQuality.SD;switch(e){case"101":t=r.MediaTypes.MP4,n=r.MediaQuality.LO;break;case"102":default:t=r.MediaTypes.MP4,n=r.MediaQuality.SD;break;case"103":t=r.MediaTypes.MP4,n=r.MediaQuality.HQ;break;case"104":t=r.MediaTypes.MP4,n=r.MediaQuality.HDX;break;case"105":t=r.MediaTypes.MP4,n=r.MediaQuality.HD;break;case"1004":t=r.MediaTypes.SMOOTH;break;case"1006":t=r.MediaTypes.HLS;break;case"1007":t=r.MediaTypes.DASH}return{mediaType:t,quality:n}}_removeProtocolFromUrl(e){return e.replace(/(^\w+:|^)\/\//,"//")}_getVideoFileByQuality(e,t){let n=null;for(const a of t)if(a.quality===e){n=a;break}return n}_getVideoFileByType(e,t){const n=[];for(const a of t)a.mediaType===e&&n.push(a);return n}}},481:(e,t,n)=>{"use strict";n.d(t,{X:()=>p});n(25);var a=n(10),r=n(2),i=n(0),o=n.n(i),s={onSliderChanged:function(e,t,n){var a=Number.parseInt(e.target.value,10);n({rating:a,lastSelectedRating:a}),t.onChange&&t.onChange(a)},onMouseLeave:function(e,t,n){n({rating:t.lastSelectedRating,lastSelectedRating:t.lastSelectedRating})},onMouseOver:function(e,t,n){n({rating:d(e),lastSelectedRating:t.lastSelectedRating})},onClick:function(e,t,n){if(!t.readOnly){var a=d(e);n({rating:a,lastSelectedRating:a}),t.onChange&&t.onChange(a)}}},l=function(e){var t,n=e.readOnly?e.avgRating:e.initialRating||0,r=(0,a.zs)((0,i.useState)({rating:n,lastSelectedRating:n}),2),l=r[0],d=r[1];(0,i.useEffect)((function(){var t=e.readOnly?e.avgRating:e.initialRating||0;d({rating:t,lastSelectedRating:t})}),[e]);var p=null!==(t=e.shouldShowFullRatingDescription)&&void 0!==t&&t,m=p||"reviews-list"===e.typeName;return o().createElement("div",{className:"msc-rating  "+(l.rating>0?"msc-no-ratings":"")+" "+(e.className?e.className:"")},c(e.readOnly,l.rating,e.ariaLabel,e.ratingCountAriaLabel,(function(t){s.onSliderChanged(t,e,d)})),o().createElement("div",{"aria-hidden":!0,onMouseLeave:e.readOnly?void 0:function(e){s.onMouseLeave(e,l,d)},className:"msc-rating__group"},u(l.rating,e,(function(e){s.onMouseOver(e,l,d)}),(function(t){s.onClick(t,e,d)}))),e.ratingCount&&o().createElement("output",{"aria-hidden":!0,className:"msc-rating__count"}," ",m?e.avgRating+" / 5 ("+e.ratingCount+")":e.ratingCount," "))};l.defaultProps={avgRating:0};var c=function(e,t,n,a,r){return e?o().createElement("div",{className:"msc-rating__range sr-only"},n+(a?" "+a:"")):o().createElement("input",{type:"range",className:"msc-rating__range",min:0,max:5,step:1,value:t,"aria-valuemax":5,"aria-valuemin":0,"aria-valuenow":t,onChange:r,"aria-label":n})},u=function(e,t,n,a){for(var r=Math.floor(e),i=e-r,s=i<.75?r:r+1,l=.25<=i&&i<.75?s+1:0,c=[],u=1;u<=5;u++){var d=s>=u?"msc-rating__star":l===u?"msc-rating__half-star":"msc-rating__empty-star";c.push(o().createElement("span",{className:d,"data-index":u,key:u,onMouseOver:t.readOnly?void 0:n,onClick:a,role:"presentation"}))}return c},d=function(e){var t=e.target;return Number.parseInt(t.getAttribute("data-index"),10)},p=r.msdyn365Commerce.createComponent("Rating",(0,a.Cl)({component:l},s))},483:(e,t,n)=>{"use strict";n.d(t,{F:()=>a.F});var a=n(213)},484:(e,t,n)=>{"use strict";n.d(t,{SwatchComponent:()=>o.e,getProductConfigure:()=>r.q});var a=n(699);n.o(a,"ProductDimensionsMatrix")&&n.d(t,{ProductDimensionsMatrix:function(){return a.ProductDimensionsMatrix}}),n.o(a,"RefinerComponent")&&n.d(t,{RefinerComponent:function(){return a.RefinerComponent}}),n.o(a,"RefinerItemType")&&n.d(t,{RefinerItemType:function(){return a.RefinerItemType}}),n.o(a,"RefinerOptionsComponent")&&n.d(t,{RefinerOptionsComponent:function(){return a.RefinerOptionsComponent}}),n.o(a,"RefinerOptionsType")&&n.d(t,{RefinerOptionsType:function(){return a.RefinerOptionsType}}),n.o(a,"SearchBarComponent")&&n.d(t,{SearchBarComponent:function(){return a.SearchBarComponent}}),n.o(a,"SwatchComponent")&&n.d(t,{SwatchComponent:function(){return a.SwatchComponent}}),n.o(a,"TableCellComponent")&&n.d(t,{TableCellComponent:function(){return a.TableCellComponent}}),n.o(a,"TableCellContentType")&&n.d(t,{TableCellContentType:function(){return a.TableCellContentType}}),n.o(a,"TableComponent")&&n.d(t,{TableComponent:function(){return a.TableComponent}}),n.o(a,"TableHeaderComponent")&&n.d(t,{TableHeaderComponent:function(){return a.TableHeaderComponent}}),n.o(a,"TableRowComponent")&&n.d(t,{TableRowComponent:function(){return a.TableRowComponent}}),n.o(a,"WishListIconComponent")&&n.d(t,{WishListIconComponent:function(){return a.WishListIconComponent}}),n.o(a,"getProductConfigure")&&n.d(t,{getProductConfigure:function(){return a.getProductConfigure}}),n.o(a,"getUpdatedRefinementCriteria")&&n.d(t,{getUpdatedRefinementCriteria:function(){return a.getUpdatedRefinementCriteria}}),n.o(a,"isMatchingRefinementCriterion")&&n.d(t,{isMatchingRefinementCriterion:function(){return a.isMatchingRefinementCriterion}});var r=n(1171),i=n(1324);n.o(i,"ProductDimensionsMatrix")&&n.d(t,{ProductDimensionsMatrix:function(){return i.ProductDimensionsMatrix}}),n.o(i,"RefinerComponent")&&n.d(t,{RefinerComponent:function(){return i.RefinerComponent}}),n.o(i,"RefinerItemType")&&n.d(t,{RefinerItemType:function(){return i.RefinerItemType}}),n.o(i,"RefinerOptionsComponent")&&n.d(t,{RefinerOptionsComponent:function(){return i.RefinerOptionsComponent}}),n.o(i,"RefinerOptionsType")&&n.d(t,{RefinerOptionsType:function(){return i.RefinerOptionsType}}),n.o(i,"SearchBarComponent")&&n.d(t,{SearchBarComponent:function(){return i.SearchBarComponent}}),n.o(i,"SwatchComponent")&&n.d(t,{SwatchComponent:function(){return i.SwatchComponent}}),n.o(i,"TableCellComponent")&&n.d(t,{TableCellComponent:function(){return i.TableCellComponent}}),n.o(i,"TableCellContentType")&&n.d(t,{TableCellContentType:function(){return i.TableCellContentType}}),n.o(i,"TableComponent")&&n.d(t,{TableComponent:function(){return i.TableComponent}}),n.o(i,"TableHeaderComponent")&&n.d(t,{TableHeaderComponent:function(){return i.TableHeaderComponent}}),n.o(i,"TableRowComponent")&&n.d(t,{TableRowComponent:function(){return i.TableRowComponent}}),n.o(i,"WishListIconComponent")&&n.d(t,{WishListIconComponent:function(){return i.WishListIconComponent}}),n.o(i,"getUpdatedRefinementCriteria")&&n.d(t,{getUpdatedRefinementCriteria:function(){return i.getUpdatedRefinementCriteria}}),n.o(i,"isMatchingRefinementCriterion")&&n.d(t,{isMatchingRefinementCriterion:function(){return i.isMatchingRefinementCriterion}});var o=n(1172)},653:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var a=n(2),r=n(6),i=n(0),o=function(e){var t=e.products,n=e.className,a=e.imageSettings;return i.createElement("div",{className:n+"__products"},l(e.context,n+"__products",t,a))},s=function(e,t,n,o){var s,l,c,u,d;return i.createElement("div",{className:t+"__image-props"},i.createElement(a.Image,{requestContext:e.actionContext.requestContext,src:null!==(s=n.ProductDetails.PrimaryImageUrl)&&void 0!==s?s:"",fallBackSrc:null!==(u=(0,r.getFallbackImageUrl)(n.ProductDetails.ItemId,e.actionContext.requestContext.apiSettings,null===(c=null===(l=e.request.app)||void 0===l?void 0:l.config)||void 0===c?void 0:c.OmniChannelMedia))&&void 0!==u?u:"",gridSettings:e.request.gridSettings,imageSettings:null!=o?o:{viewports:{xs:{q:"w=140&h=140&m=6",w:0,h:0},lg:{q:"w=140&h=140&m=6",w:0,h:0},xl:{q:"w=140&h=140&m=6",w:0,h:0}},lazyload:!0},loadFailureBehavior:"empty",altText:null!==(d=n.ProductDetails.Name)&&void 0!==d?d:"image"}))},l=function(e,t,n,a){return i.createElement("div",{className:t+"__image-container"},i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},n.length>0&&s(e,t,n[0],a)),i.createElement("div",{className:"column"},n.length>1&&s(e,t,n[1],a))),i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},n.length>2&&s(e,t,n[2],a)),i.createElement("div",{className:"column"},n.length>3&&s(e,t,n[3],a))))}},691:(e,t,n)=>{"use strict";n.d(t,{Player:()=>s});n(15),n(18),n(133),n(9);var a=n(2),r=n(1),i=n(0),o=n(1147);class s extends i.Component{constructor(e){super(e),this.controlPanelTimer=0,this.player=i.createRef(),this.audio=i.createRef(),this.playerContainer=i.createRef(),this.videoControl=i.createRef(),this.ClosedCaptions=i.createRef(),this.ageGateContainer=i.createRef(),this.videoUrl="",this.posterFrameUrl="",this.seekFrom=null,this.closedCaptionHelper=null,this.closedCaptionMenu=null,this.optionsMenu=null,this.selectedClosedCaptionsLocale="",this.isPlayerManuallyPaused=!1,this.isPlayerLoaded=!1,this._renderClosedCaptions=()=>i.createElement(o.ClosedCaptions,{ref:this.ClosedCaptions,className:`${o.VideoPlayerNames.videoplayerContainer}__ccoverlay`,showClosedCaptions:this.state.showClosedCaptions,currentTime:this.state.playPosition.currentTime,ccLanguage:this.state.closedCaptionLanguage,ccURL:this.state.closedCaptionsURL,errorCallback:this.playerHelper.onErrorCallback,isVideoControlVisible:this.state.isControlPanelVisible||this.state.doControlsHaveFocus,currentClosedCaptionsSettings:this.state.currentClosedCaptionsSettings,tempClosedCaptionsSettings:this.state.tempClosedCaptionsSettings,onClosedCaptionClick:this._onTriggerClicked}),this._renderPlayPauseTrigger=(e,t)=>{const{playerData:{options:{autoplay:n,playPauseTrigger:r,controls:s,shouldDisableAutoPlayOnMobile:l}}}=this.props;return!a.msdyn365Commerce.isBrowser&&r&&n&&l?i.createElement("div",{className:`${o.VideoPlayerNames.videoplayerContainer}__playpausetrigger__container`}):!r||s&&!this.state.isTriggerEnabled||this.state.isAgegateEnabled?void 0:i.createElement(o.PlayPauseTrigger,{className:`${o.VideoPlayerNames.videoplayerContainer}__playpausetrigger`,style:t,onChange:this._onTriggerClicked,toggled:this.state.playing,"aria-hidden":!this.state.mouseHovered,playAriaLabel:e,pauseAriaLabel:this.localizationHelper.getLocalizedValue("pauseAriaLabel"),onFocus:this._onTriggerFocus,onBlur:this._onTriggerBlur,telemetryContent:this.props.telemetryContent})},this._renderVideoControls=e=>{const{playerData:{options:{controls:t}}}=this.props;if(t&&!this.state.isTriggerEnabled&&!this.state.isAgegateEnabled)return i.createElement(o.VideoControls,{ref:this.videoControl,className:`${o.VideoPlayerNames.videoplayerContainer}__controls ${this.state.isControlPanelVisible||this.state.doControlsHaveFocus?"show":"hide"}`,"aria-hidden":!(this.state.isControlPanelVisible||this.state.doControlsHaveFocus),onPlayClick:this._onTriggerClicked,playing:this.state.playing,closedCaptionMenu:this.closedCaptionMenu,optionMenu:this.optionsMenu,videoSeekSteps:o.PlayerConstants.defaultVideoSliderSteps,volumeSeekSteps:o.PlayerConstants.defaultVolumeSliderSteps,isMuted:this.state.isMuted,onMuteClick:this._setMuted,onVolumeChange:this._onVolumeChange,onProgressChange:this._onProgressChange,playPosition:this.state.playPosition,currentClosedCaptionLanguage:this.state.closedCaptionLanguage,currentVolume:this.state.currentVolume,isInFullScreen:this.state.isInFullScreen,toggleFullScreen:this._toggleFullScreen,handleControlsKeyDownHandler:this._handleControlsKeyDownEvent,isControlPanelVisible:this.state.isControlPanelVisible||this.state.doControlsHaveFocus,onFocus:this._onVideoControlsFocus,onBlur:this._onVideoControlsBlur,onMenuItemClick:this._onPlayerMenuItemClick,onMenuItemFocus:this._onPlayerMenuItemFocus,onMenuItemBlur:this._onPlayerMenuItemBlur,currentAudioTrack:this.state.currentAudioTrack,currentAudioTrackURL:this.state.currentAudioTrackURL,currentClosedCaptionsSetting:this.state.currentClosedCaptionsSettings,isMobileDevice:this.isMobileDevice,telemetryContent:this.props.telemetryContent,resources:{playAriaLabel:e,pauseAriaLabel:this.localizationHelper.getLocalizedValue("pauseAriaLabel"),muteAriaLabel:this.localizationHelper.getLocalizedValue("muteAriaLabel"),unMuteAriaLabel:this.localizationHelper.getLocalizedValue("unMuteAriaLabel"),fullScreenAriaLabel:this.localizationHelper.getLocalizedValue("fullScreenAriaLabel"),exitFullScreenAriaLabel:this.localizationHelper.getLocalizedValue("exitFullScreenAriaLabel"),seekBarLabel:this.localizationHelper.getLocalizedValue("seekBarLabel"),videoTimeDurationLabel:this.localizationHelper.getLocalizedValue("videoTimeDurationLabel"),closedCaptionLabel:this.localizationHelper.getLocalizedValue("closedCaptionLabel"),optionButtonLabel:this.localizationHelper.getLocalizedValue("optionAriaLabel"),sliderThumbLabel:this.localizationHelper.getLocalizedValue("sliderThumbLabel"),volumeThumbLabel:this.localizationHelper.getLocalizedValue("volumeThumbLabel")}})},this._renderAgeGate=()=>i.createElement(o.AgeGate,{ref:this.ageGateContainer,onSubmitClick:this._validateAgeSubmitHandler,"aria-hidden":!this.state.isAgegateEnabled,minmumAge:this.playerMetaData.minimumAge});const{playerData:{options:{shouldDisableAutoPlayOnMobile:t,autoplay:n,playPauseTrigger:s,ageGate:l,controls:c,mute:u,lazyLoad:d,isMobileDevice:p}}}=this.props;this.isMobileDevice=this._isMobile()||p,this._shouldAutoPlay=(!this.isMobileDevice||!t)&&n;const m={playing:!1,mouseHovered:s||!this._shouldAutoPlay,isControlPanelVisible:!s,doControlsHaveFocus:!1,isTriggerEnabled:s&&!this._shouldAutoPlay&&c,currentVolume:u&&!this.isMobileDevice?0:100*o.PlayerConstants.defaultVolume,previousVolume:0,isMuted:null!=u&&u,isInFullScreen:!1,showSpinner:!1,isAgegateEnabled:l&&!this._shouldAutoPlay,showErrorMessage:!1,screenReaderText:"",closedCaptionLanguage:"off",currentAudioTrack:"default",currentAudioTrackURL:"",showClosedCaptions:!1,mounted:!1,currentClosedCaptionsSettings:{preset:o.closedCaptionsSettingDefaults.preset,text_font:o.closedCaptionsSettingDefaults.text_font,text_color:o.closedCaptionsSettingDefaults.text_color,text_opacity:o.closedCaptionsSettingDefaults.text_opacity,text_size:o.closedCaptionsSettingDefaults.text_size,text_edge_style:o.closedCaptionsSettingDefaults.text_edge_style,text_background_color:o.closedCaptionsSettingDefaults.text_background_color,text_background_opacity:o.closedCaptionsSettingDefaults.text_background_opacity,window_color:o.closedCaptionsSettingDefaults.window_color,window_opacity:o.closedCaptionsSettingDefaults.window_opacity},closedCaptionsURL:"",videoErrorMessage:{title:"",message:""},playPosition:{currentTime:0,startTime:0,endTime:0,bufferedDuration:0},tempClosedCaptionsSettings:void 0};this.playerState="init",this._onTriggerClicked=this._onTriggerClicked.bind(this),this._onMouseEvent=this._onMouseEvent.bind(this),this._onPlay=this._onPlay.bind(this),this._onPause=this._onPause.bind(this),this._triggerEvents=this._triggerEvents.bind(this),this._triggerAudioEvents=this._triggerAudioEvents.bind(this),this._onProgressChange=this._onProgressChange.bind(this),this._setMuted=this._setMuted.bind(this),this._onVolumeChange=this._onVolumeChange.bind(this),this._onFullScreenChanged=this._onFullScreenChanged.bind(this),this._toggleFullScreen=this._toggleFullScreen.bind(this),this._showControlBar=this._showControlBar.bind(this),this._handleControlsKeyDownEvent=this._handleControlsKeyDownEvent.bind(this),this._onFullscreenError=this._onFullscreenError.bind(this),this._onPlayerKeyDown=this._onPlayerKeyDown.bind(this),this._onTriggerFocus=this._onTriggerFocus.bind(this),this._onTriggerBlur=this._onTriggerBlur.bind(this),this._onVideoControlsFocus=this._onVideoControlsFocus.bind(this),this._onVideoControlsBlur=this._onVideoControlsBlur.bind(this),this._onPlayerMenuItemClick=this._onPlayerMenuItemClick.bind(this),this._onPlayerMenuItemFocus=this._onPlayerMenuItemFocus.bind(this),this._onPlayerMenuItemBlur=this._onPlayerMenuItemBlur.bind(this),this._validateAgeSubmitHandler=this._validateAgeSubmitHandler.bind(this),this._onContextMenuClicked=this._onContextMenuClicked.bind(this),this.localizationHelper=new o.LocalizationHelper(this.props.playerResources),this.playerHelper=new o.PlayerHelper(this.props,this.localizationHelper,this.isMobileDevice),this.playerId=this.playerHelper.isEmptyOrUndefined(this.props.playerId)?"vid-0":this.props.playerId,this.playerMetaData=this.playerHelper.getMetadata(),this.state=m,this.posterFrameUrl=this.playerHelper.getPosterFrameUrl(),this.payLoad=(0,r.getPayloadObject)("click",this.props.telemetryContent,""),d||(this.videoUrl=this.playerHelper.getVideoFileToPlay().url)}static _isNativeFullscreenEnabled(){const e=document;return e.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.webkitSupportsFullscreen||e.msFullscreenEnabled}static _getElementInFullScreen(){const e=document;return e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement}shouldComponentUpdate(e,t){return this.state!==t||this.props.playerData.options!==e.playerData.options}render(){const{playerData:{options:{loop:e}}}=this.props,t={};t.backgroundColor=this._getMaskLevelStyle(),this.props.isEditor&&(this.playerHelper.updatePlayerProps(this.props),this.playerMetaData=this.playerHelper.getMetadata(),this.posterFrameUrl!==this.playerHelper.getPosterFrameUrl()&&(this.posterFrameUrl=this.playerHelper.getPosterFrameUrl()),this.isPlayerLoaded&&this.videoUrl!==this.playerHelper.getVideoFileToPlay().url&&this._loadPlayer());const n=this._shouldAutoPlay?"auto":"metadata";let a="";return a=this.playerMetaData.title?`${this.localizationHelper.getLocalizedValue("playAriaLabel")} ${this.playerMetaData.title}`:o.LocalizationConstants.playVideoAriaLabel,i.createElement("div",{role:"none",className:`${o.VideoPlayerNames.videoplayerContainer}`,ref:this.playerContainer,onKeyDown:this._onPlayerKeyDown,onMouseEnter:this._onMouseEvent,onMouseLeave:this._onMouseEvent,"data-playerid":this.playerId},i.createElement("div",{className:`${o.VideoPlayerNames.videoplayerContainer}__wrapper`},""!==this.state.currentAudioTrack&&""!==this.state.currentAudioTrackURL&&i.createElement("audio",{ref:this.audio,preload:"auto",src:this.state.currentAudioTrackURL,muted:this.state.isMuted,loop:e}),i.createElement("video",{className:`${o.VideoPlayerNames.videoplayerContainer}__video`,ref:this.player,preload:n,autoPlay:this._shouldAutoPlay,muted:this.state.isMuted,loop:e,onPlay:this._onPlay,onPause:this._onPause,onClick:this.state.isAgegateEnabled?this._onPause:this._onTriggerClicked,src:this.videoUrl,onContextMenu:this._onContextMenuClicked,poster:this.posterFrameUrl,playsInline:!0,"aria-hidden":"true"}),i.createElement("div",{className:`${o.VideoPlayerNames.videoplayerContainer}__errormessage`,role:"status","aria-hidden":!this.state.showErrorMessage},i.createElement("div",{className:`${o.VideoPlayerNames.videoplayerContainer}__errormessage__wrapper`},i.createElement("p",{className:`${o.VideoPlayerNames.videoplayerContainer}__errormessage__heading`},this.state.videoErrorMessage.title))),i.createElement("div",{className:`${o.VideoPlayerNames.videoplayerContainer}__screenreader`,"aria-live":"assertive"},this.state.screenReaderText),i.createElement("div",{className:`${o.VideoPlayerNames.videoplayerContainer}__spinner`,role:"status","aria-hidden":!this.state.showSpinner},i.createElement(r.Waiting,{className:`${o.VideoPlayerNames.videoplayerContainer}__waiting`})),this.props.playerData.options.ageGate&&this._renderAgeGate(),this._renderPlayPauseTrigger(a,t),this.state.showClosedCaptions&&this._renderClosedCaptions(),this._renderVideoControls(a)))}play(){this.player.current.play().catch((()=>{this._onVideoError()})),this.audio.current&&this.audio.current.play().catch((()=>{this._onAudioError()}))}pause(){this.player.current.pause(),this.audio.current&&this.audio.current.pause()}componentDidMount(){const{playerData:{options:{playPauseTrigger:e,lazyLoad:t}}}=this.props;t||(this._onVideoLoadedData(),this._showControlBar(!1)),(this._shouldAutoPlay||t&&!e||!t)&&this._loadPlayer(),document.addEventListener("fullscreenchange",this._onFullScreenChanged),document.addEventListener("mozfullscreenchange",this._onFullScreenChanged),document.addEventListener("webkitfullscreenchange",this._onFullScreenChanged),document.addEventListener("MSFullscreenChange",this._onFullScreenChanged),document.addEventListener("fullscreenerror",this._onFullscreenError),document.addEventListener("mozfullscreenerror",this._onFullscreenError),document.addEventListener("webkitfullscreenerror",this._onFullscreenError),document.addEventListener("MSFullscreenError",this._onFullscreenError)}componentWillUnmount(){if(this.player.current)for(const e of o.MediaEvents)this.player.current.removeEventListener(e,this._triggerEvents);document.removeEventListener("fullscreenchange",this._onFullScreenChanged),document.removeEventListener("mozfullscreenchange",this._onFullScreenChanged),document.removeEventListener("webkitfullscreenchange",this._onFullScreenChanged),document.removeEventListener("MSFullscreenChange",this._onFullScreenChanged),document.removeEventListener("fullscreenerror",this._onFullscreenError),document.removeEventListener("mozfullscreenerror",this._onFullscreenError),document.removeEventListener("webkitfullscreenerror",this._onFullscreenError),document.removeEventListener("MSFullscreenError",this._onFullscreenError)}_loadPlayer(){if(this.player.current){this.player.current.volume=this.state.currentVolume/100;for(const e of o.MediaEvents)this.player.current.addEventListener(e,this._triggerEvents)}if((this.props.playerData.options.lazyLoad||this.props.isEditor)&&(this.videoUrl=this.playerHelper.getVideoFileToPlay().url,this.player.current&&(this.player.current.src=this.videoUrl,this.player.current.load())),this.isPlayerLoaded=!0,this.props.playerData.options.controls){this.closedCaptionHelper=new o.ClosedCaptionHelper(this.playerMetaData,this.playerHelper,this.localizationHelper),this.closedCaptionMenu=this.closedCaptionHelper.getClosedCaptionMenu(),this.optionsMenu=this.playerHelper.getOptionMenu();const e=this.playerMetaData.ccFiles;if(void 0!==e&&e.length>0){const t=this.props.playerData&&this.props.playerData.options.autoCaptions;let n=null;for(const a of e)!n&&t&&a.locale.includes(t)&&(n=a.locale);this.selectedClosedCaptionsLocale=n,(0,o.isNullOrWhiteSpace)(this.selectedClosedCaptionsLocale)||this.setState({closedCaptionLanguage:this.selectedClosedCaptionsLocale,closedCaptionsURL:this.closedCaptionHelper.getClosedCaptionURLFromLocale(this.selectedClosedCaptionsLocale),showClosedCaptions:!0})}}}_validateAgeSubmitHandler(){this.ageGateContainer.current.getCalculatedAge()?(this.videoUrl=this.playerHelper.getVideoFileToPlay().url,this.setState({isAgegateEnabled:!1})):(this.setState({isAgegateEnabled:!0}),this._displayErrorMessage({title:"you are not allowed to watch video"}))}_onVideoControlsFocus(){this.setState({doControlsHaveFocus:!0})}_onVideoControlsBlur(){this._showControlBar(!0),this.setState({doControlsHaveFocus:!1})}_onPlayerMenuItemFocus(e){if(e.data&&e.data.indexOf(":")>0){const t=e.data.split(":"),n=t[0];n===o.videoClosedCaptionsConstant.presetKey&&("off"===this.state.closedCaptionLanguage?this.setState({showClosedCaptions:!0},(()=>{this.ClosedCaptions.current.showSampleCaptions(),this._setCCSettings(e,!1)})):this._setCCSettings(e,!1))}else"off"===this.state.closedCaptionLanguage&&this.setState({showClosedCaptions:!1})}_onPlayerMenuItemBlur(){this._setCCSettings({category:o.MenuCategories.ClosedCaptionSettings,id:"",data:"current"})}_onPlayerMenuItemClick(e){switch(e.category){case o.MenuCategories.ClosedCaption:this._setCC(e.id);break;case o.MenuCategories.ClosedCaptionSettings:this._setCCSettings(e);break;case o.MenuCategories.AudioTracks:this._setAudioTracks(e)}}_setCC(e){e=this.playerHelper.removeIdPrefix(e);let t=null;if(e&&this.playerMetaData.ccFiles)for(const n of this.playerMetaData.ccFiles)if(n.locale===e&&(!n.ccType||n.ccType===o.ClosedCaptionTypes.TTML)){t=n;break}"off"===e?this.setState({closedCaptionLanguage:"off",closedCaptionsURL:"",showClosedCaptions:!1}):this.setState({closedCaptionLanguage:t.locale,closedCaptionsURL:t.url,showClosedCaptions:!0})}_setCCSettings(e,t){if("reset"===e.data)this.setState({currentClosedCaptionsSettings:o.closedCaptionsSettingDefaults},(()=>{null!==this.ClosedCaptions.current&&(this.ClosedCaptions.current.applySettings(),this.ClosedCaptions.current.resetCaptions(),this.ClosedCaptions.current.updateCaptions(this.state.playPosition.currentTime))}));else if("current"===e.data)this.setState({tempClosedCaptionsSettings:void 0}),"off"===this.state.closedCaptionLanguage&&this.setState({showClosedCaptions:!1});else{const n=e.data.split(":");if(!n)return;const a=n[0],r=n[1],i=this.closedCaptionHelper.getUpdatedClosedCaptionSetting(this.state.currentClosedCaptionsSettings,a,r);void 0===t||t?this.setState({tempClosedCaptionsSettings:void 0,currentClosedCaptionsSettings:i},(()=>{this.ClosedCaptions.current&&(this.ClosedCaptions.current.applySettings(),this.ClosedCaptions.current.resetCaptions(),this.ClosedCaptions.current.updateCaptions(this.state.playPosition.currentTime))})):this.setState({tempClosedCaptionsSettings:i})}}_setAudioTracks(e){const t=JSON.parse(e.data);"default"===t.lang?this.setState({currentAudioTrack:"default",currentAudioTrackURL:""},(()=>{this.player.current.volume=this.state.currentVolume/100})):this.setState({currentAudioTrack:t.lang,currentAudioTrackURL:t.url},(()=>{if(this.audio.current.currentTime=this.player.current.currentTime,this.audio.current.volume=this.state.currentVolume/100,this.player.current.volume=0,!this.player.current.paused){this.audio.current.load();for(const e of o.MediaEvents)this.audio.current.addEventListener(e,this._triggerAudioEvents)}}))}_triggerAudioEvents(e){switch(e.type.toLowerCase()){case"error":this._onAudioError();break;case"waiting":"playing"===this.playerState&&(this.isPlayerManuallyPaused=!0,this.pause());break;case"loadeddata":this.isPlayerManuallyPaused&&(this.isPlayerManuallyPaused=!1,this.play()),this.player.current.paused||this.play()}}_triggerEvents(e){switch(e.type.toLowerCase()){case"canplay":case"canplaythrough":case"play":case"loadedmetadata":case"volumechange":break;case"error":this._onVideoError();break;case"pause":this._updateState("paused"),this.props.playerData.options.playPauseTrigger&&this.setState({mouseHovered:!0});break;case"seeking":"ended"!==this.playerState&&this.player.current.seeking&&(this.seekFrom=this.player.current.currentTime,this._updateState("seeking"));break;case"seeked":const e=this.player.current,t=e.currentTime;"ended"!==this.playerState&&this.player.current.seeking&&this.seekFrom!==t&&(this.seekFrom=null),this._updateState(e.paused?"paused":"playing");break;case"waiting":this._updateState("buffering");break;case"loadeddata":this._onVideoLoadedData(),this._shouldAutoPlay||this._showControlBar(!1);break;case"timeupdate":this._onTimeUpdate();break;case"ended":this._updateState("ended"),this._stop();break;case"playing":this._updateState("playing")}}_onAudioError(){this.pause();this._displayErrorMessage({title:"Error while playing audio Track. Switching back to default track"}),this._setAudioTracks({category:"audioTracks",data:'{ "lang": "default", "url": ""}',id:""}),setTimeout((()=>{this.setState({showErrorMessage:!1},(()=>{this.play()}))}),2e3)}_onVideoError(){this._updateState("error");const e=this._getError();let t="";if(null!=e&&e.errorCode){switch(e.errorCode){case o.VideoErrorCodes.MediaErrorAborted:t="video playback was aborted";break;case o.VideoErrorCodes.MediaErrorNetwork:t="video failed to download";break;case o.VideoErrorCodes.MediaErrorDecode:t="video is not readable";break;case o.VideoErrorCodes.MediaErrorSourceNotSupported:t="video format is not supported";break;default:t="unknown error occurred"}this._stopMedia(t)}else this._stopMedia()}_stopMedia(e){e&&(this._displayErrorMessage({title:e}),this._updateState("stopped"))}_displayErrorMessage(e){this.setState({videoErrorMessage:{title:e.title,message:e.message}}),this.setState({showErrorMessage:!0})}_getError(){let e;if(this.player.current.error){switch(this.player.current.error.code){case this.player.current.error.MEDIA_ERR_ABORTED:e=o.VideoErrorCodes.MediaErrorAborted;break;case this.player.current.error.MEDIA_ERR_NETWORK:e=o.VideoErrorCodes.MediaErrorNetwork;break;case this.player.current.error.MEDIA_ERR_DECODE:e=o.VideoErrorCodes.MediaErrorDecode;break;case this.player.current.error.MEDIA_ERR_SRC_NOT_SUPPORTED:e=o.VideoErrorCodes.MediaErrorSourceNotSupported;break;default:e=o.VideoErrorCodes.MediaErrorUnknown}return{errorCode:e}}return null}_handleControlsKeyDownEvent(e){const t=e,n=t.keyCode;switch(this._showControlBar(!0),n){case o.KeyCodes.Home:e.stopPropagation(),e.preventDefault(),this.player.current.currentTime=0,this.audio.current&&(this.audio.current.currentTime=0);break;case o.KeyCodes.End:e.stopPropagation(),e.preventDefault(),this.player.current.currentTime=this.state.playPosition.endTime,this.audio.current&&(this.audio.current.currentTime=this.state.playPosition.endTime);break;case o.KeyCodes.ArrowLeft:case o.KeyCodes.ArrowRight:e.stopPropagation(),e.preventDefault();let t=n===o.KeyCodes.ArrowLeft?this.state.playPosition.currentTime-o.PlayerConstants.defaultVideoSliderSteps:this.state.playPosition.currentTime+o.PlayerConstants.defaultVideoSliderSteps;t=Math.min(Math.max(this.state.playPosition.startTime,t),this.state.playPosition.endTime),this.player.current.currentTime=t,this.audio.current&&(this.audio.current.currentTime=t);break;case o.KeyCodes.ArrowUp:case o.KeyCodes.ArrowDown:e.stopPropagation(),e.preventDefault(),this.videoControl.current.showVolumeControl(!0).call(this);const a=n===o.KeyCodes.ArrowDown?Math.max((this.state.currentVolume-o.PlayerConstants.defaultVolumeSliderSteps)/100,0):Math.min((this.state.currentVolume+o.PlayerConstants.defaultVolumeSliderSteps)/100,1);this.setState({currentVolume:Math.round(100*a)}),this.audio.current?this.audio.current.volume=a:this.player.current.volume=a,0===a?this.setState({isMuted:!0}):this.setState({isMuted:!1})}}_onPlay(){this.setState({playing:!0})}_onPause(){this.setState({playing:!1})}_onVolumeChange(e){this.setState({currentVolume:e.firstThumbValue}),this.audio.current?this.audio.current.volume=e.firstThumbValue/100:this.player.current.volume=e.firstThumbValue/100,0===e.firstThumbValue?this.setState({isMuted:!0}):this.state.isMuted&&e.firstThumbValue>0&&this.setState({isMuted:!1})}_setMuted(){if(this.state.isMuted){const e=0===this.state.previousVolume?100*o.PlayerConstants.defaultVolume:this.state.previousVolume;this.audio.current?this.audio.current.volume=e/100:this.player.current.volume=e/100,this.setState({isMuted:!1,currentVolume:e}),this._updateScreenReaderElement(this.localizationHelper.getLocalizedValue("unMuteAriaLabel")),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.unMuteAriaLabel).call(this)}else this.setState({isMuted:!0,previousVolume:100*this.player.current.volume,currentVolume:0}),this._updateScreenReaderElement(this.localizationHelper.getLocalizedValue("muteAriaLabel")),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.muteAriaLabel).call(this)}_onPlayerKeyDown(e){const t=e,n=t.keyCode;n===o.KeyCodes.Tab&&this._showControlsBasedOnState()}_onMouseEvent(e){this.props.playerData.options.controls&&this._showControlBar(),!this.state.isTriggerEnabled&&this.state.playing&&this.setState({mouseHovered:"mouseenter"===e.type})}_showControlBar(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.isTriggerEnabled||this.state.isAgegateEnabled||(this.state.isControlPanelVisible||this.setState({isControlPanelVisible:!0}),this.controlPanelTimer&&(window&&window.clearTimeout(this.controlPanelTimer),this.controlPanelTimer=0),e&&(this.controlPanelTimer=window&&window.setTimeout((()=>{this._hideControlBar()}),o.PlayerConstants.defaultControlPanelTimeout)))}_hideControlBar(){window&&window.clearTimeout(this.controlPanelTimer),this.controlPanelTimer=0,this.setState({isControlPanelVisible:!1})}_onFullScreenChanged(){this.state.isInFullScreen?this._onFullscreenExit():this._onFullscreenEnter()}_onFullscreenEnter(){this.setState({isInFullScreen:!0})}_onFullscreenExit(){this.setState({isInFullScreen:!1})}_toggleFullScreen(){this.state.isInFullScreen?this._exitFullScreen():this._enterFullScreen()}_onFullscreenError(){this.setState({isInFullScreen:!1})}_enterFullScreen(){if(!s._isNativeFullscreenEnabled())return;const e=this.playerContainer.current,t=s._getElementInFullScreen();if(e&&!t){const t=e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.webkitEnterFullScreen;t.call(e),this._updateScreenReaderElement(this.localizationHelper.getLocalizedValue("fullScreenLabel")),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.fullScreenAriaLabel).call(this)}}_exitFullScreen(){if(!s._isNativeFullscreenEnabled())return;const e=this.playerContainer.current,t=s._getElementInFullScreen();if(e&&e===t){const e=document,t=e.cancelFullScreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitCancelFullScreen;t.call(e),this._updateScreenReaderElement(this.localizationHelper.getLocalizedValue("exitFullScreenLabel")),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.exitFullScreenAriaLabel).call(this)}}_onVideoLoadedData(){if(this._updateState("ready"),this.props.playerData.options.controls){const e=this._getPlayPosition();this.setState({playPosition:e})}}_onTimeUpdate(){if(this.props.playerData.options.controls){const e=this._getPlayPosition();e.endTime=this.state.playPosition.endTime,this.setState({playPosition:e}),this.state.playing&&"buffering"===this.playerState&&this._updateState("playing")}}_getBufferedDuration(){let e=0;return this.player.current.buffered&&this.player.current.buffered.length&&(e=this.player.current.buffered.end(this.player.current.buffered.length-1)),e}_getPlayPosition(){const e=this._getBufferedDuration();return{currentTime:this.player.current.currentTime,startTime:0,endTime:this.player.current.duration,bufferedDuration:e}}_onProgressChange(e){let t=e.firstThumbValue;const n=this._getPlayPosition();t=Math.max(n.startTime,Math.min(t,n.endTime)),Math.abs(t-n.currentTime)>=o.PlayerConstants.defaultPositionUpdateThreshold&&(this.player.current.currentTime=t,this.audio.current&&(this.audio.current.currentTime=t))}_onTriggerClicked(){const e=this.player.current;this.isPlayerLoaded?e.paused?(this.play(),this._updateScreenReaderElement(this.localizationHelper.getLocalizedValue("playingAriaLabel")),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.playAriaLabel).call(this),this.videoControl.current&&this.videoControl.current.setFocusOnPause()):(this.pause(),this._updateScreenReaderElement(this.localizationHelper.getLocalizedValue("pausedAriaLabel")),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.pauseAriaLabel).call(this),this.videoControl.current&&this.videoControl.current.setFocusOnPlay()):(this._loadPlayer(),this.player.current.autoplay=!0),this.state.isTriggerEnabled&&(this.setState({isTriggerEnabled:!1},(()=>{setTimeout((()=>{this.videoControl.current&&this.videoControl.current.setFocusOnPause()}),500)})),(0,r.onTelemetryClick)(this.props.telemetryContent,this.payLoad,o.LocalizationConstants.pauseAriaLabel).call(this),this.props.playerData.options.playFullScreen&&this._enterFullScreen())}_stop(){if((0,o.isSafari)()?this._seek(.1):this._seek(0),this.props.playerData.options.controls){this.pause();const e=this._getPlayPosition();e.endTime=this.state.playPosition.endTime,this.setState({playPosition:e}),this.audio.current&&this.audio.current.pause()}}_seek(e){const t=this._getPlayPosition();e=Math.max(t.startTime,Math.min(e,t.endTime)),Math.abs(e-t.currentTime)>=o.PlayerConstants.defaultPositionUpdateThreshold&&(this.seekFrom=t.currentTime,this.player.current.currentTime=e,this.audio.current&&(this.audio.current.currentTime=e))}_getMaskLevelStyle(){let e="";if(this.state.isTriggerEnabled){const t=this.props.playerData.options.maskLevel||o.PlayerConstants.defaultMaskLevel;e=(0,o.format)("rgba(0,0,0,{0})",Number(t)/100)}return e}_updateState(e){e&&e!==this.playerState&&(this.playerState=e,this._showControlsBasedOnState(),this._showSpinnerBasedOnState())}_showSpinnerBasedOnState(){switch(this.playerState){case"ready":case"playing":case"paused":case"ended":case"stopped":case"error":this._hideSpinner();break;default:this._showSpinner()}}_showControlsBasedOnState(){switch(this.playerState){case"error":case"loading":case"init":this._hideControlBar();break;case"ended":case"ready":case"paused":case"stopped":this._showControlBar(!1);break;default:this._showControlBar(!0)}}_hideSpinner(){this.setState({showSpinner:!1})}_showSpinner(){this.setState({showSpinner:!0})}_onTriggerFocus(){this.setState({mouseHovered:!0})}_onTriggerBlur(){!this.state.isTriggerEnabled&&this.state.playing&&this.setState({mouseHovered:!1})}_updateScreenReaderElement(e){this.setState({screenReaderText:e})}_onContextMenuClicked(e){e.preventDefault()}_isMobile(){if(a.msdyn365Commerce.isBrowser){const e=window.navigator.userAgent,t=!!e.match(/iphone/i),n=!!e.match(/silk/i),a=!!e.match(/windows phone/i),r=!a&&(n||!!e.match(/android/i));return t||a||r}return!1}}s.defaultProps={playerData:{options:{autoplay:!0,ageGate:!1,mute:!0,loop:!1,playPauseTrigger:!1,controls:!0,hidePosterFrame:!1,lazyLoad:!0},metaData:{playerName:"videoPlayer",videoId:"",title:"",description:"",duration:0,posterframeUrl:"",shareUrl:"",videoFiles:[],externalPlayerUrl:"",externalSourceId:"",videoBinaryReferences:[]}},playerResources:{playAriaLabel:o.LocalizationConstants.playAriaLabel,pauseAriaLabel:o.LocalizationConstants.pauseAriaLabel,closeAriaLabel:o.LocalizationConstants.closeAriaLabel,muteAriaLabel:o.LocalizationConstants.muteAriaLabel,unMuteAriaLabel:o.LocalizationConstants.unMuteAriaLabel,fullScreenAriaLabel:o.LocalizationConstants.fullScreenAriaLabel,exitFullScreenAriaLabel:o.LocalizationConstants.exitFullScreenAriaLabel,pausedAriaLabel:o.LocalizationConstants.pausedAriaLabel,playingAriaLabel:o.LocalizationConstants.playingAriaLabel,seekBarLabel:o.LocalizationConstants.seekBarLabel,videoTimeDurationLabel:o.LocalizationConstants.videoTimeDurationLabel,closedCaptionLabel:o.LocalizationConstants.closedCaptionLabel,sliderThumbLabel:o.LocalizationConstants.sliderThumbLabel,volumeThumbLabel:o.LocalizationConstants.volumeThumbLabel}}},692:(e,t,n)=>{"use strict";n.d(t,{ClosedCaptions:()=>a.A,closedCaptionsPresetMap:()=>i.DZ,closedCaptionsSettingDefaults:()=>i.aO,closedCaptionsSettingsMap:()=>i.HU,closedCaptionsSettingsOptions:()=>i.tP,videoClosedCaptionsConstant:()=>i.h7});var a=n(1104),r=n(1311);n.o(r,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return r.ClosedCaptionHelper}}),n.o(r,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return r.ClosedCaptionTypes}}),n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return r.LocalizationConstants}}),n.o(r,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return r.LocalizationHelper}}),n.o(r,"MediaEvents")&&n.d(t,{MediaEvents:function(){return r.MediaEvents}}),n.o(r,"MenuCategories")&&n.d(t,{MenuCategories:function(){return r.MenuCategories}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"PlayerConstants")&&n.d(t,{PlayerConstants:function(){return r.PlayerConstants}}),n.o(r,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return r.PlayerHelper}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"VideoErrorCodes")&&n.d(t,{VideoErrorCodes:function(){return r.VideoErrorCodes}}),n.o(r,"VideoPlayerNames")&&n.d(t,{VideoPlayerNames:function(){return r.VideoPlayerNames}}),n.o(r,"closedCaptionsPresetMap")&&n.d(t,{closedCaptionsPresetMap:function(){return r.closedCaptionsPresetMap}}),n.o(r,"closedCaptionsSettingDefaults")&&n.d(t,{closedCaptionsSettingDefaults:function(){return r.closedCaptionsSettingDefaults}}),n.o(r,"closedCaptionsSettingsMap")&&n.d(t,{closedCaptionsSettingsMap:function(){return r.closedCaptionsSettingsMap}}),n.o(r,"closedCaptionsSettingsOptions")&&n.d(t,{closedCaptionsSettingsOptions:function(){return r.closedCaptionsSettingsOptions}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}}),n.o(r,"videoClosedCaptionsConstant")&&n.d(t,{videoClosedCaptionsConstant:function(){return r.videoClosedCaptionsConstant}});var i=n(1153)},693:(e,t,n)=>{"use strict";n.d(t,{Menu:()=>a.A});var a=n(1154),r=n(1313);n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}})},694:(e,t,n)=>{"use strict";n.d(t,{MenuItem:()=>a.A});var a=n(1155),r=n(1312);n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}})},695:(e,t,n)=>{"use strict";n.d(t,{XZ:()=>a,Cx:()=>F,NM:()=>D,NT:()=>T,os:()=>H});n(12);var a,r=n(10),i=n(2),o=n(26),s=n(14),l=n(209),c=n(6),u=n(1),d=n(8),p=n.n(d),m=n(0),h=n.n(m),g=n(483),f=n(653),C=function(e){var t,n,a,i=0;try{for(var o=(0,r.Ju)(e),s=o.next();!s.done;s=o.next()){var l=s.value;i+=null!==(a=l.count)&&void 0!==a?a:1}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},y=function(e){var t=e.errorMessage;return c.StringExtensions.isNullOrEmpty(t)?null:m.createElement("span",{className:"msc-alert-danger msc-alert"},m.createElement("span",{className:"msi-exclamation-triangle","aria-hidden":"true"}),m.createElement("span",null,t))},v=function(e){var t,n=e.dialogStrings,a=e.className,r=e.context,o=e.isModalOpen,l=e.imageSettings,c=e.data.products,d=(0,s.format)(n.itemsAddedToCartFormatText,C(c).toString())+n.itemsAddedToCartHeaderText,p=(0,s.format)(n.linesAddedToCartFormatText,c.length.toString()),m=c.map((function(e){return{ProductDetails:e.product}}));return h().createElement(u.Modal,{isOpen:o,className:a,toggle:e.onClose},h().createElement(u.ModalHeader,{className:a+"__dialog__header",toggle:e.onClose},h().createElement("b",null,p),h().createElement("span",null,n.itemsAddedToCartHeaderText)),h().createElement(u.ModalBody,{className:a+"__dialog__body"},h().createElement("div",{className:a+"__dialog__content"},h().createElement(f.Y,{context:r,className:a+"__dialog",products:m,imageSettings:l}),h().createElement("div",{className:a+"__dialog__description"},h().createElement("div",{className:a+"__dialog__order-template-items"},d)),h().createElement(y,{errorMessage:e.dialogStrings.itemsAddedValidationErrorMessage}))),h().createElement(u.ModalFooter,{className:a+"__dialog__footer"},h().createElement(u.Button,{className:a+"__dialog__view-cart-button",title:n.viewCartButtonText,href:null!==(t=(0,i.getUrlSync)("cart",r.actionContext))&&void 0!==t?t:""},n.viewCartButtonText),h().createElement(u.Button,{className:a+"__dialog__continue-shopping",title:n.closeButtonLabel,onClick:e.onClose},n.closeButtonLabel)))},_=(n(15),n(19),n(213)),b=function(e){function t(t){return e.call(this,t)||this}return(0,r.C6)(t,e),t.prototype.render=function(){var e,n,a,o=(0,u.getPayloadObject)("click",this.props.notification.telemetryContent,u.TelemetryConstant.ContinueShopping),s=(null===(e=this.props.notification.context.app.config)||void 0===e?void 0:e.unitOfMeasureDisplayType)&&"none"!==this.props.notification.context.app.config.unitOfMeasureDisplayType;o.contentAction.etext=u.TelemetryConstant.ViewBagAndCheckout;var d=(0,u.getTelemetryAttributes)(this.props.notification.telemetryContent,o),p=(0,c.getFallbackImageUrl)(this.props.notification.product.ItemId,this.props.notification.context.actionContext.requestContext.apiSettings,null===(a=null===(n=this.props.notification.context.app)||void 0===n?void 0:n.config)||void 0===a?void 0:a.OmniChannelMedia);this.props.notification.imageSettings&&(this.props.notification.imageSettings.cropFocalRegion=!0);var m=this.props.notification.product.Dimensions?this.props.notification.product.Dimensions.reduce((function(e,t){return t.DimensionValue&&t.DimensionValue.Value?e?e+", "+t.DimensionValue.Value:""+t.DimensionValue.Value:e}),""):"",g=l.NotificationContent.className,f=l.NotificationFooter.className;return h().createElement("div",{role:"alert",className:t.className},h().createElement(l.ClosableNotificationWrapper,{notification:this.props.notification},h().createElement(l.DismissibleNotificationWrapper,{notification:this.props.notification},h().createElement(l.NotificationInstance,{notification:this.props.notification},h().createElement(l.NotificationHeader,{notification:this.props.notification},h().createElement(l.NotificationTitle,{notification:this.props.notification}),h().createElement(l.NotificationCloseButton,{notification:this.props.notification})),h().createElement(l.NotificationContent,{notification:this.props.notification},h().createElement(i.Image,{requestContext:this.props.notification.context.actionContext.requestContext,className:g+"__image",src:this.props.notification.product.PrimaryImageUrl||"",fallBackSrc:p,altText:this.props.notification.product.Name,gridSettings:this.props.notification.gridSettings||{},imageSettings:this.props.notification.imageSettings,loadFailureBehavior:"empty"}),h().createElement("div",{className:g+"__product-info"},h().createElement("div",{className:g+"__product-title"},this.props.notification.product.Name),this.props.notification.price?h().createElement("div",{className:g+"__product-price"},h().createElement(_.F,{data:{price:this.props.notification.price},context:this.props.notification.context,id:this.props.notification.id,typeName:this.props.notification.typeName,freePriceText:this.props.notification.resources.freePriceText,originalPriceText:this.props.notification.resources.originalPriceText,currentPriceText:this.props.notification.resources.currentPriceText})):"",this.props.notification.product.DefaultUnitOfMeasure&&s?h().createElement("div",{className:g+"__product-unit-of-measure"},h().createElement("span",null,this.props.notification.product.DefaultUnitOfMeasure)):"",c.StringExtensions.isNullOrWhitespace(m)?null:h().createElement("div",{className:g+"__product-variants"},m),h().createElement("div",{className:g+"__product-quantity"},this.props.notification.resources.addedQuantityText.replace("{0}",this.props.notification.productQuantity.toString())))),h().createElement(l.NotificationFooter,{notification:this.props.notification},this.props.notification.navigationUrl&&h().createElement(u.Button,(0,r.Cl)({className:f+"__go-to-cart",href:this.props.notification.navigationUrl,title:this.props.notification.resources.goToCartText},d),this.props.notification.resources.goToCartText))))))},t.className="msc-notification-item-successfully-added-to-cart",t}(l.BaseNotificationComponent),T=function(e){function t(t,n,a,r,i,o,u,d,p,m,h){var g=e.call(this)||this,f=1===u?n.headerItemOneText:(0,s.format)(n.headerItemFormatText,u.toString());return g.title="<b>"+f+"</b><span>"+n.headerMessageText+"</span>",g.context=t,g.resources=n,g.imageSettings=a,g.gridSettings=r,g.product=i,g.price=o,g.productQuantity=u,g.navigationUrl=d,g.telemetryContent=p,g.componentId=m,g.typeName=h,g.isClosed=!1,g.closeAriaLabel=n.closeNotificationLabel,g.events.setValue(l.NotificationEvents.Close,new c.Event),g}return(0,r.C6)(t,e),t.prototype.close=function(){var e;this.isClosed=!0,null===(e=this.events.getValue(l.NotificationEvents.Close))||void 0===e||e.trigger()},t=(0,r.Cg)([(0,l.withNotificationComponent)(b)],t),t}(l.DismissibleNotification),E=function(e){function t(t){return e.call(this,t)||this}return(0,r.C6)(t,e),t.prototype.render=function(){var e=(0,u.getPayloadObject)("click",this.props.notification.telemetryContent,u.TelemetryConstant.ContinueShopping);e.contentAction.etext=u.TelemetryConstant.ViewBagAndCheckout;var n=(0,u.getTelemetryAttributes)(this.props.notification.telemetryContent,e);this.props.notification.imageSettings&&(this.props.notification.imageSettings.cropFocalRegion=!0);var a=this.props.notification.products.map((function(e){return{ProductDetails:e.product}})),i=t.className,o=l.NotificationFooter.className;return h().createElement("div",{role:"alert",className:i},h().createElement(l.ClosableNotificationWrapper,{notification:this.props.notification},h().createElement(l.DismissibleNotificationWrapper,{notification:this.props.notification},h().createElement(l.NotificationInstance,{notification:this.props.notification},h().createElement(l.NotificationHeader,{notification:this.props.notification},h().createElement(l.NotificationTitle,{notification:this.props.notification}),h().createElement(l.NotificationCloseButton,{notification:this.props.notification})),h().createElement(l.NotificationContent,{notification:this.props.notification},h().createElement(f.Y,{context:this.props.notification.context,className:"msc-notification-content__preview",products:a,imageSettings:this.props.notification.imageSettings}),h().createElement(l.NotificationDescription,{notification:this.props.notification}),h().createElement(y,{errorMessage:this.props.notification.resources.itemsAddedValidationErrorMessage})),h().createElement(l.NotificationFooter,{notification:this.props.notification},this.props.notification.navigationUrl&&h().createElement(u.Button,(0,r.Cl)({className:o+"__go-to-cart",href:this.props.notification.navigationUrl,title:this.props.notification.resources.viewCartButtonText},n),this.props.notification.resources.viewCartButtonText))))))},t.className="msc-notification-items-added-to-cart",t}(l.BaseNotificationComponent),x=function(e){function t(t,n,a,r,i,o,u,d,p){var m=e.call(this)||this,h=(0,s.format)(n.itemsAddedToCartFormatText,C(i).toString()),g=(0,s.format)(n.linesAddedToCartFormatText,i.length.toString());return m.title="<b>"+g+"</b><span>"+n.itemsAddedToCartHeaderText+"</span>",m.descriptionLines=[],m.descriptionLines.push("<b>"+h+"</b><span>"+n.itemsAddedToCartHeaderText+"</span>"),m.context=t,m.resources=n,m.imageSettings=a,m.gridSettings=r,m.products=i,m.navigationUrl=o,m.telemetryContent=u,m.componentId=d,m.typeName=p,m.isClosed=!1,m.closeAriaLabel=n.closeButtonLabel,m.events.setValue(l.NotificationEvents.Close,new c.Event),m}return(0,r.C6)(t,e),t.prototype.close=function(){var e;this.isClosed=!0,null===(e=this.events.getValue(l.NotificationEvents.Close))||void 0===e||e.trigger()},t=(0,r.Cg)([(0,l.withNotificationComponent)(E)],t),t}(l.DismissibleNotification);!function(e){e.goToCart="goToCart",e.showModal="showModal",e.showMiniCart="showMiniCart",e.showNotification="showNotification",e.nothing="nothing"}(a||(a={}));var S=function(e,t){e.onAdd&&e.onAdd(t)},N=function(e,t){e.onError&&e.onError(t)},P=function(e){return(0,r.sH)(void 0,void 0,void 0,(function(){var t,n,a,o,l,u,d,p,m,h,g,f,C,y;return(0,r.YH)(this,(function(v){switch(v.label){case 0:return t=null===(h=e.orderDetailsProducts)||void 0===h?void 0:h.filter((function(e){return!c.ObjectExtensions.isNullOrUndefined(e.simpleProduct)})),n=null===(g=e.context.actionContext.requestContext.channel)||void 0===g?void 0:g.EmailDeliveryModeCode,a=null==t?void 0:t.map((function(e){var t=e.salesLine.DeliveryMode;return{product:e.simpleProduct,count:c.ObjectExtensions.isNullOrUndefined(e.salesLine.Quantity)?1:e.salesLine.Quantity,catalogId:e.salesLine.CatalogId,isAddEmailDeliveryItemToCart:t&&t===n}})),c.ArrayExtensions.hasElements(a)?[2,a]:c.ArrayExtensions.hasElements(e.products)?(o=e.context.actionContext,l=o.requestContext.apiSettings,u=null!==(f=e.catalogId)&&void 0!==f?f:(0,i.getCatalogId)(e.context.actionContext.requestContext),(0,c.validateCatalogId)(u),d={Context:{ChannelId:l.channelId,CatalogId:u},IncludeAttributes:!1,Ids:e.products.map((function(e){return e.productId}))},[4,s.ProductsDataActions.searchByCriteriaAsync({callerContext:o},d)]):[3,2];case 1:return p=v.sent(),m=p.map((function(e){var t=(0,r.Cl)({},e),n=(0,c.generateProductImageUrl)(t,l);return n&&(t.PrimaryImageUrl=n),t})),[2,e.products.map((function(e){var t,n,a=m.find((function(t){return t.RecordId===e.productId}));return n=a?(0,r.Cl)((0,r.Cl)({},a),{ProductTypeValue:s.ProductType.Variant,AdjustedPrice:a.Price,BasePrice:null!==(t=a.BasePrice)&&void 0!==t?t:a.Price}):{RecordId:e.productId},{product:n,count:e.quantity,catalogId:e.catalogId}}))];case 2:return(null===(C=e.data)||void 0===C?void 0:C.product)?[2,[{product:e.data.product,count:null!==(y=e.quantity)&&void 0!==y?y:1,catalogId:e.catalogId}]]:[2,[]]}}))}))},w=function(e,t,n){return(0,r.sH)(void 0,void 0,void 0,(function(){var s,c,u,d,p,m,h,g,f,C,y,v,_;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return s=e.context.app.config.addToCartBehavior,c=e.data,[4,P(e)];case 1:return u=r.sent(),d=u[0].product,p=u[0].count,[4,(0,o.getCartState)(e.context.actionContext)];case 2:return m=r.sent(),[4,m.addProductToCart({product:d,count:p,availableQuantity:null===(f=e.productAvailability)||void 0===f?void 0:f.AvailableQuantity,additionalProperties:{validateQuantity:e.isOrderQuantityLimitsFeatureEnabled},enableStockCheck:e.context.app.config.enableStockCheck,isPriceKeyedIn:e.isPriceKeyedIn,customPrice:e.isPriceKeyedIn?e.customPriceAmount:void 0,isAddEmailDeliveryItemToCart:e.isAddEmailDeliveryItemToCart,shouldSkipSiteSettings:e.shouldSkipSiteSettings,catalogId:u[0].catalogId})];case 3:return h=r.sent(),"SUCCESS"===h.status?(e.dialogStrings&&s===a.showModal?(t(!1),n(!0)):e.dialogStrings&&s===a.showNotification?(t(!1),g=new T(e.context,e.dialogStrings,e.imageSettings,e.gridSettings,d,null==c?void 0:c.price,p,e.navigationUrl,e.telemetryContent,e.id,e.typeName),l.NotificationsManager.instance().addNotification(g)):!i.default.isBrowser||!e.navigationUrl||e.isNavigationToCartPageDisabled||void 0!==s&&s!==a.goToCart?t(!1):window.location.assign(e.navigationUrl),S(e,h)):(l.NotificationsManager.instance().addNotification(new l.ErrorNotification(null!==(y=null===(C=h.errorDetails)||void 0===C?void 0:C.LocalizedMessage)&&void 0!==y?y:"Add to cart failed",null!==(_=null===(v=e.dialogStrings)||void 0===v?void 0:v.closeNotificationLabel)&&void 0!==_?_:"")),N(e,{failureReason:"CARTACTIONFAILED",cartActionResult:h}),t(!1)),[2]}}))}))},M=function(e,t,n,o,c,u,d){return(0,r.sH)(void 0,void 0,void 0,(function(){var p,m,h,g,f,C,y,v,_,b,T,E,N;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return[4,s.CartsDataActions.validateForCheckoutAsync({callerContext:e.context.actionContext,bypassCache:"none"},c.cart.Id,c.cart.Version)];case 1:return p=r.sent(),m=(null!==(v=p.ValidationFailuresByCartLines)&&void 0!==v?v:[]).length,1,h=1===m?null===(_=e.dialogStrings)||void 0===_?void 0:_.oneErrorText:null===(b=e.dialogStrings)||void 0===b?void 0:b.multiErrorsText,g=m>0?(0,s.format)(null!==(E=null===(T=e.dialogStrings)||void 0===T?void 0:T.validationErrorMessage)&&void 0!==E?E:"",m.toString(),h):"",o(g),f=e.context.app.config.addToCartBehavior,e.dialogStrings&&f===a.showModal?(t(!1),n(!0)):e.dialogStrings&&f===a.showNotification?(t(!1),C={viewCartButtonText:e.dialogStrings.goToCartText,closeButtonLabel:e.dialogStrings.closeNotificationLabel,itemsAddedToCartHeaderText:e.dialogStrings.headerMessageText,itemsAddedToCartFormatText:e.dialogStrings.headerItemFormatText,linesAddedToCartFormatText:null!==(N=e.dialogStrings.headerLinesFormatText)&&void 0!==N?N:"{0}",itemsAddedValidationErrorMessage:g},y=new x(e.context,C,e.imageSettings,e.gridSettings,u,e.navigationUrl,e.telemetryContent,e.id,e.typeName),l.NotificationsManager.instance().addNotification(y)):!i.default.isBrowser||!e.navigationUrl||e.isNavigationToCartPageDisabled||void 0!==f&&f!==a.goToCart?t(!1):window.location.assign(e.navigationUrl),S(e,d),[2]}}))}))},A=function(e,t,n,a){return(0,r.sH)(void 0,void 0,void 0,(function(){var i,s,u,d,p,m,h,g,f;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return[4,P(e)];case 1:return i=r.sent(),c.ArrayExtensions.hasElements(i)?[4,(0,o.getCartState)(e.context.actionContext)]:[2];case 2:return s=r.sent(),[4,s.addProductsToCart(i)];case 3:return u=r.sent(),"SUCCESS"!==u.status?[3,5]:[4,M(e,t,n,a,s,i,u)];case 4:return r.sent(),[3,6];case 5:(null===(d=e.dialogStrings)||void 0===d?void 0:d.buyAgainNotificationTitle)?l.NotificationsManager.instance().addNotification(new l.ErrorNotification(e.dialogStrings.buyAgainNotificationTitle,null!==(p=e.dialogStrings.buyAgainNotificationCloseAriaLabel)&&void 0!==p?p:"")):l.NotificationsManager.instance().addNotification(new l.ErrorNotification(null!==(h=null===(m=u.errorDetails)||void 0===m?void 0:m.LocalizedMessage)&&void 0!==h?h:"Add to cart failed",null!==(f=null===(g=e.dialogStrings)||void 0===g?void 0:g.closeNotificationLabel)&&void 0!==f?f:"")),N(e,{failureReason:"CARTACTIONFAILED",cartActionResult:u}),t(!1),r.label=6;case 6:return[2]}}))}))},L={onClick:function(e,t,n,a,i,o){return(0,r.sH)(void 0,void 0,void 0,(function(){var e,s,l,u;return(0,r.YH)(this,(function(r){switch(r.label){case 0:if(!c.ArrayExtensions.hasElements(t.products)){if(e=k(t),e)return N(t,e),[2];n(!0)}return s=c.ArrayExtensions.hasElements(t.orderDetailsProducts)&&t.orderDetailsProducts.length>1,l=c.ArrayExtensions.hasElements(t.products)&&t.products.length>1,u=s||l,t.shouldSkipSiteSettings&&u?[4,A(t,n,i,o)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,w(t,n,a)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}},D=function(e){var t,n,a,o,s,l,c,d,f,C,y,_,b,T,E,x,S,N,w,M,A=(0,r.zs)((0,m.useState)(!1),2),D=A[0],k=A[1],F=(0,r.zs)((0,m.useState)(!1),2),V=F[0],H=F[1],B=(0,r.zs)((0,m.useState)(!1),2),z=B[0],U=B[1],q=(0,r.zs)((0,m.useState)(""),2),W=q[0],K=q[1],Q=(0,r.zs)((0,m.useState)([]),2),$=Q[0],j=Q[1],G=h().useCallback((function(){U(!1)}),[]),Y=(null===(t=e.data)||void 0===t?void 0:t.price)?h().createElement(g.F,{data:{price:e.data.price},context:e.context,id:e.id,typeName:e.typeName,freePriceText:null===(n=e.dialogStrings)||void 0===n?void 0:n.freePriceText,originalPriceText:null===(a=e.dialogStrings)||void 0===a?void 0:a.originalPriceText,currentPriceText:null===(o=e.dialogStrings)||void 0===o?void 0:o.currentPriceText}):"",X={context:e.context,className:"msc-add-to-cart",id:e.id,typeName:e.typeName,data:{product:null===(s=$[0])||void 0===s?void 0:s.product,price:null===(l=e.data)||void 0===l?void 0:l.price},dialogStrings:e.dialogStrings,imageSettings:e.imageSettings,gridSettings:e.context.request.gridSettings,productQuantity:void 0!==(null===(c=$[0])||void 0===c?void 0:c.count)?null===(d=$[0])||void 0===d?void 0:d.count:1,priceComponent:Y,navigationUrl:e.navigationUrl,modalOpen:V,setModalOpen:H,telemetryContent:e.telemetryContent},J={viewCartButtonText:null!==(C=null===(f=e.dialogStrings)||void 0===f?void 0:f.goToCartText)&&void 0!==C?C:"",closeButtonLabel:null!==(_=null===(y=e.dialogStrings)||void 0===y?void 0:y.closeNotificationLabel)&&void 0!==_?_:"Close",itemsAddedToCartHeaderText:null!==(T=null===(b=e.dialogStrings)||void 0===b?void 0:b.headerMessageText)&&void 0!==T?T:"",itemsAddedToCartFormatText:null!==(x=null===(E=e.dialogStrings)||void 0===E?void 0:E.headerItemFormatText)&&void 0!==x?x:"",linesAddedToCartFormatText:null!==(N=null===(S=e.dialogStrings)||void 0===S?void 0:S.headerLinesFormatText)&&void 0!==N?N:"{0}",itemsAddedValidationErrorMessage:W},Z=h().createElement(u.Popup,(0,r.Cl)({},X)),ee=I(e),te=(0,u.getPayloadObject)(i.TelemetryEvent.AddToCart,e.telemetryContent,ee,""),ne=(0,u.getTelemetryAttributes)(e.telemetryContent,te),ae=e.shouldSkipSiteSettings?"":"msc-add-to-cart ";return h().useEffect((function(){(0,r.sH)(void 0,void 0,void 0,(function(){var t;return(0,r.YH)(this,(function(n){switch(n.label){case 0:return[4,P(e)];case 1:return t=n.sent(),j(t),[2]}}))}))}),[e,j]),h().createElement(h().Fragment,null,Z,h().createElement("button",(0,r.Cl)({className:p()(ae,e.className),"aria-label":null!==(w=e.addToCartArialLabel)&&void 0!==w?w:ee,title:null!==(M=e.addToCartArialLabel)&&void 0!==M?M:ee},ne,{onClick:function(t){return(0,r.sH)(void 0,void 0,void 0,(function(){return(0,r.YH)(this,(function(n){switch(n.label){case 0:return[4,L.onClick(t,e,k,H,U,K)];case 1:return n.sent(),[2]}}))}))},disabled:e.disabled||D||R(e)||O(e,!1)}),ee),h().createElement(v,{className:"msc-lines-added-to-cart-dialog",id:e.id,typeName:e.typeName,context:e.context,dialogStrings:J,data:{products:$},isModalOpen:z,onClose:G}))};D.defaultProps={quantity:1};var I=function(e){return O(e,!1)&&e.outOfStockText?e.outOfStockText:e.addToCartText},k=function(e){var t,n=e.data,a=e.productAvailability,r=e.isCustomPriceSelected,i=e.customPriceAmount,o=e.maximumKeyInPrice,s=e.minimumKeyInPrice,l=e.defaultMaximumKeyInPrice,u=void 0===l?100:l,d=e.defaultMinimumKeyInPrice,p=void 0===d?10:d;if(!n||!n.product.RecordId)return{failureReason:"EMPTYINPUT"};if(n.product.Dimensions){var m=n.product.Dimensions.filter((function(e){return!(e.DimensionValue&&e.DimensionValue.Value)}));if(c.ArrayExtensions.hasElements(m))return{failureReason:"MISSINGDIMENSION",missingDimensions:m}}if(O(e,!0)){var h=null!==(t=null==a?void 0:a.AvailableQuantity)&&void 0!==t?t:0,g=Math.max(h,0);return{failureReason:"OUTOFSTOCK",stockLeft:g}}return r&&(!i||i>(o||u)||i<(s||p))?{failureReason:"INVALIDCUSTOMAMOUNT"}:void 0},O=function(e,t){var n;if(void 0===e.context.app.config.enableStockCheck||!1===e.context.app.config.enableStockCheck)return!1;if(e.shouldSkipSiteSettings)return!1;if(e.isLoading||e.isProductQuantityLoading||e.isUpdatingDimension||e.isLoadingDeliveryOptions||e.isUpdatingDeliveryOptions||e.isAddServiceItemToCart)return!1;if(!e.data||!e.data.product.RecordId)return!1;var a=null===(n=e.hasAvailableProducts)||void 0===n||n;if(!a)return!0;if(e.data.product.Dimensions&&e.data.product.Dimensions.find((function(e){return!(e.DimensionValue&&e.DimensionValue.Value)})))return!1;var r=t&&e.quantity?e.quantity:1;return!(e.productAvailability&&void 0!==e.productAvailability.AvailableQuantity&&e.productAvailability.AvailableQuantity>=r)},R=function(e){var t;return(!(null===(t=e.data)||void 0===t?void 0:t.product.Dimensions)||!e.data.product.Dimensions.find((function(e){return!(e.DimensionValue&&e.DimensionValue.Value)})))&&!!(e.isLoading||e.isUpdatingDimension||e.isLoadingDeliveryOptions||e.isUpdatingDeliveryOptions)},F=i.msdyn365Commerce.createComponent("AddToCart",(0,r.Cl)({component:D},L)),V=n(13),H=function(){function e(e,t,n){this.salesLine=e,this.simpleProduct=t,this.isSelected=!1,this.isProductAvailable=!c.ObjectExtensions.isNullOrUndefined(t),this.productUrl=n}return(0,r.Cg)([V.sH],e.prototype,"isSelected",void 0),e}()},698:(e,t,n)=>{"use strict";n.d(t,{cz:()=>C,g9:()=>S,yy:()=>D,R8:()=>T,QB:()=>N,bq:()=>I,lW:()=>w,Vn:()=>x,YW:()=>v,qZ:()=>k,_z:()=>F});var a,r,i=n(10),o=n(2),s=n(26),l=n(6),c=n(1),u=n(8),d=n.n(u),p=n(0),m=n.n(p),h=(n(15),n(12),n(19),n(653)),g=function(e){var t=e.dialogStrings,n=e.className,a=e.context,r=e.modalOpen,i=e.imageSettings,s=e.data,l=s.orderTemplate,u=s.products,d=s.linesCount,p=function(){e.onClose()},g=1===d?t.linesAddedToCartHeaderLinesOneText:t.linesAddedToCartHeaderLinesFormatText.replace("{0}",d.toString());return m().createElement(c.Modal,{isOpen:r,className:""+n,toggle:p},m().createElement(c.ModalHeader,{className:n+"__dialog__header",toggle:p},m().createElement("b",null,t.linesAddedToCartHeaderItemsOneText),m().createElement("span",null,t.linesAddedToCartHeaderMessageText)),m().createElement(c.ModalBody,{className:n+"__dialog__body"},m().createElement("div",{className:n+"__dialog__content"},m().createElement(h.Y,{context:a,className:n+"__dialog",products:u,imageSettings:i}),m().createElement("div",{className:n+"__dialog__description"},m().createElement("div",{className:n+"__dialog__order-template-name"},l.Name),m().createElement("div",{className:n+"__dialog__order-template-items"},g)))),m().createElement(c.ModalFooter,{className:n+"__dialog__footer"},m().createElement(c.Button,{className:n+"__dialog__view-cart-button",title:t.viewCartButtonText,href:(0,o.getUrlSync)("cart",a.actionContext)||""},t.viewCartButtonText),m().createElement(c.Button,{className:n+"__dialog__continue-shopping",title:t.orderTemplateCloseButtonText,onClick:p},t.orderTemplateCloseButtonText)))},f={onClick:function(e,t,n,a,r,c,u){return(0,i.sH)(void 0,void 0,void 0,(function(){var e,d,p,m,h,g,f,C,y,v,_;return(0,i.YH)(this,(function(i){switch(i.label){case 0:a(!0),n("LOADING"),e=t.context,d=t.dialogStrings,p=null!==(v=t.catalogId)&&void 0!==v?v:(0,o.getCatalogId)(t.context.actionContext.requestContext),(0,l.validateCatalogId)(p),m=t.isMultipleCatalogFeatureEnabledInHq||!1,h=m?new l.AddOrderTemplateToCartInput(t.data.orderTemplate.productList.Id,m):new l.AddOrderTemplateToCartInput(t.data.orderTemplate.productList.Id),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,(0,s.getCartState)(e.actionContext)];case 2:return g=i.sent(),f=g.cart,C=null===(_=null==f?void 0:f.CartLines)||void 0===_?void 0:_.find((function(e){return!0===e.IsInvoiceLine})),C?(u("Can not add items to a cart containing an invoice."),n("FAILED"),[3,5]):[3,3];case 3:return[4,(0,l.addOrderTemplateToCartAction)(h,e.actionContext)];case 4:y=i.sent(),c(y.length),a(!1),setTimeout((function(){r(!0)}),500),u(""),i.label=5;case 5:return[3,7];case 6:return i.sent(),u(d.orderTemplateErrorMessage),n("FAILED"),[3,7];case 7:return[2]}}))}))}},C=o.msdyn365Commerce.createComponent("AddOrderTemplate",(0,i.Cl)({component:function(e){var t=(0,i.zs)((0,p.useState)("WAITING"),2),n=t[0],r=t[1],o=(0,i.zs)((0,p.useState)(!1),2),s=o[0],l=o[1],u=(0,i.zs)((0,p.useState)(0),2),h=u[0],C=u[1],y=(0,i.zs)((0,p.useState)(!1),2),v=y[0],_=y[1],b=(0,i.zs)((0,p.useState)(""),2),T=b[0],E=b[1],x=function(e,t,n){var a=t.dialogStrings,r=a.addToCartFailureMessage,i=a.addToCartSuccessMessage,o=a.addToCartProcessMessage;return"LOADING"===e?o+"...":"SUCCESS"===e?i:"FAILED"===e?null!==n?n:r:""}(n,e,T),S=n.toLowerCase(),N={closeWindowButtonText:e.dialogStrings.closeWindowButtonText},P=(0,c.getPayloadObject)("click",e.telemetryContent,c.TelemetryConstant.AddOrderTemplateToCart),w=(0,c.getTelemetryAttributes)(e.telemetryContent,P),M={dialogStrings:N,className:"msc-add-order-template-to-cart",processStatusClass:S,text:x,modalOpen:s,setModalOpen:l},A=m().createElement(c.PopupProducts,(0,i.Cl)({},M)),L=e.data.orderTemplate.orderTemplateLines.map((function(e){return e.fullProduct})).filter((function(e){return e})),D=e.isMultipleCatalogFeatureEnabledInHq||!1;return m().createElement(m().Fragment,null,A,m().createElement("button",(0,i.Cl)({className:d()("msc-add-order-template-to-cart msc-btn",e.className,0===e.data.orderTemplate.totalLines?"disabled":""),"aria-label":e.addToCartText,disabled:0===e.data.orderTemplate.totalLines,type:"button",onClick:function(t){return(0,i.sH)(void 0,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return a=t.target,[4,f.onClick(t,e,r,l,_,C,E)];case 1:return n.sent(),[2]}}))}))}},w),e.addToCartText),m().createElement(g,(0,i.Cl)({className:"msc-lines-added-to-cart-dialog",id:e.id,typeName:e.typeName,context:e.context,dialogStrings:e.dialogStrings.linesAddedToCartDialogResources,data:{linesCount:h,orderTemplate:e.data.orderTemplate.productList,products:L},modalOpen:v,onClose:function(){_(!1),E(""),null==a||a.focus()},isMultipleCatalogFeatureEnabledInHq:D||!1},D&&{catalogId:e.catalogId})))}},f)),y=n(14),v=function(e){var t=e.isUpdateDialog,n=e.existingOrderTemplate,a=e.dialogStrings,r=e.className,o=e.modalOpen,s=e.setModalOpen,u=e.onCancel,d=e.onSuccess,h=e.context,g=e.parentElementRef;if(!a)return null;var f=(0,i.zs)((0,p.useState)(e.orderTemplateName),2),C=f[0],y=f[1],v=function(){var e;s(!1),u(),y(""),g&&(null===(e=g.current)||void 0===e||e.focus())};return m().createElement(c.Modal,{isOpen:o,className:r+" msc-modal-input-required",toggle:v,"aria-label":a.orderTemplateModalAriaLabel},m().createElement(c.ModalHeader,{className:r+"__dialog__header",toggle:v},m().createElement("span",{"aria-live":"assertive"},a.orderTemplateHeaderLabel)),m().createElement(c.ModalBody,{className:r+"__dialog__body"},m().createElement("div",{className:r+"__dialog__content"},m().createElement("label",{className:r+"__dialog__order-template-name-label",htmlFor:r+"__dialog__order-template-name"},a.orderTemplateTitleLabel),m().createElement("input",{className:r+"__dialog__order-template-name",type:"text","aria-label":a.orderTemplateNameAriaLabel,placeholder:a.defaultOrderTemplateName,onChange:function(e){y(e.target.value)},value:C,maxLength:250}),m().createElement("div",{className:r+"__dialog__description"},a.orderTemplateDescription))),m().createElement(c.ModalFooter,{className:r+"__dialog__footer"},m().createElement(c.Button,{className:r+"__dialog__create-order-template-button",title:a.orderTemplateButtonLabel,"aria-label":a.orderTemplateButtonLabel,onClick:function(){return(0,i.sH)(void 0,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return e.orderTemplateName=C||a.defaultOrderTemplateName,l.StringExtensions.isNullOrWhitespace(e.orderTemplateName)?[2]:t?n?(n.Name=e.orderTemplateName,r=new l.UpdateOrderTemplateHeaderInput(n),[4,(0,l.updateOrderTemplateHeader)(r,h.actionContext)]):[3,3]:[3,5];case 1:return o=i.sent(),s(!1),[4,d(o)];case 2:return i.sent(),[3,4];case 3:throw h.telemetry.error("You need to pass ProductList instance for update."),new Error("Unexpected error: existing order template was not set.");case 4:return[3,8];case 5:return r=new l.CreateOrderTemplateInput(e.orderTemplateName),[4,(0,l.createOrderTemplate)(r,h.actionContext)];case 6:return o=i.sent(),s(!1),[4,d(o)];case 7:i.sent(),i.label=8;case 8:return[2]}}))}))}},a.orderTemplateButtonLabel),m().createElement(c.Button,{className:r+"__dialog__cancel-button",title:a.orderTemplateCancelButtonLabel,"aria-label":a.orderTemplateCancelButtonLabel,onClick:v},a.orderTemplateCancelButtonLabel)))},_=function(e){var t=e.orderTemplate,n=e.className,a=e.imageSettings,r=t.orderTemplateLines.map((function(e){return e.fullProduct})).filter((function(e){return e}));return p.createElement("div",{className:n+"__container"},p.createElement("div",{className:n+"__item_header"},p.createElement("div",{className:n+"__title"},t.productList.Name),p.createElement("div",{className:n+"__count"},(0,c.format)(e.lineItemsText,t.totalLines))),p.createElement(h.Y,{context:e.context,className:n,products:r,imageSettings:a}),p.createElement("div",{className:n+"__footer"},p.createElement(c.Button,{className:n+"__action-button",title:e.actionButtonText,onClick:function(){return e.orderTemplateAction(e.orderTemplate.productList)}},e.actionButtonText)))},b=function(e,t,n,a,r){var i,s,l,u=e.addToOrderTemplateDialogResources,p=e.modalOpen,h=e.data.orderTemplates,g=""+(0,o.getAsset)("images/order-templates/create-order-template.svg",e.context.request);return m().createElement(m().Fragment,null,m().createElement(c.Modal,{isOpen:p,className:t+" msc-modal-input-required",toggle:n},m().createElement(c.ModalHeader,{className:t+"__dialog__header",toggle:n},m().createElement("span",null,u.addToOrderTemplateHeader)),m().createElement(c.ModalBody,{className:t+"__dialog__body"},m().createElement("div",{className:t+"__dialog__content"},m().createElement("div",{className:t+"__dialog__order-templates-description"},(i=u.selectTemplatesText,s=h.length.toString(),l="{0}",m().createElement(m().Fragment,null,i.slice(0,i.indexOf(l)),m().createElement("b",null,s),i.slice(i.indexOf(l)+l.length)))),m().createElement("div",{className:t+"__dialog__order-templates-container"},m().createElement("div",{className:d()(t+"__dialog__order-templates-line__container",t+"__dialog__order-templates-line__container__create-new-line")},m().createElement(o.Image,{altText:u.createNewOrderTemplateButtonText,requestContext:e.context.actionContext.requestContext,className:t+"__dialog__order-templates-line__container__create-new-line__image",src:g,gridSettings:e.context.request.gridSettings,loadFailureBehavior:"empty"}),m().createElement(c.Button,{className:t+"__dialog__order-templates-line__container__create-new-line__button",onClick:a},u.createNewOrderTemplateButtonText)),h.map((function(n,a){return m().createElement(_,{key:a,className:t+"__dialog__order-templates-line",orderTemplate:n,context:e.context,actionButtonText:u.addToTemplateButtonText,lineItemsText:u.lineItemsText,orderTemplateAction:r})})))))))},T=function(e){var t,n=e.setModalOpen,a=e.data.orderTemplates,r=e.className,s=function(){n(!1)},l=(0,i.zs)((0,p.useState)(!1),2),u=l[0],d=l[1],h=function(){n(!1),setTimeout((function(){d(!0)}),500)};return t=0!==a.length?b(e,r+"__existing",s,h,e.onOrderTemplateSelected):function(e,t,n,a){var r=e.addToOrderTemplateDialogResources,i=e.modalOpen,s=""+(0,o.getAsset)("images/order-templates/create-order-template.svg",e.context.request);return m().createElement(m().Fragment,null,m().createElement(c.Modal,{isOpen:i,className:t+" msc-modal-input-required",toggle:n},m().createElement(c.ModalHeader,{className:t+"__dialog__header",toggle:n},m().createElement("span",null,r.addToOrderTemplateHeader)),m().createElement(c.ModalBody,{className:t+"__dialog__body"},m().createElement("div",{className:t+"__dialog__content"},m().createElement("div",{className:t+"__dialog__create-order-template-image-container"},m().createElement(o.Image,{altText:r.createNewOrderTemplateButtonText,requestContext:e.context.actionContext.requestContext,className:t+"__dialog__create-order-template-image",src:s,gridSettings:e.context.request.gridSettings,loadFailureBehavior:"empty"})),m().createElement("div",{className:t+"__dialog__no-order-templates"},r.noOrderTemplatesMessage),m().createElement("div",{className:t+"__dialog__no-order-templates-description"},r.noOrderTemplatesDescription))),m().createElement(c.ModalFooter,{className:t+"__dialog__footer"},m().createElement(c.Button,{className:t+"__dialog__create-order-template-button",title:r.createAnOrderTemplateButtonText,onClick:a},r.createAnOrderTemplateButtonText),m().createElement(c.Button,{className:t+"__dialog__cancel-button",title:r.cancelOrderTemplateCreationButtonText,onClick:n},r.cancelOrderTemplateCreationButtonText))))}(e,r+"__empty",s,h),m().createElement(m().Fragment,null,t,m().createElement(v,{className:"msc-order-template-name-dialog",modalOpen:u,isUpdateDialog:!1,setModalOpen:d,context:e.context,id:e.id,data:{},typeName:e.typeName,dialogStrings:e.createOrderTemplateDialogResources,onCancel:function(){setTimeout((function(){n(!0)}),500)},onSuccess:e.onOrderTemplateSelected}))},E=(n(18),n(35)),x=function(e){var t,n,a=e.dialogStrings,r=e.className,i=e.context,s=e.modalOpen,u=e.imageSettings,d=e.data,p=d.orderTemplate,g=d.products,f=d.itemsCount,C=d.linesCount,y=m().useCallback((function(){window.location.reload(!0)}),[]),v=1===f?a.linesAddedToOrderTemplateHeaderItemsOneText:a.linesAddedToOrderTemplateHeaderItemsFormatText.replace("{0}",f.toString()),_=1===C?a.linesAddedToOrderTemplateHeaderLinesOneText:a.linesAddedToOrderTemplateHeaderLinesFormatText.replace("{0}",C.toString()),b=g.filter((function(e){var t;return!(null===(t=e.ProductDetails.Dimensions)||void 0===t?void 0:t.find((function(e){var t;return e.DimensionTypeValue===E.ProductDimensionType.Style&&"Custom"===(null===(t=e.DimensionValue)||void 0===t?void 0:t.Value)})))})),T=g.filter((function(e){var t;return null===(t=e.ProductDetails.Dimensions)||void 0===t?void 0:t.find((function(e){var t;return e.DimensionTypeValue===E.ProductDimensionType.Style&&"Custom"===(null===(t=e.DimensionValue)||void 0===t?void 0:t.Value)}))}));return m().createElement(c.Modal,{isOpen:s,className:""+r,toggle:y},m().createElement(c.ModalHeader,{className:r+"__dialog__header",toggle:y},m().createElement("b",null,_),m().createElement("span",{"aria-live":"assertive"},a.linesAddedToOrderTemplateHeaderMessageText)),m().createElement(c.ModalBody,{className:r+"__dialog__body"},m().createElement("div",{className:r+"__dialog__content"},m().createElement(h.Y,{context:i,className:r+"__dialog",products:b,imageSettings:u}),m().createElement("div",{className:r+"__dialog__description"},m().createElement("div",{className:r+"__dialog__order-template-name"},p.Name),m().createElement("div",{className:r+"__dialog__order-template-items"},v)),l.ArrayExtensions.hasElements(T)?m().createElement(m().Fragment,null,m().createElement(c.Alert,{color:"danger",assertive:!0,"aria-label":a.linesAddedToOrderTemplateCustomPriceAlertMessageText},m().createElement("div",{className:"msc-alert__header"},m().createElement("span",{className:"msi-exclamation-triangle"}),m().createElement("span",null,a.linesAddedToOrderTemplateCustomPriceAlertMessageText))),m().createElement(h.Y,{context:i,className:r+"__dialog",products:T,imageSettings:u})):null)),m().createElement(c.ModalFooter,{className:r+"__dialog__footer"},m().createElement(c.Button,{className:r+"__dialog__view-order-template-button",title:a.viewOrderTemplateButtonText,href:(t=(0,o.getUrlSync)("ordertemplate",i.actionContext)||"",n=t.includes("?")?"&":"?",""+t+n+"id="+p.Id)},a.viewOrderTemplateButtonText),m().createElement(c.Button,{className:r+"__dialog__continue-shopping",title:a.continueShoppingButtonText,onClick:y},a.continueShoppingButtonText)))},S=function(e){var t=(0,i.zs)((0,p.useState)(void 0),2),n=t[0],a=t[1],r=(0,i.zs)((0,p.useState)(void 0),2),s=r[0],u=r[1],d=(0,i.zs)((0,p.useState)(!1),2),h=d[0],g=d[1],f=(0,i.zs)((0,p.useState)(!1),2),C=f[0],v=f[1],_=(0,i.zs)((0,p.useState)(0),2),b=_[0],E=_[1],S=(0,i.zs)((0,p.useState)(0),2),N=S[0],P=S[1],w=m().useCallback((function(t){return(0,i.sH)(void 0,void 0,void 0,(function(){var n,r,s,c,d,p,m,h,f,C,_,b,T;return(0,i.YH)(this,(function(x){switch(x.label){case 0:a(t),n=null!==(T=e.catalogId)&&void 0!==T?T:(0,o.getCatalogId)(e.context.actionContext.requestContext),(0,l.validateCatalogId)(n),r=e.isMultipleCatalogFeatureEnabledInHq||!1,s=e.data.products.map((function(e){return(0,i.Cl)((0,i.Cl)((0,i.Cl)({},e),r&&{catalogId:e.CatalogId||n}),{ProductListId:t.Id})})),c=[];try{for(d=(0,i.Ju)(s),p=d.next();!p.done;p=d.next())m=p.value,m.ProductId&&c.push(new l.FullProductInput(m.ProductId,e.context.actionContext.requestContext.apiSettings,(0,l.getProductDetailsCriteriaFromActionInput)(e.context.actionContext),e.context.actionContext.requestContext))}catch(e){_={error:e}}finally{try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(_)throw _.error}}return[4,(0,l.getFullProducts)(c,e.context.actionContext)];case 1:return h=x.sent(),[4,y.ProductListsDataActions.addProductListLinesAsync({callerContext:e.context.actionContext},t.Id,s)];case 2:return f=x.sent(),C=f.map((function(e){var t;return null!==(t=e.Quantity)&&void 0!==t?t:0})),E(f.length),P(l.ArrayExtensions.hasElements(C)?l.ArrayExtensions.calculateSum(C):0),u(h),g(!1),setTimeout((function(){v(!0)}),500),[2]}}))}))}),[e.context.actionContext,e.data.products]),M=m().useCallback((function(){g(!0)}),[]);if(!(0,o.isChannelTypeB2B)(e.context.actionContext.requestContext))return null;var A=m().createRef(),L=e.isMultipleCatalogFeatureEnabledInHq||!1;return m().createElement("div",{className:e.className},m().createElement(T,(0,i.Cl)({className:"msc-add-to-order-template-dialog",id:"",typeName:"",modalOpen:h,setModalOpen:g,context:e.context,data:{orderTemplates:e.data.orderTemplates},addToOrderTemplateDialogResources:e.resources,createOrderTemplateDialogResources:e.resources,onOrderTemplateSelected:w,isMultipleCatalogFeatureEnabledInHq:L},L&&{catalogId:e.catalogId})),n&&s&&m().createElement(x,(0,i.Cl)({className:"msc-lines-added-to-order-template-dialog",id:"",typeName:"",context:e.context,dialogStrings:e.resources,data:{linesCount:b,itemsCount:N,orderTemplate:n,products:s},modalOpen:C,isMultipleCatalogFeatureEnabledInHq:L},L&&{catalogId:e.catalogId})),m().createElement(c.Button,{className:e.className+"__add-button",onClick:M,title:e.resources.addProductsToOrderTemplateButton,innerRef:A,disabled:e.isDisabled},e.resources.addProductsToOrderTemplateButton))},N=function(e){var t=e.dialogStrings,n=e.className,a=e.modalOpen,r=e.executeOverrideQuantity;return m().createElement(c.Modal,{isOpen:a,className:""+n,toggle:e.onCancel},m().createElement(c.ModalHeader,{className:n+"__dialog__header",toggle:e.onCancel},m().createElement("span",null,null==t?void 0:t.duplicatedProductsHeader)),m().createElement(c.ModalBody,{className:n+"__dialog__body"},m().createElement("div",{className:n+"__dialog__content"},m().createElement("div",{className:n+"__dialog__description"},null==t?void 0:t.duplicatedProductsDescription))),m().createElement(c.ModalFooter,{className:n+"__dialog__footer"},m().createElement(c.Button,{className:n+"__dialog__update-quantity-button",title:null==t?void 0:t.updateQuantityButtonText,onClick:r},null==t?void 0:t.updateQuantityButtonText),m().createElement(c.Button,{className:n+"__dialog__cancel-button",title:null==t?void 0:t.cancelDuplicateItemsButtonText,onClick:e.onCancel},null==t?void 0:t.cancelDuplicateItemsButtonText)))},P=n(213),w=function(e){var t,n,a=e.dialogStrings,r=e.className,i=e.context,s=e.modalOpen,u=e.imageSettings,d=e.data,p=d.orderTemplateId,h=d.product,g=d.productPrice,f=d.quantity,C=function(){window.location.reload(!0)},y=1===f?a.itemAddedToOrderTemplateHeaderItemOneText:a.itemAddedToOrderTemplateHeaderItemFormatText.replace("{0}",f.toString());return m().createElement(c.Modal,{isOpen:s,className:""+r,toggle:C},m().createElement(c.ModalHeader,{className:r+"__dialog__header",toggle:C},m().createElement("b",null,y),m().createElement("span",null,a.itemAddedToOrderTemplateHeaderMessageText)),m().createElement(c.ModalBody,{className:r+"__dialog__body"},m().createElement("div",{className:r+"__dialog__content"},function(e,t,n,a){var r,i,s=(0,l.getFallbackImageUrl)(n.ItemId,e.actionContext.requestContext.apiSettings,null===(i=null===(r=e.request.app)||void 0===r?void 0:r.config)||void 0===i?void 0:i.OmniChannelMedia);return a&&(a.cropFocalRegion=!0),m().createElement(o.Image,{requestContext:e.actionContext.requestContext,className:t+"__image-props",src:n.PrimaryImageUrl||"",altText:n.Name,fallBackSrc:s,gridSettings:e.request.gridSettings,imageSettings:a||{viewports:{xs:{q:"w=140&h=140&m=6",w:0,h:0},lg:{q:"w=140&h=140&m=6",w:0,h:0},xl:{q:"w=140&h=140&m=6",w:0,h:0}},lazyload:!0,cropFocalRegion:!0},loadFailureBehavior:"empty"})}(i,r+"__dialog",h,u),m().createElement("div",{className:r+"__dialog__description"},m().createElement("div",{className:r+"__dialog__product-name"},h.Name),m().createElement("div",{className:r+"__dialog__product-price"},g&&m().createElement(P.F,{data:{price:g},context:e.context,id:e.id,typeName:e.typeName,freePriceText:e.dialogStrings.freePriceText,originalPriceText:e.dialogStrings.originalPriceText,currentPriceText:e.dialogStrings.currentPriceText})),h.Dimensions&&m().createElement("div",{className:r+"__dialog__product-dimensions"},h.Dimensions.map((function(e){var t;return null===(t=e.DimensionValue)||void 0===t?void 0:t.Value})).filter((function(e){return e})).join(", "))))),m().createElement(c.ModalFooter,{className:r+"__dialog__footer"},m().createElement(c.Button,{className:r+"__dialog__view-order-template-button",title:a.viewOrderTemplateButtonText,href:(t=(0,o.getUrlSync)("ordertemplate",i.actionContext)||"",n=t.includes("?")?"&":"?",""+t+n+"id="+p)},a.viewOrderTemplateButtonText),m().createElement(c.Button,{className:r+"__dialog__continue-shopping",title:a.continueShoppingButtonText,onClick:C},a.continueShoppingButtonText)))},M={onClick:function(e,t,n,a){return(0,i.sH)(void 0,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(r){return e=t.context.request.user,n.waiting?[2]:!e.isAuthenticated&&e.signInUrl&&window?(window.location.assign(e.signInUrl),[2]):(A(t,a),n.setWaiting(!1),[2])}))}))},onDismiss:function(e){e.setContent({color:"success",showAlert:!1})}},A=function(e,t){var n=e.canAddMasterProduct;if(e.data.product.Dimensions&&!n){var a=e.data.product.Dimensions.filter((function(e){return!(e.DimensionValue&&e.DimensionValue.Value)}));if(a.length>0)return void L(e,{status:"MISSING_DIMENSION",missingDimensions:a})}t(!0)},L=function(e,t){var n=e.onError;n&&n(t)},D=o.msdyn365Commerce.createComponent("AddToOrderTemplate",(0,i.Cl)({component:function(e){if(!(0,o.isChannelTypeB2B)(e.context.actionContext.requestContext))return null;var t=(0,i.zs)((0,p.useState)(!1),2),n=t[0],a=t[1],r=(0,i.zs)((0,p.useState)({}),2),s=r[0],u=r[1],h={waiting:n,content:s,setWaiting:a,setContent:u},g=(0,i.zs)((0,p.useState)(!1),2),f=g[0],C=g[1],v=(0,i.zs)((0,p.useState)(void 0),2),_=v[0],b=v[1],E=(0,i.zs)((0,p.useState)(null),2),x=E[0],S=E[1],P=(0,i.zs)((0,p.useState)(!1),2),A=P[0],L=P[1],D=(0,i.zs)((0,p.useState)(!1),2),I=D[0],k=D[1],O=e.catalogId;(0,l.validateCatalogId)(O);var R=e.isMultipleCatalogFeatureEnabledInHq||!1,F=e.addToOrderTemplateButtonText,V=e.showStatusMessage,H=e.showButtonText,B=e.className,z=e.disabled,U=e.showButtonTooltip,q=e.shouldShowButtonFailedTooltip,W=e.disableButton,K=e.tooltipPosition,Q=e.addToOrderTemplateButtonTooltip,$=e.addToOrderTemplateDialogResources,j=e.createOrderTemplateDialogResources,G=F,Y=m().createRef(),X=void 0===V||V,J=void 0===U||U,Z=void 0!==U?K:"top-end",ee={orderTemplates:e.data.orderTemplates};return m().createElement(m().Fragment,null,m().createElement(m().Fragment,null,m().createElement("button",{className:d()(B,(e.data.product,"msc-add-to-order-template-icon"),h.waiting?"msc-add-to-order-template-icon__waiting":""),"aria-label":G,onClick:W?void 0:function(t){return M.onClick(t,e,h,C)},disabled:z,ref:Y},H?G:""),J&&m().createElement(c.UncontrolledTooltip,{placement:Z,trigger:"hover focus",target:Y},q?Q:G)),h.content.showAlert&&X?m().createElement("div",{className:"ms-order-template-items__product-status"},m().createElement(c.Alert,{color:h.content.color,isOpen:h.content.showAlert,toggle:function(){M.onDismiss(h)}},h.content.orderTemplateTextMessage)):"",m().createElement(T,(0,i.Cl)({className:"msc-add-to-order-template-dialog",modalOpen:f,setModalOpen:C,context:e.context,id:e.id,typeName:e.typeName,data:ee,addToOrderTemplateDialogResources:$,createOrderTemplateDialogResources:j,onOrderTemplateSelected:function(t){return(0,i.sH)(void 0,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return b(t.Id),n=R?new l.AddItemToOrderTemplateInput(t.Id,e.data.product.RecordId,e.data.quantity,e.data.product.DefaultUnitOfMeasure||"ea",R,O):new l.AddItemToOrderTemplateInput(t.Id,e.data.product.RecordId,e.data.quantity,e.data.product.DefaultUnitOfMeasure||"ea"),[4,(0,l.addItemToOrderTemplate)(n,e.context.actionContext).then((function(t){return(0,i.sH)(void 0,void 0,void 0,(function(){var t;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return[4,(0,l.getPriceForSelectedVariant)(new l.PriceForSelectedVariantInput(e.data.product.RecordId,e.context.actionContext.requestContext.apiSettings.channelId,e.data.product),e.context.actionContext)];case 1:return t=n.sent(),S(t),C(!1),setTimeout((function(){L(!0)}),500),[2]}}))}))})).catch((function(e){var t;return"Microsoft_Dynamics_Commerce_Runtime_DuplicateObject"!==(null===(t=e.error)||void 0===t?void 0:t.name)?y.AsyncResult.reject(e):(C(!1),setTimeout((function(){k(!0)}),500),y.AsyncResult.resolve())}))];case 1:return a.sent(),[2]}}))}))},isMultipleCatalogFeatureEnabledInHq:R},R&&{catalogId:e.catalogId})),_&&x&&m().createElement(w,(0,i.Cl)({className:"msc-item-added-to-order-template-dialog",id:e.id,typeName:e.typeName,context:e.context,dialogStrings:e.itemAddedToOrderTemplateDialogResources,imageSettings:void 0!==e.imageSettings?e.imageSettings:void 0,data:{product:e.data.product,quantity:e.data.quantity,orderTemplateId:_,productPrice:x},modalOpen:A,isMultipleCatalogFeatureEnabledInHq:R},R&&{catalogId:e.catalogId})),m().createElement(N,{className:"msc-duplicate-items-when-adding-to-order-template-dialog",id:e.id,typeName:e.typeName,context:e.context,dialogStrings:e.duplicateItemsWhenAddingToOrderTemplateDialogResources,data:{},modalOpen:I,executeOverrideQuantity:function(){return(0,i.sH)(void 0,void 0,void 0,(function(){var t,n;return(0,i.YH)(this,(function(a){switch(a.label){case 0:return t=R?new l.UpdateOrderTemplateInput(_,e.data.product.RecordId,e.data.quantity,e.data.product.DefaultUnitOfMeasure||"ea",R,O):new l.UpdateOrderTemplateInput(_,e.data.product.RecordId,e.data.quantity,e.data.product.DefaultUnitOfMeasure||"ea"),[4,(0,l.updateOrderTemplateAction)(t,e.context.actionContext)];case 1:return a.sent(),[4,(0,l.getPriceForSelectedVariant)(new l.PriceForSelectedVariantInput(e.data.product.RecordId,e.context.actionContext.requestContext.apiSettings.channelId,e.data.product),e.context.actionContext)];case 2:return n=a.sent(),S(n),k(!1),setTimeout((function(){L(!0)}),500),[2]}}))}))},onCancel:function(){k(!1),setTimeout((function(){C(!0)}),500)}}))}},M)),I=function(e){var t=e.dialogStrings,n=e.className,a=e.context,r=e.modalOpen,i=e.data,s=i.product,u=i.productPrice,d=i.quantity,p=function(){e.onClose()},h=1===d?t.itemAddedToCartHeaderItemOneText:t.itemAddedToCartHeaderItemFormatText.replace("{0}",d.toString());return m().createElement(c.Modal,{isOpen:r,className:""+n,toggle:p},m().createElement(c.ModalHeader,{className:n+"__dialog__header",toggle:p},m().createElement("b",null,h),m().createElement("span",null,t.itemAddedToCartHeaderMessageText)),m().createElement(c.ModalBody,{className:n+"__dialog__body"},m().createElement("div",{className:n+"__dialog__content"},function(e,t,n,a){var r,i,s=(0,l.getFallbackImageUrl)(n.ItemId,e.actionContext.requestContext.apiSettings,null===(i=null===(r=e.request.app)||void 0===r?void 0:r.config)||void 0===i?void 0:i.OmniChannelMedia);return m().createElement(o.Image,{requestContext:e.actionContext.requestContext,className:t+"__image-props",src:n.PrimaryImageUrl||"",altText:n.Name,fallBackSrc:s,gridSettings:e.request.gridSettings,imageSettings:a||{viewports:{xs:{q:"w=140&h=140&m=6",w:0,h:0},lg:{q:"w=140&h=140&m=6",w:0,h:0},xl:{q:"w=140&h=140&m=6",w:0,h:0}},lazyload:!0},loadFailureBehavior:"empty"})}(a,n+"__dialog",s),m().createElement("div",{className:n+"__dialog__description"},m().createElement("div",{className:n+"__dialog__product-name"},s.Name),m().createElement("div",{className:n+"__dialog__product-price"},u&&m().createElement(P.F,{data:{price:u},context:e.context,id:e.id,typeName:e.typeName,freePriceText:e.dialogStrings.freePriceText,originalPriceText:e.dialogStrings.originalPriceText,currentPriceText:e.dialogStrings.currentPriceText})),s.Dimensions&&m().createElement("div",{className:n+"__dialog__product-dimensions"},s.Dimensions.map((function(e){var t;return null===(t=e.DimensionValue)||void 0===t?void 0:t.Value})).filter((function(e){return e})).join(", "))))),m().createElement(c.ModalFooter,{className:n+"__dialog__footer"},m().createElement(c.Button,{className:n+"__dialog__view-cart-button",title:t.viewCartButtonText,href:(0,o.getUrlSync)("cart",a.actionContext)||""},t.viewCartButtonText),m().createElement(c.Button,{className:n+"__dialog__continue-shopping",title:t.orderTemplateCloseButtonText,onClick:p},t.orderTemplateCloseButtonText)))},k=o.msdyn365Commerce.createComponent("RenameOrderTemplate",(0,i.Cl)({component:function(e){var t=e.data.orderTemplate,n=e.renameOrderTemplateButtonText,a=e.renameOrderTemplateDialogStrings,o=e.context,s=(0,i.zs)(m().useState(!1),2),l=s[0],u=s[1];return m().createElement(m().Fragment,null,m().createElement(c.Button,{className:"ms-order-template-action-bar__rename-template-button",onClick:function(e){r=e.target,u(!0)}},n),m().createElement(v,{existingOrderTemplate:t,isUpdateDialog:!0,className:"msc-order-template-name-dialog",modalOpen:l,setModalOpen:u,context:o,id:e.id,data:e.data,orderTemplateName:e.data.orderTemplate.Name,typeName:e.typeName,dialogStrings:a,onCancel:function(){o.telemetry.debug("Rename of template was canceled."),null==r||r.focus()},onSuccess:e.onRenameTemplate}))}},{})),O=(n(4),n(83)),R={onDismiss:function(e){e.setContent({color:"success",showAlert:!1})}},F=o.msdyn365Commerce.createComponent("SaveCartToOrderTemplate",(0,i.Cl)({component:function(e){if(!(0,o.isChannelTypeB2B)(e.context.actionContext.requestContext))return null;var t=(0,i.zs)((0,p.useState)(void 0),2),n=t[0],a=t[1],r=(0,i.zs)((0,p.useState)(void 0),2),s=r[0],u=r[1],d=(0,i.zs)((0,p.useState)(!1),2),h=d[0],g=d[1],f=(0,i.zs)((0,p.useState)(!1),2),C=f[0],v=f[1],_=(0,i.zs)((0,p.useState)(!1),2),b=_[0],E=_[1],S=(0,i.zs)((0,p.useState)(0),2),P=S[0],w=S[1],M=(0,i.zs)((0,p.useState)(0),2),A=M[0],L=M[1],D=e.addToOrderTemplateDialogResources,I=e.createOrderTemplateDialogResources,k=e.createOrderTemplateFromCartButton,R=e.createOrderTemplateFromCartButtonTooltip,F=e.isMultipleCatalogFeatureEnabledInHq||!1,V=function(t){var n=[];return t.forEach((function(t){t.ProductId&&n.push(new l.FullProductInput(t.ProductId,e.context.actionContext.requestContext.apiSettings,(0,l.getProductDetailsCriteriaFromActionInput)(e.context.actionContext),e.context.actionContext.requestContext))})),n},H=function(e){w(e.length),L(e.map((function(e){return e.Quantity||1})).reduce((function(e,t){return e+t})))},B=0===e.data.cartLines.filter((function(e){return!e.IsPriceKeyedIn})).length,z=m().createRef();return m().createElement(m().Fragment,null,m().createElement(T,(0,i.Cl)({className:"msc-add-to-order-template-dialog",modalOpen:h,setModalOpen:g,context:e.context,id:e.id,typeName:e.typeName,data:{orderTemplates:e.data.orderTemplates},addToOrderTemplateDialogResources:D,createOrderTemplateDialogResources:I,onOrderTemplateSelected:function(t){return(0,i.sH)(void 0,void 0,void 0,(function(){var n,r,o,s,c;return(0,i.YH)(this,(function(d){switch(d.label){case 0:return a(t),n=null===(c=e.data.cartLines)||void 0===c?void 0:c.map((function(e){var n={ProductListId:t.Id,ProductId:e.ProductId,Quantity:e.Quantity,UnitOfMeasure:e.UnitOfMeasureSymbol};return n})),r=V(n),[4,(0,l.getFullProducts)(r,e.context.actionContext)];case 1:return o=d.sent(),s=e.data.cartLines.filter((function(e){return!e.IsPriceKeyedIn})).map((function(e){var n=(0,i.Cl)({ProductListId:t.Id,ProductId:e.ProductId,Quantity:e.Quantity,UnitOfMeasure:e.UnitOfMeasureSymbol},F&&{catalogId:e.CatalogId});return n})),[4,(0,O.addProductListLinesAsync)({callerContext:e.context.actionContext},t.Id,s).then((function(e){H(e),u(o),g(!1),setTimeout((function(){v(!0)}),500)})).catch((function(e){return"Microsoft_Dynamics_Commerce_Runtime_DuplicateObject"!==e.name?y.AsyncResult.reject(e):(g(!1),setTimeout((function(){E(!0)}),500),y.AsyncResult.resolve())}))];case 2:return d.sent(),[2]}}))}))},isMultipleCatalogFeatureEnabledInHq:F},F&&{catalogId:e.catalogId})),n&&s&&m().createElement(x,(0,i.Cl)({className:"msc-lines-added-to-order-template-dialog",id:e.id,typeName:e.typeName,context:e.context,dialogStrings:e.linesAddedToOrderTemplateDialogResources,data:{linesCount:P,itemsCount:A,orderTemplate:n,products:s},modalOpen:C,isMultipleCatalogFeatureEnabledInHq:F},F&&{catalogId:e.catalogId})),m().createElement(N,(0,i.Cl)({className:"msc-duplicate-items-when-adding-to-order-template-dialog",id:e.id,typeName:e.typeName,context:e.context,dialogStrings:e.duplicateItemsWhenAddingToOrderTemplateDialogResources,data:{},modalOpen:b,executeOverrideQuantity:function(){return(0,i.sH)(void 0,void 0,void 0,(function(){var t,a,r,o,s,c,d,p;return(0,i.YH)(this,(function(m){switch(m.label){case 0:t=[],a=function(a){var r,o,s,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=new l.GetProductListLinesInput(null==n?void 0:n.Id,a.ProductId.toString()),[4,(0,l.getProductListLines)(r,e.context.actionContext)];case 1:return o=i.sent(),1,s=o.lines.filter((function(e){return e.productListLine.ProductId===a.ProductId})),1!==s.length?[2,"continue"]:(c=s[0].productListLine,c.UnitOfMeasure=a.UnitOfMeasureSymbol||"ea",c.Quantity=a.Quantity,F&&(c.CatalogId=a.CatalogId),t.push(c),[2])}}))},m.label=1;case 1:m.trys.push([1,6,7,8]),r=(0,i.Ju)(e.data.cartLines),o=r.next(),m.label=2;case 2:return o.done?[3,5]:(s=o.value,[5,a(s)]);case 3:m.sent(),m.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return c=m.sent(),d={error:c},[3,8];case 7:try{o&&!o.done&&(p=r.return)&&p.call(r)}finally{if(d)throw d.error}return[7];case 8:return[4,(0,O.updateProductListLinesAsync)({callerContext:e.context.actionContext},n.Id,t).then((function(t){return(0,i.sH)(void 0,void 0,void 0,(function(){var n,a;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return H(t),n=V(t),[4,(0,l.getFullProducts)(n,e.context.actionContext)];case 1:return a=r.sent(),u(a),E(!1),setTimeout((function(){v(!0)}),500),[2]}}))}))}))];case 9:return m.sent(),[2]}}))}))},onCancel:function(){E(!1),setTimeout((function(){g(!0)}),500)},isMultipleCatalogFeatureEnabledInHq:F},F&&{catalogId:e.catalogId})),m().createElement(c.Button,{className:"msc-cart__btn-addcarttotemplate"+(B?" disabled":""),onClick:B?void 0:function(){g(!0)},title:k,innerRef:z},k),B&&m().createElement(c.UncontrolledTooltip,{className:"msc-cart__btn-addcarttotemplate-tooltip",placement:"top-start",trigger:"hover focus",target:z},R))}},R))},699:(e,t,n)=>{"use strict";n.d(t,{Dropdown:()=>a.m});var a=n(1170),r=n(1323);n.o(r,"ProductDimensionsMatrix")&&n.d(t,{ProductDimensionsMatrix:function(){return r.ProductDimensionsMatrix}}),n.o(r,"RefinerComponent")&&n.d(t,{RefinerComponent:function(){return r.RefinerComponent}}),n.o(r,"RefinerItemType")&&n.d(t,{RefinerItemType:function(){return r.RefinerItemType}}),n.o(r,"RefinerOptionsComponent")&&n.d(t,{RefinerOptionsComponent:function(){return r.RefinerOptionsComponent}}),n.o(r,"RefinerOptionsType")&&n.d(t,{RefinerOptionsType:function(){return r.RefinerOptionsType}}),n.o(r,"SearchBarComponent")&&n.d(t,{SearchBarComponent:function(){return r.SearchBarComponent}}),n.o(r,"SwatchComponent")&&n.d(t,{SwatchComponent:function(){return r.SwatchComponent}}),n.o(r,"TableCellComponent")&&n.d(t,{TableCellComponent:function(){return r.TableCellComponent}}),n.o(r,"TableCellContentType")&&n.d(t,{TableCellContentType:function(){return r.TableCellContentType}}),n.o(r,"TableComponent")&&n.d(t,{TableComponent:function(){return r.TableComponent}}),n.o(r,"TableHeaderComponent")&&n.d(t,{TableHeaderComponent:function(){return r.TableHeaderComponent}}),n.o(r,"TableRowComponent")&&n.d(t,{TableRowComponent:function(){return r.TableRowComponent}}),n.o(r,"WishListIconComponent")&&n.d(t,{WishListIconComponent:function(){return r.WishListIconComponent}}),n.o(r,"getProductConfigure")&&n.d(t,{getProductConfigure:function(){return r.getProductConfigure}}),n.o(r,"getUpdatedRefinementCriteria")&&n.d(t,{getUpdatedRefinementCriteria:function(){return r.getUpdatedRefinementCriteria}}),n.o(r,"isMatchingRefinementCriterion")&&n.d(t,{isMatchingRefinementCriterion:function(){return r.isMatchingRefinementCriterion}})},700:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var a=n(6),r=n(0),i=n.n(r),o=n(484),s=function(e){var t=e.context,n=e.dimensionType,r=e.swatches,s=e.onSelectDimension,l=i().useCallback((function(e){s(t,e,n)}),[s,t,n]);return a.ArrayExtensions.hasElements(r)?i().createElement(o.SwatchComponent,{apiSettings:t.request.apiSettings,list:r,onSelectItem:l}):i().createElement("div",{className:"msc-swatch-empty"})}},1104:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});n(25),n(18),n(71),n(9);var a=n(0),r=n(276);n(66),n(139),n(15),n(12),n(479);const i="http://www.w3.org/XML/1998/namespace";class o{constructor(e){this.ttmlNamespace="http://www.w3.org/ns/ttml",this.ttmlStyleNamespace="http://www.w3.org/ns/ttml#styling",this.ttmlParameterNamespace="http://www.w3.org/ns/ttml#parameter",this.ttmlMetaNamespace="http://www.w3.org/ns/ttml#metadata",this.idPrefix="",this.mediaFrameRate=30,this.mediaFrameRateMultiplier=1,this.mediaSubFrameRate=1,this.mediaTickRate=1e3,this.supportedTimeBase="media",this.rootContainerRegionDimensions=null,this.relatedMediaObjectRegion=null,this.cellResolution={rows:15,columns:32},this.defaultRegionStyle={backgroundColor:"transparent",color:"#E8E9EA",direction:"ltr",display:"auto",displayAlign:"before",extent:"auto",fontFamily:"default",fontSize:"1c",fontStyle:"normal",fontWeight:"normal",lineHeight:"normal",opacity:"1",origin:"auto",overflow:"hidden",padding:"0",showBackground:"always",textAlign:"start",textDecoration:"none",textOutline:"none",unicodeBidi:"normal",visibility:"visible",wrapOption:"normal",writingMode:"lrtb"},this.fontMap={},this.fontMap.default="Lucida sans typewriter, Lucida console, Consolas",this.fontMap.monospaceSerif="Courier",this.fontMap.proportionalSerif="Times New Roman, Serif",this.fontMap.monospaceSansSerif="Lucida sans typewriter, Lucida console, Consolas",this.fontMap.proportionalSansSerif="Arial, Sans-serif",this.fontMap.casual="Verdana",this.fontMap.cursive="Zapf-Chancery, Segoe script, Cursive",this.fontMap.smallCaps="Arial, Helvetica",this.fontMap.monospace="Lucida sans typewriter, Lucida console, Consolas",this.fontMap.sansSerif="Arial, Sans-serif",this.fontMap.serif="Times New Roman, Serif",e&&(0,r.X$)(this,e)}}class s{constructor(){this.translateToHtml=(e,t,n)=>{let a,o;const l=this._getTagNameEquivalent(e);let u="",d="";switch(l){case"ttml:region":d="cue ";case"ttml:rootcontainerregion":case"ttml:body":case"ttml:div":u="div";break;case"ttml:p":u="p";break;case"ttml:span":u="span";break;case"ttml:br":u="br"}const p=c.getAttributeNS(e,"role",this.settings.ttmlMetaNamespace);p&&(d+=` ${p}`);const m=c.getAttributeNS(e,"agent",this.settings.ttmlMetaNamespace);if(m&&(d+=` ${m}`),"x-ruby"===p?u="ruby":"x-rubybase"===p?u="rb":"x-rubytext"===p&&(u="rt"),!(0,r.oT)(u)){a=s._defaultStyle(this.ownerDocument.createElement(u)),(0,r.iQ)(a,(0,r.Bq)(d));const p=c.getAttributeNS(e,"title",this.settings.ttmlMetaNamespace);p&&a.setAttribute("title",p);const m=c.getAttributeNS(e,"id",i);m&&this.settings.idPrefix&&a.setAttribute("id",this.settings.idPrefix+m),"ttml:region"===l&&(o=a.appendChild(s._defaultStyle(this.ownerDocument.createElement("div"))),o.setAttribute("style","display:table; border-spacing:0; cell-spacing:0; cell-padding:0; width:100%; height:100%"),o=o.appendChild(s._defaultStyle(this.ownerDocument.createElement("div"))),(0,r.AH)(o,"display","table-cell"),t.displayAlign&&(this._translateStyle(l,o,{displayAlign:t.displayAlign}),t.displayAlign="")),n&&"ttml:span"===l&&(o=a.appendChild(s._defaultStyle(this.ownerDocument.createElement("span"))),(0,r.AH)(o,"white-space","pre")),(0,r.AH)(a,"position","static"),(0,r.AH)(a,"width","100%"),this._translateStyle(l,a,t)}return{outerNode:a,innerNode:o||a}}}static _ttmlToCssTextDecoration(e){let t="";const n=e.split(/\s+/);for(const e of n)switch(e){case"none":case"noUnderline":case"noLineThrough":case"noOverline":t="none"}for(const e of n)switch(e){case"none":case"noUnderline":case"noLineThrough":case"noOverline":break;case"lineThrough":t+=" line-through";break;default:t+=` ${e}`}return(0,r.Bq)(t)}static _ttmlToCssColor(e){let t=e;if(e=e.toLowerCase(),e.startsWith("rgba")){const n=s.rgbaRegEx.exec(e);if(n&&5===n.length){const e=n[1],a=n[2],i=n[3],o=Number.parseInt(n[4],10);t=(0,r.GP)("rgba({0},{1},{2},{3})",e,a,i,Math.round(100*o/255)/100)}}else if(e.startsWith("#")&&9===e.length){const n=Number.parseInt(e.substr(1,2),16),a=Number.parseInt(e.substr(3,2),16),i=Number.parseInt(e.substr(5,2),16),o=Number.parseInt(e.substr(7,2),16);t=(0,r.GP)("rgba({0},{1},{2},{3})",n,a,i,Math.round(100*o/255)/100)}else s.TtmlNamedColorMap[e]&&(t=s.TtmlNamedColorMap[e]);return t}static _defaultStyle(e){return(0,r.AH)(e,"background-color",s.TtmlNamedColorMap.transparent),(0,r.AH)(e,"offset","0"),(0,r.AH)(e,"margin","0"),(0,r.AH)(e,"padding","0"),(0,r.AH)(e,"border","0"),e}setOwnerDocument(e){this.ownerDocument=e}updateRelatedMediaObjectRegion(e){return!(null===e||this.settings.relatedMediaObjectRegion&&e.width===this.settings.relatedMediaObjectRegion.width&&e.height===this.settings.relatedMediaObjectRegion.height)&&(this.settings.relatedMediaObjectRegion={width:e.width,height:e.height},!0)}hasEvents(){return this.events&&!!this.events.length}resetCurrentEvents(){this.currentEvents=[]}updateCurrentEvents(e){const t=this._getTemporallyActiveEvents(e),n=this.currentEvents?this.currentEvents.length:0,a=t?t.length:0;if(n!==a)return this.currentEventsTime=e,this.currentEvents=t,!0;if(this.currentEvents)for(let a=0;a<n;a++)if(this.currentEvents[a].time!==t[a].time)return this.currentEventsTime=e,this.currentEvents=t,!0;return!1}getCues(e){let t=[];this.currentEventsTime!==e&&this.updateCurrentEvents(e);const n="preserve"===c.getAttributeNS(this.root,"space",i),a=this.layout?this.layout.getElementsByTagNameNS(this.settings.ttmlNamespace,"region"):[];for(const o of a){const a=c.getAttributeNS(o,"id",i),s=o.getAttribute("data-isanonymous");if(s||a){const i=this._translate(o,this.settings.defaultRegionStyle,n,e,this.translateToHtml);if(i.outerNode&&i.innerNode){const o=i.innerNode,l=i.outerNode;for(const t of this.events)if(t.element&&this._isInRegion(t.element,s?"":a)){const a=this._prune(t.element,i.inheritableStyleSet,n,e,this.translateToHtml);let s=a.prunedElement;a.hasPreservedContent||!s||(0,r.Bq)((0,r.q4)(s)).length||(s=null),s&&o.appendChild(s)}const c="always"===l.getAttribute("data-showBackground");(c||o.children.length)&&(c&&l.removeAttribute("data-showBackground"),t.push(l))}}}if(t.length){const n=this._translate(this.rootContainerRegion,{overflow:"hidden",padding:"0"},!1,e,this.translateToHtml);for(const e of t)n.innerNode.appendChild(e);t=[],t.push(n.outerNode)}return t}_getTemporallyActiveEvents(e){return this.events.filter((t=>!t.element||this._isTemporallyActive(t.element,e)))}_isTemporallyActive(e,t){return(Number.parseInt(e.getAttribute("data-time-start"),10)||0)<=t&&t<(Number.parseInt(e.getAttribute("data-time-end"),10)||0)}_translate(e,t,n,a,r){let i,o;if(this._isTemporallyActive(e,a)){const s=this._getTagNameEquivalent(e);if(o=this._getComputedStyleSet(e,t,s,a),"none"!==o.display){const t=this._getApplicableStyleSet(o,s);return i=r(e,t,n),{outerNode:i.outerNode,innerNode:i.innerNode,inheritableStyleSet:this._getInheritableStyleSet(o)}}}return{outerNode:null,innerNode:null,inheritableStyleSet:null}}_translateStyle(e,t,n){for(const a in n)n[a]&&this._applyStyle(t,e,a,n[a])}_prune(e,t,n,a,o){let s,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=!1,d=this._translate(e,t,n,a,o);if(null!==d.outerNode){const p=this._getTagNameEquivalent(e);s=d.outerNode;let m=d.innerNode;for(const t of(0,r.bD)(e.childNodes))if(t.nodeType===Node.COMMENT_NODE);else if(t.nodeType===Node.TEXT_NODE)m.appendChild(document.createTextNode(t.data)),n&&"ttml:span"===p&&(u=!0);else{let e=n;const r=c.getAttributeNS(t,"space",i);r&&(e="preserve"===r);const s=this._prune(t,d.inheritableStyleSet,e,a,o,!0);u=u||s.hasPreservedContent,s.prunedElement&&m.appendChild(s.prunedElement)}if(!l){let r=e.parentNode;for(;null!==r&&r.nodeType===Node.ELEMENT_NODE&&r!==this.body&&(d=this._translate(r,t,n,a,o),d.outerNode);)m=d.innerNode,m.appendChild(s),s=d.outerNode,r=r.parentNode}}return{prunedElement:s,hasPreservedContent:u}}_getComputedStyleSet(e,t,n,a){const i=(0,r.X$)({},t);(0,r.X$)(i,this.styleSetCache[Number.parseInt(e.getAttribute("data-styleSet"),10)]);const o=e.getElementsByTagNameNS(this.settings.ttmlNamespace,"set");for(const e of(0,r.bD)(o))this._isTemporallyActive(e,a)&&c.applyInlineStyles(this.settings,i,e);if("ttml:p"===n&&"normal"===i.lineHeight){const t=this._appendSpanFontSizes(e,this._getInheritableStyleSet(i),a,"");t&&(i["computed-lineHeight"]=t)}return i}_getApplicableStyleSet(e,t){const n={};e.extent&&this._isStyleApplicable(t,"extent")&&(n.extent=e.extent),e.color&&this._isStyleApplicable(t,"color")&&(n.color=e.color);for(const a in e)this._isStyleApplicable(t,a)&&(n[a]=e[a]);return n}_isStyleApplicable(e,t){switch(t){case"backgroundColor":case"display":case"visibility":return"ttml:body ttml:div ttml:p ttml:region ttml:rootcontainerregion ttml:span ttml:br".includes(e);case"fontFamily":case"fontSize":case"fontStyle":case"fontWeight":case"direction":case"unicodeBidi":return"ttml:p ttml:span ttml:br".includes(e);case"color":case"textDecoration":case"textOutline":case"wrapOption":return"ttml:span ttml:br".includes(e);case"displayAlign":case"opacity":case"origin":case"overflow":case"padding":case"showBackground":case"writingMode":case"zIndex":return"ttml:region ttml:rootcontainerregion".includes(e);case"extent":return"ttml:tt ttml:region ttml:rootcontainerregion".includes(e);case"computed-lineHeight":case"lineHeight":case"textAlign":return"ttml:p".includes(e);default:return!1}}_getInheritableStyleSet(e){const t={};for(const n in e)if(e.hasOwnProperty(n))switch(n){case"backgroundColor":case"computed-lineHeight":case"display":case"displayAlign":case"extent":case"opacity":case"origin":case"overflow":case"padding":case"showBackground":case"unicodeBidi":case"writingMode":case"zIndex":break;default:t[n]=e[n]}return t}_appendSpanFontSizes(e,t,n,a){for(const i of(0,r.bD)(e.childNodes))if(i.nodeType===Node.ELEMENT_NODE){const e=this._getTagNameEquivalent(i);if("ttml:span"===e){const e=this._getComputedStyleSet(i,t,"ttml:span",n),r=e.fontSize;r&&(a+=(a?",":"")+r),a=this._appendSpanFontSizes(i,this._getInheritableStyleSet(e),n,a)}}return a}_isInRegion(e,t){if(!t)return!0;const n=c.getAttributeNS(e,"region",this.settings.ttmlNamespace);if(n===t)return!0;if(!n){let n=e.parentNode;for(;null!==n&&n.nodeType===Node.ELEMENT_NODE;){const e=this._getRegionId(n);if(e)return e===t;n=n.parentNode}for(const n of(0,r.bD)(e.getElementsByTagName("*")))if(this._getRegionId(n)===t)return!0}return!1}_getRegionId(e){let t;return e.nodeType===Node.ELEMENT_NODE&&e.namespaceURI===this.settings.ttmlNamespace&&(t="region"===c.getLocalTagName(e)?c.getAttributeNS(e,"id",i):c.getAttributeNS(e,"region",this.settings.ttmlNamespace)),t}_getTagNameEquivalent(e){const t=c.getLocalTagName(e),n=e.namespaceURI;return n===this.settings.ttmlNamespace?`ttml:${t}`:"http://www.w3.org/1999/xhtml"===n?t:""}_applyStyle(e,t,n,a){let i=a;switch(n){case"color":case"backgroundColor":return i=s._ttmlToCssColor(a),void(0,r.AH)(e,n,i);case"direction":case"display":case"fontStyle":case"fontWeight":case"opacity":case"visibility":case"zIndex":return void(0,r.AH)(e,n,i);case"displayAlign":switch(a){case"before":i="top";break;case"center":i="middle";break;case"after":i="bottom"}return void(0,r.AH)(e,"vertical-align",i);case"extent":{let t,n;if("auto"!==a){const e=a.split(/\s+/);2===e.length&&(t=this._ttmlToCssUnits(e[0],!0),n=this._ttmlToCssUnits(e[1],!1))}return t||(t=`${(this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions.width:this.settings.relatedMediaObjectRegion.width).toString()}px`,n=`${(this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions.height:this.settings.relatedMediaObjectRegion.height).toString()}px`),(0,r.AH)(e,"position","absolute"),(0,r.AH)(e,"width",t),(0,r.AH)(e,"min-width",t),(0,r.AH)(e,"max-width",t),(0,r.AH)(e,"height",n),(0,r.AH)(e,"min-height",n),void(0,r.AH)(e,"max-height",n)}case"fontFamily":return this.settings.fontMap&&this.settings.fontMap[a]&&(i=this.settings.fontMap[a]),"smallCaps"===a&&(0,r.AH)(e,"fontVariant","small-caps"),void(0,r.AH)(e,n,i);case"fontSize":{const o=a.split(/\s+/),s=o.length>1?o[1]:o[0];return i=this._ttmlToCssFontSize(s,!1,.75,"ttml:region"===t),void(0,r.AH)(e,n,i)}case"lineHeight":return i="normal"===a?a:this._ttmlToCssFontSize(a,!1),void(0,r.AH)(e,"line-height",i);case"computed-lineHeight":{const t=a.split(",");let n=-1;for(const e of t)if(i=this._ttmlToCssFontSize(e,!1),i&&i.indexOf("px")===i.length-2){const e=Number.parseFloat(i.substr(0,i.length-2));!isNaN(e)&&e>n&&(n=e)}return void(n>=0&&(0,r.AH)(e,"line-height",`${n}px`))}case"origin":if("auto"!==a){const t=a.split(/\s+/);2===t.length&&((0,r.AH)(e,"position","absolute"),(0,r.AH)(e,"left",this._ttmlToCssUnits(t[0],!0)),(0,r.AH)(e,"top",this._ttmlToCssUnits(t[1],!1)))}return;case"padding":{const t=(0,r.Eo)(e),n=a.split(/\s+/);let o,s,l,c;switch(n.length){case 1:o=this._ttmlToCssUnits(n[0],!1,t),s=this._ttmlToCssUnits(n[0],!0,t),i=(0,r.GP)("{0} {1} {0} {1}",o,s);break;case 2:o=this._ttmlToCssUnits(n[0],!1,t),s=this._ttmlToCssUnits(n[1],!0,t),i=(0,r.GP)("{0} {1} {0} {1}",o,s);break;case 3:o=this._ttmlToCssUnits(n[0],!1,t),s=this._ttmlToCssUnits(n[1],!0,t),l=this._ttmlToCssUnits(n[2],!1,t),i=(0,r.GP)("{0} {1} {2} {1}",o,s,l);break;case 4:o=this._ttmlToCssUnits(n[0],!1,t),s=this._ttmlToCssUnits(n[1],!0,t),l=this._ttmlToCssUnits(n[2],!1,t),c=this._ttmlToCssUnits(n[3],!0,t),i=(0,r.GP)("{0} {1} {2} {3}",o,s,l,c)}return(0,r.AH)(e,"box-sizing","border-box"),(0,r.AH)(e,"border-style","solid"),(0,r.AH)(e,"border-color","transparent"),void(0,r.AH)(e,"border-width",i)}case"textAlign":switch(a){case"start":i="left";break;case"end":i="right"}return void(0,r.AH)(e,"text-align",i);case"textDecoration":return i=s._ttmlToCssTextDecoration(a),void(0,r.AH)(e,"text-decoration",i);case"textOutline":{const t=(0,r.AH)(e,"color");return void(0,r.AH)(e,"text-shadow",this._ttmlToCssTextOutline(i,t))}case"unicodeBidi":if("bidiOverride"===a)i="bidi-override";return void(0,r.AH)(e,"unicode-bidi",i);case"writingMode":switch(a){case"lr":case"lrtb":return(0,r.AH)(e,"writing-mode","horizontal-tb"),(0,r.AH)(e,"-webkit-writing-mode","horizontal-tb"),void(0,r.AH)(e,"writing-mode","lr-tb");case"rl":case"rltb":return(0,r.AH)(e,"writing-mode","horizontal-tb"),(0,r.AH)(e,"-webkit-writing-mode","horizontal-tb"),void(0,r.AH)(e,"writing-mode","rl-tb");case"tblr":return(0,r.AH)(e,"text-orientation","upright"),(0,r.AH)(e,"writing-mode","vertical-lr"),(0,r.AH)(e,"-webkit-text-orientation","upright"),(0,r.AH)(e,"-webkit-writing-mode","vertical-lr"),void(0,r.AH)(e,"writing-mode","tb-lr");case"tb":case"tbrl":return(0,r.AH)(e,"text-orientation","upright"),(0,r.AH)(e,"writing-mode","vertical-rl"),(0,r.AH)(e,"-webkit-text-orientation","upright"),(0,r.AH)(e,"-webkit-writing-mode","vertical-rl"),void(0,r.AH)(e,"writing-mode","tb-rl")}return;case"wrapOption":return void(0,r.AH)(e,"white-space","noWrap"===a?"nowrap":"pre"===a?"pre":"normal");default:(0,r.AH)(e,n,i)}}_ttmlToCssUnits(e,t,n){let a=e;if(e){const r=e.charAt(e.length-1);if("c"===r||"%"===r){const i=this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions:this.settings.relatedMediaObjectRegion,o=Number.parseFloat(e.substr(0,e.length-1));let s,l=t?i.width:i.height;if("c"===r){const e=t?this.settings.cellResolution.columns:this.settings.cellResolution.rows;s=o*l/e}else"%"===r&&(n&&(l=t?n.width:n.height),s=l*o/100);s=Math.round(10*s)/10,a=`${s}px`}}return a}_ttmlToCssFontSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e;if(e){const i=e.charAt(e.length-1);if("c"===i||a&&"%"===i){const a=this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions:this.settings.relatedMediaObjectRegion,o=Number.parseFloat(e.substr(0,e.length-1)),s=t?a.width:a.height,l=t?this.settings.cellResolution.columns:this.settings.cellResolution.rows;let c=o*s/l;"%"===i&&(c/=100),c=Math.floor(c*n*10)/10,r=`${c}px`}}return r}_ttmlToCssTextOutline(e,t){let n="none";if(!(0,r.oT)(e)&&"none"!==e){let a=e.split(/\s+/),i="",o="",l="";if(1===a.length)i=t,o=a[0],l="";else if(3===a.length)i=a[0],o=a[1],l=a[2];else if(2===a.length){const e=a[0].charAt(0);e>="0"&&e<="9"?(i=t,o=a[0],l=a[1]):(i=a[0],o=a[1],l="")}if(l=this._ttmlToCssFontSize(l,!1,.75),o=this._ttmlToCssFontSize(o,!1,.75),a=s.lengthRegEx.exec(o),a&&3===a.length){const e=Math.round(Number.parseFloat(a[1])),t=a[2];n="";for(let a=-e;a<=e;a++)for(let o=-e;o<=e;o++)0===a&&0===o||(n+=(0,r.GP)("{0}{4} {1}{4} {2} {3}, ",a,o,l,s._ttmlToCssColor(i),t));n&&(n=n.substr(0,n.length-2))}}return n}}s.lengthRegEx=/\s*(\d+\.*\d*)(.*)\s*/,s.rgbaRegEx=/\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*/,s.TtmlNamedColorMap={transparent:"rgba(0,0,0,0)",black:"rgba(0,0,0,1)",silver:"rgba(192,192,192,1)",gray:"rgba(128,128,128,1)",white:"rgba(255,255,255,1)",maroon:"rgba(128,0,0,1)",red:"rgba(255,0,0,1)",purple:"rgba(128,0,128,1)",fuchsia:"rgba(255,0,255,1)",magenta:"rgba(255,0,255,1)",green:"rgba(0,128,0,1)",lime:"rgba(0,255,0,1)",olive:"rgba(128,128,0,1)",yellow:"rgba(255,255,0,1)",navy:"rgba(0,0,128,1)",blue:"rgba(0,0,255,1)",teal:"rgba(0,128,128,1)",aqua:"rgba(0,255,255,1)",cyan:"rgba(0,255,255,1)"};class l{constructor(e,t){this.mediaFrameRate=e,this.mediaTickRate=t}parse(e){if(!e)return 0;const t=l.absoluteTimeRegex.exec(e);if(t&&t.length>3){const e=60*Number.parseInt(t[1],10)*60,n=60*Number.parseInt(t[2],10),a=Number.parseInt(t[3],10);let r=0;return t[5]&&(r=1e3*Number.parseFloat(t[4])),t[6]&&(r=Math.round(Number.parseFloat(t[6])*this._getTimeUnitMultiplier("f"))),1e3*(e+n+a)+r}const n=l.relativeTimeRegex.exec(e);return n&&n.length>3?Math.round(Number.parseFloat(n[1])*this._getTimeUnitMultiplier(n[3])):0}_getTimeUnitMultiplier(e){switch(e){case"h":return 36e5;case"ms":return 1;case"m":return 6e4;case"s":return 1e3;case"f":return 1e3/this.mediaFrameRate;case"t":return 1e3/this.mediaTickRate;default:return 0}}}l.absoluteTimeRegex=/^(\d+):(\d{2}):(\d{2})((\.\d+)|:(\d{2,}(\.\d+)?))?$/,l.relativeTimeRegex=/^(\d+(\.\d+)?)(ms|[fhmst])$/;class c{static getLocalTagName(e){return e.localName||e.baseName}static getAttributeNS(e,t,n){let a=e.getAttributeNS(n,t);if(!a)for(const i of(0,r.bD)(e.attributes))if(i.localName===t&&i.lookupNamespaceURI(i.prefix)===n){a=i.value;break}return a}static parse(e,t){e="string"==typeof e?c._parseXml(e):e;const n=new s;if(n.settings=new o(t),n.root=c._verifyRoot(e,n),n.body=c._getFirstElementByTagNameNS(n.root,"body",n.settings.ttmlNamespace),n.events=[],n.styleSetCache=[],n.body){c._parseTtAttrs(n);const e=c._ensureRegions(n),t=c.getAttributeNS(n.root,"timeBase",n.settings.ttmlParameterNamespace)||"media";if(n.settings.supportedTimeBase.includes(t)){c._processAnonymousSpans(n,n.body);const t=new l(n.settings.mediaFrameRate,n.settings.mediaTickRate);c._applyTiming(n,n.root,{start:c.mediaStart,end:c.mediaEnd},!0,t),c._applyStyling(n,e)}n.events.push({time:c.mediaEnd,element:void 0}),n.events.sort(((e,t)=>e.time-t.time))}return n}static applyInlineStyles(e,t,n){for(const a of(0,r.bD)(n.attributes))a.namespaceURI===e.ttmlStyleNamespace&&(t[c.getLocalTagName(a)]=(0,r.Bq)(a.nodeValue))}static _parseXml(e){let t;if(window.DOMParser){const n=new window.DOMParser;t=n.parseFromString(e,"application/xml")}else{const n=new window.ActiveXObject("Microsoft.XMLDOM");n.async=!1,n.loadXML(e),t=n}return t}static _verifyRoot(e,t){let n;const a=e.documentElement;return"tt"===c.getLocalTagName(a)&&("http://www.w3.org/ns/ttml"!==a.namespaceURI&&(t.settings.ttmlNamespace=a.namespaceURI,t.settings.ttmlStyleNamespace=`${t.settings.ttmlNamespace}#styling`,t.settings.ttmlParameterNamespace=`${t.settings.ttmlNamespace}#parameter`,t.settings.ttmlMetaNamespace=`${t.settings.ttmlNamespace}#metadata`),n=a),n}static _parseTtAttrs(e){const t=c.getAttributeNS(e.root,"cellResolution",e.settings.ttmlParameterNamespace),n=c.getAttributeNS(e.root,"extent",e.settings.ttmlStyleNamespace);let a=null;if(t){const e=(0,r.Bq)(t).split(/\s+/);if(2===e.length){const t=Math.round(Number.parseFloat(e[0])),n=Math.round(Number.parseFloat(e[1]));n>0&&t>0&&(a={rows:n,columns:t})}}if(a&&(e.settings.cellResolution=a),n&&"auto"!==n){const t=n.split(/\s+/);if(2===t.length&&"px"===t[0].substr(t[0].length-2)&&"px"===t[1].substr(t[1].length-2)){const n=Number.parseFloat(t[0].substr(0,t[0].length-2)),a=Number.parseFloat(t[1].substr(0,t[1].length-2));e.settings.rootContainerRegionDimensions={width:Math.round(n),height:Math.round(a)}}}}static _ensureRegions(e){e.rootContainerRegion=e.root.ownerDocument.createElementNS(e.settings.ttmlNamespace,"rootcontainerregion"),e.root.appendChild(e.rootContainerRegion);const t=e.settings.rootContainerRegionDimensions?(0,r.GP)("{0}px {1}px",e.settings.rootContainerRegionDimensions.width,e.settings.rootContainerRegionDimensions.height):"auto";e.rootContainerRegion.setAttributeNS(e.settings.ttmlStyleNamespace,"extent",t);let n=c._getFirstElementByTagNameNS(e.root,"head",e.settings.ttmlNamespace);n||(n=e.root.ownerDocument.createElementNS(e.settings.ttmlNamespace,"head"),e.root.appendChild(n)),e.layout=c._getFirstElementByTagNameNS(n,"layout",e.settings.ttmlNamespace),e.layout||(e.layout=e.root.ownerDocument.createElementNS(e.settings.ttmlNamespace,"layout"),e.root.appendChild(e.layout));const a=e.layout.getElementsByTagNameNS(e.settings.ttmlNamespace,"region");if(!a.length){const t=e.root.ownerDocument.createElementNS(e.settings.ttmlNamespace,"region");t.setAttributeNS(i,"id","anonymous"),t.setAttribute("data-isanonymous","1"),e.layout.appendChild(t),e.body.setAttributeNS(e.settings.ttmlNamespace,"region","anonymous")}return n}static _processAnonymousSpans(e,t){if(c._isTagNS(t,"p",e.settings.ttmlNamespace)){const n=[];let a=0;for(const e of(0,r.bD)(t.childNodes))e.nodeType===Node.TEXT_NODE&&(a!==Node.TEXT_NODE&&n.push([]),n[n.length-1].push(e)),a=e.nodeType;for(const t of n){const n=e.root.ownerDocument.createElementNS(e.settings.ttmlNamespace,"span");n.appendChild(t[0].parentNode.replaceChild(n,t[0]));for(let e=1;e<t.length;e++)n.appendChild(t[e])}}for(const n of(0,r.bD)(t.childNodes))this._processAnonymousSpans(e,n)}static _applyTiming(e,t,n,a,i){const o=c.getAttributeNS(t,"begin",e.settings.ttmlNamespace);let s=o?i.parse(o):n.start,l=0,u=0,d=0;const p=c.getAttributeNS(t,"dur",e.settings.ttmlNamespace),m=c.getAttributeNS(t,"end",e.settings.ttmlNamespace);if(p||m)if(p&&m){u=i.parse(p),d=i.parse(m);const e=Math.min(s+u,n.start+d);l=Math.min(e,n.end)}else m?(d=i.parse(m),l=Math.min(n.start+d,n.end)):(u=i.parse(p),l=Math.min(s+u,n.end));else a&&(l=s<=n.end?n.end:0);l<s&&(l=s),s=Math.floor(s),l=Math.floor(l),t.setAttribute("data-time-start",s.toString()),t.setAttribute("data-time-end",l.toString()),s>=0&&e.events.filter((e=>e.time===s)).length<=0&&e.events.push({time:s,element:t});let h=s;for(const n of(0,r.bD)(t.childNodes))n.nodeType===Node.ELEMENT_NODE&&("seq"!==c.getAttributeNS(t,"timeContainer",e.settings.ttmlNamespace)?this._applyTiming(e,n,{start:s,end:l},!0,i):(this._applyTiming(e,n,{start:h,end:l},!1,i),h=Number.parseInt(n.getAttribute("data-time-end"),10)))}static _applyStyling(e,t){const n=c._getFirstElementByTagNameNS(t,"styling",e.settings.ttmlNamespace),a=n?(0,r.bD)(n.getElementsByTagNameNS(e.settings.ttmlNamespace,"style")):[];for(const t of(0,r.bD)(e.root.querySelectorAll("*")))this._applyStyle(e,t,a)}static _applyStyle(e,t,n){const a={};this._applyStylesheet(e.settings,a,t,n),c.applyInlineStyles(e.settings,a,t);let r=!0;for(const e in a)if(a.hasOwnProperty(e)){r=!1;break}r||(t.setAttribute("data-styleSet",e.styleSetCache.length.toString()),e.styleSetCache.push(a))}static _applyStylesheet(e,t,n,a){const o=c.getAttributeNS(n,"style",e.ttmlNamespace),s=o?o.split(/\s+/):[];for(const n of s)for(const r of a)c.getAttributeNS(r,"id",i)===n&&(this._applyStylesheet(e,t,r,a),c.applyInlineStyles(e,t,r));if(c._isTagNS(n,"region",e.ttmlNamespace))for(const a of(0,r.bD)(n.getElementsByTagNameNS(e.ttmlNamespace,"style")))c.applyInlineStyles(e,t,a)}static _isTagNS(e,t,n){return e.namespaceURI===n&&this.getLocalTagName(e)===t}static _getFirstElementByTagNameNS(e,t,n){let a;if(e){const r=e.getElementsByTagNameNS(n,t);r&&r.length&&(a=r[0])}return a}}c.mediaStart=-1,c.mediaEnd=99999999;var u=n(1153);class d extends a.Component{constructor(e){super(e),this.userPreferences={text:{},window:{}},this.closedCaptionDiv=a.createRef(),this.lastPlayPosition=0,this.ttmlContext=null,this.resetCaptions(),this.clicked=this.clicked.bind(this)}render(){const{className:e}=this.props,t={bottom:this.props.isVideoControlVisible?"2.5em":"0",transition:"bottom 0.5s ease-in 0s"};return a.createElement("div",{role:"none",className:e,ref:this.closedCaptionDiv,"aria-hidden":!this.props.showClosedCaptions,style:t,onClick:this.clicked})}clicked(){this.props.onClosedCaptionClick()}componentDidMount(){this.props.ccURL&&this._setCcLanguage(this.props.ccURL),window&&window.addEventListener("resize",(()=>{this.props.showClosedCaptions&&this.updateCaptions(this.props.currentTime)}))}shouldComponentUpdate(e){let t=!1;return(e.showClosedCaptions||this.props.showClosedCaptions!==e.showClosedCaptions)&&(t=!0),t}componentWillUnmount(){window&&window.removeEventListener("resize",(()=>{this.props.showClosedCaptions&&this.updateCaptions(this.props.currentTime)}))}componentDidUpdate(e){this.props.showClosedCaptions&&(e.ccLanguage!==this.props.ccLanguage&&this.props.ccURL&&this._setCcLanguage(this.props.ccURL),this.applySettings(),this.resetCaptions(),this.updateCaptions(this.props.currentTime),e.isVideoControlVisible!==this.props.isVideoControlVisible&&(this.applySettings(),this.resetCaptions(),window.setTimeout((()=>{this.updateCaptions(this.props.currentTime)}),500)))}showSampleCaptions(){this.ttmlContext=null;const e=(new DOMParser).parseFromString("<?xml version='1.0' encoding='utf-8'?>\n<tt xml:lang='en-us' xmlns='http://www.w3.org/ns/ttml' xmlns:tts='http://www.w3.org/ns/ttml#styling'\nxmlns:ttm='http://www.w3.org/ns/ttml#metadata'>\n    <head>\n    <metadata>\n        <ttm:title>Media.wvx.aib</ttm:title>\n        <ttm:copyright>Copyright (c) 2013 Microsoft Corporation.  All rights reserved.</ttm:copyright>\n    </metadata>\n    <styling>\n        <style xml:id='Style1' tts:fontFamily='proportionalSansSerif' tts:fontSize='0.8c' tts:textAlign='center'\n        tts:color='white' />\n    </styling>\n    <layout>\n        <region style='Style1' xml:id='CaptionArea' tts:origin='0c 12.6c' tts:extent='32c 2.4c'\n        tts:backgroundColor='rgba(0,0,0,160)' tts:displayAlign='center' tts:padding='0.3c 0.5c' />\n    </layout>\n    </head>\n    <body region='CaptionArea'>\n    <div>\n        <p begin='00:00:01.140' end='99:99:99.999'>EXAMPLE CAPTIONS!</p>\n    </div>\n    </body>\n</tt>","text/xml");this._onClosedCaptionsLoaded(e);const t=(0,r.Eo)(this.closedCaptionDiv.current);this.ttmlContext.updateRelatedMediaObjectRegion(t),this.closedCaptionDiv.current.style.bottom="2.5rem"}updateCaptions(e){let t="";if(this.lastPlayPosition=e,this.ttmlContext&&this.ttmlContext.hasEvents()){const n=Math.floor(1e3*e),a=(0,r.Eo)(this.closedCaptionDiv.current);if(this.ttmlContext.updateRelatedMediaObjectRegion(a)&&this.resetCaptions(),this.ttmlContext.updateCurrentEvents(n)){(0,r.sg)(this.closedCaptionDiv.current);for(const e of this.ttmlContext.getCues(n))this._applyUserPreferencesOverrides(e),(0,r.AH)(e,"background-color",""),t=e.outerHTML;this.closedCaptionDiv.current.innerHTML=t}}}resetCaptions(){this.ttmlContext&&this.ttmlContext.resetCurrentEvents(),this.closedCaptionDiv.current&&(0,r.sg)(this.closedCaptionDiv.current),this.applySettings()}applySettings(){const e={},t=this.props.tempClosedCaptionsSettings?this.props.tempClosedCaptionsSettings:this.props.currentClosedCaptionsSettings;for(const n in t)if(t.hasOwnProperty(n)){const a=this._getOptionValue(n,t[n]);a&&(e[n]=`${u.HU[n].value}${a}`)}this.userPreferences.text=this._getPrefsCss(e,"text"),this.userPreferences.window=this._getPrefsCss(e,"window")}_loadClosedCaptions(e){r.iW.ajax(e,(e=>{this._onClosedCaptionsLoaded(e)}),(()=>{this.props.errorCallback&&this.props.errorCallback({errorType:"Player.error.loadClosedCaptions.ajax",errorDesc:`Ajax call failed: ' ${e}`})}))}_onClosedCaptionsLoaded(e){if(!e)return void(this.props.errorCallback&&this.props.errorCallback({errorType:"Player.error.onClosedCaptionsLoaded.ttmlDoc",errorDesc:"No ttmlDocument found"}));const t=this.closedCaptionDiv.current.id?`${this.closedCaptionDiv.current.id} '-'`:"",n={idPrefix:t,fontMap:{default:"Segoe ui, Arial"},relatedMediaObjectRegion:(0,r.Eo)(this.closedCaptionDiv.current)};try{this.ttmlContext=c.parse(e,n),this.ttmlContext&&(this.ttmlContext.setOwnerDocument(this.closedCaptionDiv.current.ownerDocument),this.ttmlContext.hasEvents()&&this.updateCaptions(this.lastPlayPosition))}catch(e){this.props.errorCallback&&this.props.errorCallback({errorType:"Player.error.onClosedCaptionsLoaded.ttmlParser",errorDesc:`'TtmlDocument parser error: ' ${e.message}`})}}_applyUserPreferencesOverrides(e){if(this.userPreferences){if(this.userPreferences.text)for(const t of(0,r.Cq)("span, br",e))for(const e in this.userPreferences.text)this.userPreferences.text.hasOwnProperty(e)&&(0,r.AH)(t,e,this.userPreferences.text[e]);if(this.userPreferences.window){const t=(0,r.n_)("p",e);if(t)for(const e in this.userPreferences.window)this.userPreferences.window.hasOwnProperty(e)&&(0,r.AH)(t,e,this.userPreferences.window[e])}}}_setCcLanguage(e){this.ttmlContext=null,this.resetCaptions(),e&&this._loadClosedCaptions(e)}_getOptionValue(e,t){const n=u.HU[e];if(n){const e=u.tP[n.option];return e&&e.map[t]}return""}_getPrefsCss(e,t){const n={};for(const a in e)if(e.hasOwnProperty(a)){const r=e[a];if(a.startsWith(t)&&!a.includes("opacity")&&r&&r.length>0){const e=r.split(";");for(const t of e){const e=t.split(":");e.length>1&&(n[e[0].trim()]=e[1].trim())}}}for(const a in e)if(e.hasOwnProperty(a)){const r=e[a];if(a.startsWith(t)&&a.indexOf("opacity")>0){const e=r.split(":");if(e.length>1){const t=n[e[0].trim()],a=e[1].trim();n[e[0].trim()]=this._formatAsRgba(t,a)}}}return n}_formatAsRgba(e,t){let n=(0,r.GP)("rgba(0,0,0,{0})",t);const a=e?e.indexOf("#"):-1;if(a>=0){const i=e.substr(a+1),o=i.length/3;if(o>0){const e=Number.parseInt(i.substr(0,o),16),a=Number.parseInt(i.substr(o,o),16),s=Number.parseInt(i.substr(2*o,o),16);n=(0,r.GP)("rgba({0},{1},{2},{3})",e,a,s,t)}}return n}}},1105:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,q:()=>a});var a,r=n(0);!function(e){e.Facebook="facebook",e.Twitter="twitter",e.Pinterest="pinterest",e.Mail="mail",e.Linkedin="linkedin",e.Customization="customization"}(a||(a={}));var i=function(e){var t=e.src&&e.src.src;return r.createElement("img",{onClick:function(t){o(e)},src:t,alt:e.socialMediaName||e.socialMedia,title:e.socialMediaName||e.socialMedia})},o=function(e){var t,n=encodeURIComponent(e.postUrl),r=document.getElementsByName("twitter:image")[0].getAttribute("content");switch(e.socialMedia){case a.Facebook:t="https://www.facebook.com/sharer.php?u="+n;break;case a.Twitter:t="https://twitter.com/share?url="+n+(e.postTitle?"&text="+e.postTitle:"");break;case a.Pinterest:t="https://www.pinterest.com/pin/create/button/?url="+n+(r?"&media="+r:"")+(e.postTitle?"&description="+e.postTitle:"");break;case a.Mail:t="mailto:?body=Check%20out%20this%20site:"+n+(e.postTitle?"&subject="+e.postTitle:"");break;case a.Linkedin:t="https://www.linkedin.com/shareArticle?mini=true&url="+n+(e.postTitle?"&title="+e.postTitle:"");break;case a.Customization:t=e.socialShareURL&&""+e.socialShareURL+n}t&&function(e){var t=(screen.width-570)/2,n=(screen.height-570)/2,a="menubar=no,toolbar=no,status=no,width=570,height=570,top='"+n+"',left='"+t;window.open(e,"NewWindow",a)}(t)}},1147:(e,t,n)=>{"use strict";n.d(t,{AgeGate:()=>r.AgeGate,ClosedCaptionHelper:()=>s.RA,ClosedCaptionTypes:()=>o.ClosedCaptionTypes,ClosedCaptions:()=>i.ClosedCaptions,KeyCodes:()=>d.cK,LocalizationConstants:()=>s.vh,LocalizationHelper:()=>s.wV,MediaEvents:()=>o.MediaEvents,MenuCategories:()=>o.MenuCategories,PlayPauseTrigger:()=>u.PlayPauseTrigger,PlayerConstants:()=>o.PlayerConstants,PlayerHelper:()=>s.qi,VideoControls:()=>p.VideoControls,VideoErrorCodes:()=>o.VideoErrorCodes,VideoPlayerNames:()=>o.VideoPlayerNames,closedCaptionsSettingDefaults:()=>i.closedCaptionsSettingDefaults,format:()=>d.GP,isNullOrWhiteSpace:()=>d.oT,isSafari:()=>d.nr,videoClosedCaptionsConstant:()=>i.videoClosedCaptionsConstant});var a=n(478);n.o(a,"AgeGate")&&n.d(t,{AgeGate:function(){return a.AgeGate}}),n.o(a,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return a.ClosedCaptionHelper}}),n.o(a,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return a.ClosedCaptionTypes}}),n.o(a,"ClosedCaptions")&&n.d(t,{ClosedCaptions:function(){return a.ClosedCaptions}}),n.o(a,"KeyCodes")&&n.d(t,{KeyCodes:function(){return a.KeyCodes}}),n.o(a,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return a.LocalizationConstants}}),n.o(a,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return a.LocalizationHelper}}),n.o(a,"MediaEvents")&&n.d(t,{MediaEvents:function(){return a.MediaEvents}}),n.o(a,"MenuCategories")&&n.d(t,{MenuCategories:function(){return a.MenuCategories}}),n.o(a,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return a.PlayPauseTrigger}}),n.o(a,"PlayerConstants")&&n.d(t,{PlayerConstants:function(){return a.PlayerConstants}}),n.o(a,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return a.PlayerHelper}}),n.o(a,"VideoControls")&&n.d(t,{VideoControls:function(){return a.VideoControls}}),n.o(a,"VideoErrorCodes")&&n.d(t,{VideoErrorCodes:function(){return a.VideoErrorCodes}}),n.o(a,"VideoPlayerNames")&&n.d(t,{VideoPlayerNames:function(){return a.VideoPlayerNames}}),n.o(a,"closedCaptionsSettingDefaults")&&n.d(t,{closedCaptionsSettingDefaults:function(){return a.closedCaptionsSettingDefaults}}),n.o(a,"format")&&n.d(t,{format:function(){return a.format}}),n.o(a,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return a.isNullOrWhiteSpace}}),n.o(a,"isSafari")&&n.d(t,{isSafari:function(){return a.isSafari}}),n.o(a,"videoClosedCaptionsConstant")&&n.d(t,{videoClosedCaptionsConstant:function(){return a.videoClosedCaptionsConstant}});var r=n(1149);n.o(r,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return r.ClosedCaptionHelper}}),n.o(r,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return r.ClosedCaptionTypes}}),n.o(r,"ClosedCaptions")&&n.d(t,{ClosedCaptions:function(){return r.ClosedCaptions}}),n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return r.LocalizationConstants}}),n.o(r,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return r.LocalizationHelper}}),n.o(r,"MediaEvents")&&n.d(t,{MediaEvents:function(){return r.MediaEvents}}),n.o(r,"MenuCategories")&&n.d(t,{MenuCategories:function(){return r.MenuCategories}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"PlayerConstants")&&n.d(t,{PlayerConstants:function(){return r.PlayerConstants}}),n.o(r,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return r.PlayerHelper}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"VideoErrorCodes")&&n.d(t,{VideoErrorCodes:function(){return r.VideoErrorCodes}}),n.o(r,"VideoPlayerNames")&&n.d(t,{VideoPlayerNames:function(){return r.VideoPlayerNames}}),n.o(r,"closedCaptionsSettingDefaults")&&n.d(t,{closedCaptionsSettingDefaults:function(){return r.closedCaptionsSettingDefaults}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}}),n.o(r,"videoClosedCaptionsConstant")&&n.d(t,{videoClosedCaptionsConstant:function(){return r.videoClosedCaptionsConstant}});var i=n(692);n.o(i,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return i.ClosedCaptionHelper}}),n.o(i,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return i.ClosedCaptionTypes}}),n.o(i,"KeyCodes")&&n.d(t,{KeyCodes:function(){return i.KeyCodes}}),n.o(i,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return i.LocalizationConstants}}),n.o(i,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return i.LocalizationHelper}}),n.o(i,"MediaEvents")&&n.d(t,{MediaEvents:function(){return i.MediaEvents}}),n.o(i,"MenuCategories")&&n.d(t,{MenuCategories:function(){return i.MenuCategories}}),n.o(i,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return i.PlayPauseTrigger}}),n.o(i,"PlayerConstants")&&n.d(t,{PlayerConstants:function(){return i.PlayerConstants}}),n.o(i,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return i.PlayerHelper}}),n.o(i,"VideoControls")&&n.d(t,{VideoControls:function(){return i.VideoControls}}),n.o(i,"VideoErrorCodes")&&n.d(t,{VideoErrorCodes:function(){return i.VideoErrorCodes}}),n.o(i,"VideoPlayerNames")&&n.d(t,{VideoPlayerNames:function(){return i.VideoPlayerNames}}),n.o(i,"format")&&n.d(t,{format:function(){return i.format}}),n.o(i,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return i.isNullOrWhiteSpace}}),n.o(i,"isSafari")&&n.d(t,{isSafari:function(){return i.isSafari}});var o=n(289);n.o(o,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return o.ClosedCaptionHelper}}),n.o(o,"KeyCodes")&&n.d(t,{KeyCodes:function(){return o.KeyCodes}}),n.o(o,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return o.LocalizationConstants}}),n.o(o,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return o.LocalizationHelper}}),n.o(o,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return o.PlayPauseTrigger}}),n.o(o,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return o.PlayerHelper}}),n.o(o,"VideoControls")&&n.d(t,{VideoControls:function(){return o.VideoControls}}),n.o(o,"format")&&n.d(t,{format:function(){return o.format}}),n.o(o,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return o.isNullOrWhiteSpace}}),n.o(o,"isSafari")&&n.d(t,{isSafari:function(){return o.isSafari}});var s=n(480),l=n(693);n.o(l,"KeyCodes")&&n.d(t,{KeyCodes:function(){return l.KeyCodes}}),n.o(l,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return l.PlayPauseTrigger}}),n.o(l,"VideoControls")&&n.d(t,{VideoControls:function(){return l.VideoControls}}),n.o(l,"format")&&n.d(t,{format:function(){return l.format}}),n.o(l,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return l.isNullOrWhiteSpace}}),n.o(l,"isSafari")&&n.d(t,{isSafari:function(){return l.isSafari}});var c=n(694);n.o(c,"KeyCodes")&&n.d(t,{KeyCodes:function(){return c.KeyCodes}}),n.o(c,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return c.PlayPauseTrigger}}),n.o(c,"VideoControls")&&n.d(t,{VideoControls:function(){return c.VideoControls}}),n.o(c,"format")&&n.d(t,{format:function(){return c.format}}),n.o(c,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return c.isNullOrWhiteSpace}}),n.o(c,"isSafari")&&n.d(t,{isSafari:function(){return c.isSafari}});var u=n(1156);n.o(u,"KeyCodes")&&n.d(t,{KeyCodes:function(){return u.KeyCodes}}),n.o(u,"VideoControls")&&n.d(t,{VideoControls:function(){return u.VideoControls}}),n.o(u,"format")&&n.d(t,{format:function(){return u.format}}),n.o(u,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return u.isNullOrWhiteSpace}}),n.o(u,"isSafari")&&n.d(t,{isSafari:function(){return u.isSafari}});var d=n(276),p=n(1158)},1148:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(41),r=(n(3),n(0));const i=["className","children","toggled","onChange"];class o extends r.PureComponent{constructor(e){super(e),this._divRef=r.createRef(),this._focusElement=null,this._onClick=this._onClick.bind(this)}getSnapshotBeforeUpdate(){var e;return this._focusElement=null,null!==(e=this._divRef.current)&&void 0!==e&&e.contains(document.activeElement)&&(this._focusElement=document.activeElement),null}render(){const e=this.props,{className:t,children:n,toggled:o,onChange:s}=e,l=(0,a.A)(e,i),c=`action-toggle${t?" ":""}${t||""}`;return 2!==r.Children.count(n)?null:r.createElement("div",Object.assign({className:c},l,{ref:this._divRef}),r.Children.map(n,((e,t)=>{const n=!t&&!!o||!!t&&!o;return r.cloneElement(e,{"aria-hidden":n,onClick:this._onClick})})))}_onClick(e){if(e.stopPropagation(),this.props.onChange&&this.props.onChange({id:this.props.id,actionToggle:this,toggled:!!this.props.toggled,event:e}),this._divRef.current&&this._focusElement){const e=this._divRef.current.children[this.props.toggled?1:0];e!==document.activeElement&&e.focus()}}}},1149:(e,t,n)=>{"use strict";n.d(t,{AgeGate:()=>a.A});var a=n(1150),r=n(1310);n.o(r,"ClosedCaptionHelper")&&n.d(t,{ClosedCaptionHelper:function(){return r.ClosedCaptionHelper}}),n.o(r,"ClosedCaptionTypes")&&n.d(t,{ClosedCaptionTypes:function(){return r.ClosedCaptionTypes}}),n.o(r,"ClosedCaptions")&&n.d(t,{ClosedCaptions:function(){return r.ClosedCaptions}}),n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"LocalizationConstants")&&n.d(t,{LocalizationConstants:function(){return r.LocalizationConstants}}),n.o(r,"LocalizationHelper")&&n.d(t,{LocalizationHelper:function(){return r.LocalizationHelper}}),n.o(r,"MediaEvents")&&n.d(t,{MediaEvents:function(){return r.MediaEvents}}),n.o(r,"MenuCategories")&&n.d(t,{MenuCategories:function(){return r.MenuCategories}}),n.o(r,"PlayPauseTrigger")&&n.d(t,{PlayPauseTrigger:function(){return r.PlayPauseTrigger}}),n.o(r,"PlayerConstants")&&n.d(t,{PlayerConstants:function(){return r.PlayerConstants}}),n.o(r,"PlayerHelper")&&n.d(t,{PlayerHelper:function(){return r.PlayerHelper}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"VideoErrorCodes")&&n.d(t,{VideoErrorCodes:function(){return r.VideoErrorCodes}}),n.o(r,"VideoPlayerNames")&&n.d(t,{VideoPlayerNames:function(){return r.VideoPlayerNames}}),n.o(r,"closedCaptionsSettingDefaults")&&n.d(t,{closedCaptionsSettingDefaults:function(){return r.closedCaptionsSettingDefaults}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}}),n.o(r,"videoClosedCaptionsConstant")&&n.d(t,{videoClosedCaptionsConstant:function(){return r.videoClosedCaptionsConstant}})},1150:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(37),n(15);var a=n(0),r=n(289);class i extends a.PureComponent{constructor(e){super(e),this.ageGateDiv=a.createRef(),this.getCalculatedAge=()=>{const e=Number(this.state.dayValue),t=Number(this.state.monthValue),n=Number(this.state.yearValue),a=new Date;let r=a.getFullYear()-n;const i=a.getMonth()+1<t,o=a.getMonth()+1===t&&a.getDate()<e;(i||o)&&r--;const s=Number(this.props.minmumAge);return r>=s},this.renderSelectMonth=()=>{const e=[];for(let t=1;t<=12;t++)e.push(t);const t=e.map((e=>a.createElement("option",{role:"menuitem",key:e,value:e},e.toFixed(0))));return a.createElement("select",{"aria-expanded":"false",className:`${r.VideoPlayerNames.videoplayerContainer}__agegate__select`,role:"menu",onChange:this._filterDateMonthYear,value:this.state.monthValue,"aria-label":"Enter your month of birth",name:"selectMonth",id:"selectMonth"},a.createElement("option",{role:"menuitem"},"Month"),t)},this.renderSelectDay=()=>{const e=[];for(let t=1;t<=31;t++)e.push(t);const t=e.map((e=>a.createElement("option",{role:"menuitem",key:e},e.toFixed(0))));return a.createElement("select",{"aria-expanded":"false",className:`${r.VideoPlayerNames.videoplayerContainer}__agegate__select`,role:"menu",onChange:this._filterDateMonthYear,value:this.state.dayValue,"aria-label":"Enter your day of birth",name:"selectDay",id:"selectDay"},a.createElement("option",{role:"menuitem"},"Day"),t)},this.renderSelectYear=()=>{const e=(new Date).getFullYear(),t=[];for(let n=1;n<=100;n++)t.push(e-n);const n=t.map((e=>a.createElement("option",{role:"menuitem",key:e},e.toFixed(0))));return a.createElement("select",{"aria-expanded":"false",className:`${r.VideoPlayerNames.videoplayerContainer}__agegate__select`,role:"menu",onChange:this._filterDateMonthYear,value:this.state.yearValue,"aria-label":"Enter your year of birth",name:"selectYear",id:"selectYear"},a.createElement("option",{role:"menuitem"},"Year"),n)},this._filterDateMonthYear=this._filterDateMonthYear.bind(this),this.state={monthValue:"Month",dayValue:"Day",yearValue:"Year"}}render(){const e=r.PlayerConstants.regxForAgeGateInputValidation.test(this.state.dayValue)&&r.PlayerConstants.regxForAgeGateInputValidation.test(this.state.monthValue)&&r.PlayerConstants.regxForAgeGateInputValidation.test(this.state.yearValue);return a.createElement("div",{className:`${r.VideoPlayerNames.videoplayerContainer}__agegate__container`,ref:this.ageGateDiv,"aria-hidden":this.props["aria-hidden"]},a.createElement("div",null,a.createElement("div",null,a.createElement("h3",null," Enter your date of birth "),a.createElement("fieldset",null,a.createElement("div",null,this.renderSelectMonth()),a.createElement("div",null,this.renderSelectDay()),a.createElement("div",null,this.renderSelectYear()),a.createElement("button",{disabled:!e,onClick:this.props.onSubmitClick},"Submit")))))}_filterDateMonthYear(e){switch(e.target.id){case"selectDay":this.setState({dayValue:e.target.value});break;case"selectMonth":this.setState({monthValue:e.target.value});break;case"selectYear":this.setState({yearValue:e.target.value})}}}i.defaultProps={minmumAge:18}},1151:(e,t,n)=>{"use strict";n.d(t,{W7:()=>o,hN:()=>r,jz:()=>a,q5:()=>i,wT:()=>s});const a={defaultVolume:.8,defaultVolumeSliderSteps:5,defaultVideoSliderSteps:1,defaultControlPanelTimeout:6500,defaultPositionUpdateThreshold:.1,defaultMaskLevel:40,defaultPlayGlyphIcon:"fas fa-play",defaultPauseGlyphIcon:"fas fa-pause",defaultMuteGlyphIcon:"fas fa-volume-up",defaultUnMuteGlyphIcon:"fas fa-volume-off",defaultFullScreenGlyphIcon:"fas fa-expand",defaultExitFullScreenGlyphIcon:"fas fa-compress",closedCaptionGlyphClassName:"fas fa-closed-captioning",thumbnailFullWidth:1110,thumbnailFullHeight:624,ccLangPrefKey:"vidccpref",seekBarLabel:"Seek bar",regxForAgeGateInputValidation:/^[\d\b]+$/,mutePrefKey:"vidmut",volumePrefKey:"vidvol"},r={videoplayerContainer:"msc-videoplayer",mediaType:"video/mp4"},i={AudioTracks:"audio-tracks",ClosedCaption:"close-caption",ClosedCaptionSettings:"cc-settings",PlaybackSpeed:"playback-speed",Quality:"quality",Share:"share",Download:"download",Options:"options"},o=["abort","canplay","canplaythrough","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","readystatechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];var s;!function(e){e[e.BufferingFirstByteTimeout=2e3]="BufferingFirstByteTimeout",e[e.MediaErrorAborted=2100]="MediaErrorAborted",e[e.MediaErrorNetwork=2101]="MediaErrorNetwork",e[e.MediaErrorDecode=2102]="MediaErrorDecode",e[e.MediaErrorSourceNotSupported=2103]="MediaErrorSourceNotSupported",e[e.MediaErrorUnknown=2104]="MediaErrorUnknown",e[e.MediaSelectionNoMedia=2200]="MediaSelectionNoMedia"}(s||(s={}))},1152:(e,t,n)=>{"use strict";var a,r,i,o;n.d(t,{_M:()=>r,mI:()=>a,sY:()=>i}),function(e){e.MP4="MP4",e.DASH="DASH",e.SMOOTH="SMOOTH",e.HLS="HLS"}(a||(a={})),function(e){e.HD="HD",e.HDX="HDX",e.HQ="HQ",e.SD="SD",e.LO="LO"}(r||(r={})),function(e){e.VTT="VTT",e.TTML="TTML"}(i||(i={})),function(e){e.transcript="transcript",e.audio="audio",e.video="video",e.videoWithCC="videoWithCC"}(o||(o={}))},1153:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>o,HU:()=>i,aO:()=>r,h7:()=>a,tP:()=>s});const a={presetKey:"preset"},r={preset:"preset1",text_font:"proportionalsansserif",text_color:"white",text_opacity:"100",text_size:"default",text_edge_style:"none",text_background_color:"black",text_background_opacity:"100",window_color:"black",window_opacity:"0"},i={text_font:{value:"font-family:",option:"font"},text_color:{value:"color:",option:"color"},text_size:{value:"font-size:",option:"text_size"},text_edge_style:{value:"text-shadow:",option:"text_edge_style"},text_opacity:{value:"color:",option:"percent"},text_background_color:{value:"background:",option:"color"},text_background_opacity:{value:"background:",option:"percent"},window_color:{value:"background:",option:"color"},window_opacity:{value:"background:",option:"percent"}},o={preset1:{text_font:"proportionalsansserif",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset2:{text_font:"monospacedserif",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset3:{text_font:"proportionalsansserif",text_color:"yellow",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset4:{text_font:"proportionalsansserif",text_color:"blue",text_opacity:"100",text_background_color:"grey",text_background_opacity:"100"},preset5:{text_font:"casual",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"}},s={font:{pre:"cc_font_name_",map:{casual:"Verdana;font-variant:normal",cursive:"Zapf-Chancery,Segoe script,Cursive;font-variant:normal",monospacedsansserif:"Lucida sans typewriter,Lucida console,Consolas;font-variant:normal",monospacedserif:"Courier;font-variant:normal",proportionalsansserif:"Arial,Sans-serif;font-variant:normal",proportionalserif:"Times New Roman,Serif;font-variant:normal",smallcapitals:"Arial,Helvetica,Sans-serif;font-variant:small-caps"}},percent:{pre:"cc_percent_",map:{0:"0",50:"0.5",75:"0.75",100:"1"}},text_size:{pre:"cc_text_size_",map:{small:"75%",default:"100%",large:"125%",extralarge:"150%",maximum:"200%"}},color:{pre:"cc_color_",map:{white:"#FFFFFF",black:"#000000",blue:"#0000FF",cyan:"#00FFFF",green:"#00FF00",grey:"#BCBCBC",magenta:"#FF00FF",red:"#FF0000",yellow:"#FFFF00"}},text_edge_style:{pre:"cc_text_edge_style_",map:{none:"none",depressed:"1px 1px 0 #FFF,-1px -1px 0 #000",dropshadow:"1px 1px 0 #000",raised:"1px 1px 0 #000,-1px -1px 0x #FFF",uniform:"1px 1px 0 #000,-1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000"}}}},1154:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(3),n(18);var a=n(0),r=n(694);class i extends a.Component{constructor(e){super(e),this.target=a.createRef(),this.handleDocumentClick=this.handleDocumentClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this)}componentDidMount(){["click","touchstart"].forEach((e=>{window&&window.addEventListener(e,this.handleDocumentClick,!0)}))}componentWillUnmount(){["click","touchstart"].forEach((e=>{window&&window.removeEventListener(e,this.handleDocumentClick,!0)}))}getMenuWidth(){return this.target.current.offsetWidth}shouldComponentUpdate(e){let t=!1;return e.playerMenu!==this.props.playerMenu&&(t=!0),t}render(){const{className:e,style:t}=this.props,n=this.props.playerMenu.items,i=n.length;return a.createElement("div",{className:e,style:t,ref:this.target,"data-category":this.props.playerMenu.category},a.createElement("ul",{role:"menu",className:`${e}__list`,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp},n.map(((t,n)=>a.createElement(r.MenuItem,Object.assign({id:t.id,key:n,label:t.label,className:`${e}__menuitem`,language:t.language,data:t.data,isBackButton:t.isBackButton,image:t.image,imageAlt:t.imageAlt,itemCount:i,itemIndex:n,glyph:t.glyph,selected:t.selected,selectable:t.selectable,persistOnClick:t.persistOnClick},t.id.includes("cc-preset")?{}:{ariaLabel:t.ariaLabel},{subMenu:t.subMenu,hasMouseHoverEvents:t.hasMouseHoverEvents,hasChildren:!!(void 0!==t.subMenu&&t.subMenu.items&&t.subMenu.items.length>0),onClick:this.props.onMenuItemClick,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,hasFocus:t.hasFocus}))))))}handleDocumentClick(e){const t=e.target;void 0===this.target||null!==this.target.current&&(e.target===this.target.current||this.target.current.contains(t))||this.props.onDocumentClick(e)}_onKeyDown(e){this.props.onKeyDown(e)}_onKeyUp(e){this.props.onKeyUp(e)}}},1155:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(1749),r=(n(3),n(0)),i=n.n(r);class o extends i().PureComponent{constructor(e){super(e),this.menuItem=i().createRef(),this._onClick=this._onClick.bind(this),this._onFocus=this._onFocus.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onBlur=this._onBlur.bind(this)}render(){const e=this.props,t=Object.assign({},((0,a.A)(e),e));let n=this.props.className;const r=!!t.subMenu;return r?n+=" menu__parent menu__position__right":this.props.selected?n+=" menu__selected menu__position__right":this.props.isBackButton&&(n+=" menu__back menu__position__left"),i().createElement("li",{id:t.id,role:"presentation"},i().createElement("button",Object.assign({ref:this.menuItem,className:n,"data-has-children":r},t.data?{"data-info":t.data}:{},{role:t.selectable?"menuitemradio":"menuitem","aria-setsize":t.itemCount,"aria-posinset":t.itemIndex+1,"data-itemindex":t.itemIndex,"data-isbackbutton":t.isBackButton},t.selectable&&t.selected?{"aria-selected":!0,"aria-checked":!0}:{},t.selectable?{"data-video-selectable":!0}:{},r?{"aria-expanded":!1,"aria-haspopup":!0}:{},t.persistOnClick?{"data-persist":!0}:{},t.ariaLabel?{"aria-label":t.ariaLabel}:{},t.language?{lang:t.language}:{},t.hasMouseHoverEvents?{"data-has-events":t.hasMouseHoverEvents}:{},{onClick:this._onClick,onFocus:this._onFocus,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onBlur:this._onBlur}),t.image&&i().createElement("img",{src:t.image,alt:t.imageAlt||"",className:"menu__image"}),t.label))}componentDidMount(){this.props.hasFocus&&setTimeout((()=>{this.menuItem.current.focus()}),0)}componentDidUpdate(){this.props.hasFocus&&setTimeout((()=>{this.menuItem.current.focus()}),0)}_onClick(e){this.props.onClick(e)}_onFocus(e){this.props.onFocus(e)}_onMouseOver(e){this.props.onMouseOver(e)}_onMouseOut(e){this.props.onMouseOut(e)}_onKeyDown(e){e.stopPropagation(),this.props.onKeyDown(e)}_onKeyUp(e){e.stopPropagation(),this.props.onKeyUp(e)}_onBlur(e){this.props.onBlur(e)}}},1156:(e,t,n)=>{"use strict";n.d(t,{PlayPauseTrigger:()=>a.A});var a=n(1157),r=n(1314);n.o(r,"KeyCodes")&&n.d(t,{KeyCodes:function(){return r.KeyCodes}}),n.o(r,"VideoControls")&&n.d(t,{VideoControls:function(){return r.VideoControls}}),n.o(r,"format")&&n.d(t,{format:function(){return r.format}}),n.o(r,"isNullOrWhiteSpace")&&n.d(t,{isNullOrWhiteSpace:function(){return r.isNullOrWhiteSpace}}),n.o(r,"isSafari")&&n.d(t,{isSafari:function(){return r.isSafari}})},1157:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(41),r=(n(3),n(1)),i=n(0),o=n(478),s=n(480);const l=["className","playAriaLabel","pauseAriaLabel","style"];class c extends i.PureComponent{constructor(e){super(e),this.playRef=i.createRef(),this.pauseRef=i.createRef(),this.payLoad=(0,r.getPayloadObject)("click",this.props.telemetryContent,"")}render(){const e=this.props,{className:t,playAriaLabel:n,pauseAriaLabel:c,style:u}=e,d=(0,a.A)(e,l);this.payLoad.contentAction.etext=this.props.toggled?s.vh.pauseAriaLabel:s.vh.playAriaLabel;const p=(0,r.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad);return i.createElement("div",{className:`${t}__container`,onClick:this.props.onChange,style:u,role:"none"},i.createElement(o.ActionToggle,Object.assign({className:this.props.className},d),i.createElement("button",Object.assign({"aria-label":n,className:`${t}__playbtn`,ref:this.playRef},p)),i.createElement("button",Object.assign({"aria-label":c,className:`${t}__pausebtn`,ref:this.pauseRef},p))),i.createElement(r.UncontrolledTooltip,{trigger:"hover focus",target:this.playRef}," ",n),i.createElement(r.UncontrolledTooltip,{trigger:"hover focus",target:this.pauseRef}," ",c))}}c.defaultProps={playAriaLabel:"play",pauseAriaLabel:"pause"}},1158:(e,t,n)=>{"use strict";n.d(t,{VideoControls:()=>f});var a=n(41),r=n(5),i=(n(3),n(15),n(12),n(18),n(133),n(4),n(1)),o=n(0),s=n(478),l=n(289),c=n(480),u=n(693),d=n(276);const p=["className"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const h="close-caption",g="options";class f extends o.PureComponent{constructor(e){super(e),this.selectedMenuItems=[],this.volumeButtonDiv=o.createRef(),this.playButtonRef=o.createRef(),this.pauseButtonRef=o.createRef(),this.closedCaptionRef=o.createRef(),this.optionButtonRef=o.createRef(),this.fullscreenButtonRef=o.createRef(),this.exitFullScreenButtonRef=o.createRef(),this.videoControlDiv=o.createRef(),this.closedCaptionButtonDiv=o.createRef(),this.optionButtonDiv=o.createRef(),this.menuRef=o.createRef(),this.muteButtonRef=o.createRef(),this.unMuteButtonRef=o.createRef(),this._fullScreenReference=o.createRef(),this.showVolumeControl=e=>()=>{const t=this._getOffsetPosition(this.volumeButtonDiv);window&&window.clearTimeout(this.volumeAutoHideTimer),this.setState({showVolumeSlider:!0,volumeSliderLeftPosition:t.offsetLeft,volumeSliderTopPosition:t.offsetTop-162+1}),e&&document.activeElement.parentElement!==this.volumeButtonDiv.current.firstChild&&(this.volumeAutoHideTimer=window&&window.setTimeout((()=>{this._hideVolumeControl()}),f.volumeAutoHideTimeout))},this._onDocumentClick=e=>{const t=e.target;(this.currentMenu!==h||t!==this.closedCaptionButtonDiv.current.firstChild&&t.parentElement!==this.closedCaptionButtonDiv.current.firstChild)&&(this.currentMenu!==g||t!==this.optionButtonDiv.current.firstChild&&t.parentElement!==this.optionButtonDiv.current.firstChild)&&this.setState({showMenu:!this.state.showMenu})},this._renderClosedCaptionButton=()=>o.createElement("div",{className:`${f.videoControlsClassName}__closedcaption__container`,ref:this.closedCaptionButtonDiv},o.createElement("button",{ref:this.closedCaptionRef,"aria-label":this.props.resources.closedCaptionLabel,className:`${f.videoControlsClassName}__closedcaptionbtn`,onClick:this._onClosedCaptionClick}),o.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:this.closedCaptionRef},this.props.resources.closedCaptionLabel)),this._renderOptionButton=()=>o.createElement("div",{className:`${f.videoControlsClassName}__moreoptions__container`,ref:this.optionButtonDiv},o.createElement("button",{ref:this.optionButtonRef,"aria-label":this.props.resources.optionButtonLabel,className:`${f.videoControlsClassName}__moreoptionsbtn`,onClick:this._onOptionsButtonClick}),o.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:this.optionButtonRef},this.props.resources.optionButtonLabel)),this._renderFullScreenButton=()=>{this.payLoad.contentAction.etext=this.props.isInFullScreen?c.vh.exitFullScreenAriaLabel:c.vh.fullScreenAriaLabel;const e=(0,i.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad);return o.createElement("div",{ref:this._fullScreenReference,className:`${f.videoControlsClassName}__fullscreenbtn__container`},o.createElement(s.ActionToggle,{onChange:this.props.toggleFullScreen,toggled:this.props.isInFullScreen,className:`${f.videoControlsClassName}__fullscreenbtn__wrapper`},o.createElement("button",Object.assign({ref:this.fullscreenButtonRef,"aria-label":this.props.resources.fullScreenAriaLabel,className:`${f.videoControlsClassName}__fullscreenbtn`},e)),o.createElement("button",Object.assign({ref:this.exitFullScreenButtonRef,"aria-label":this.props.resources.exitFullScreenAriaLabel,className:`${f.videoControlsClassName}__exitfullscreenbtn`},e))),o.createElement(i.UncontrolledTooltip,{className:`${f.videoControlsClassName}__fullscreenbtn__tooltip`,trigger:"hover focus",target:this.fullscreenButtonRef}," ",this.props.resources.fullScreenAriaLabel),o.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:this.exitFullScreenButtonRef}," ",this.props.resources.exitFullScreenAriaLabel))},this._renderVolumeButton=()=>{this.payLoad.contentAction.etext=this.props.isMuted?c.vh.unMuteAriaLabel:c.vh.muteAriaLabel;const e=(0,i.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad),t={className:`${f.videoControlsClassName}__muteunmutebtn__wrapper`,onChange:this.props.onMuteClick,toggled:this.props.isMuted,onFocus:this.showVolumeControl(),onBlur:this._hideVolumeControl,onMouseOver:this.showVolumeControl(),onMouseOut:this._hideVolumeControl};return o.createElement(s.ActionToggle,Object.assign({},t),o.createElement("button",Object.assign({"aria-label":this.props.resources.muteAriaLabel,ref:this.muteButtonRef,className:`${f.videoControlsClassName}__mutebtn`},e)),o.createElement("button",Object.assign({"aria-label":this.props.resources.unMuteAriaLabel,ref:this.unMuteButtonRef,className:`${f.videoControlsClassName}__unmutebtn`},e)))},this._renderVideoSlider=()=>{const e={id:"VideoSlider",inForm:!1,className:`${f.videoControlsClassName}__slidercontainer`,min:this.props.playPosition.startTime,max:this.props.playPosition.endTime,ariaLabel:this.props.resources.seekBarLabel,fillTrackValue:this.props.playPosition.bufferedDuration,step:this.props.videoSeekSteps||1,orientation:"horizontal",showProgressBar:!0,onChange:this.props.onProgressChange,showLabels:!1,showTooltip:!0,shouldSliderAdjustToRTL:!1,handleTooltipText:this._handleProgressToolTipText(this.props.playPosition.currentTime),sliderThumbs:[{id:"VideoSliderThumb",value:this.props.playPosition.currentTime,ariaValueText:this.props.playPosition.currentTime.toString(),ariaLabel:this.props.resources.sliderThumbLabel}]};return o.createElement(i.Slider,Object.assign({},e))},this._renderVolumeSlider=()=>{const e={id:"VolumeSlider",inForm:!1,className:`${f.videoControlsClassName}__volumeslider`,min:0,max:100,step:this.props.volumeSeekSteps||5,orientation:"vertical",showProgressBar:!1,onChange:this.props.onVolumeChange,onFocus:this.showVolumeControl(),onBlur:this._hideVolumeControl,showLabels:!1,showTooltip:!0,shouldSliderAdjustToRTL:!1,sliderThumbs:[{id:"VolumeSliderThumb",value:Math.round(this.props.currentVolume),ariaValueText:Math.round(this.props.currentVolume).toString(),ariaLabel:this.props.resources.volumeThumbLabel}]};return o.createElement(i.Slider,Object.assign({},e))},this._handleProgressToolTipText=e=>()=>this._toElapsedTimeString(e),this.volumeAutoHideTimer=0,this.focusedMenuItemIndex=0,this.currentMenu="",this._hideVolumeControl=this._hideVolumeControl.bind(this),this._onMenuItemClick=this._onMenuItemClick.bind(this),this._reevaluateWidth=this._reevaluateWidth.bind(this),this._onClosedCaptionClick=this._onClosedCaptionClick.bind(this),this._onDocumentClick=this._onDocumentClick.bind(this),this._onOptionsButtonClick=this._onOptionsButtonClick.bind(this),this._onMenuBlur=this._onMenuBlur.bind(this),this._onMenuFocus=this._onMenuFocus.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMenuKeyDown=this._onMenuKeyDown.bind(this),this._onMenuKeyUp=this._onMenuKeyUp.bind(this),this.state={showVolumeSlider:!1,volumeSliderLeftPosition:0,volumeSliderTopPosition:-160,showMenu:!1,menuLeftPosition:0,currentMenu:this.props.closedCaptionMenu,toolTipClass:""},this.payLoad=(0,i.getPayloadObject)("click",this.props.telemetryContent,"")}static getDerivedStateFromProps(e,t){const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return e.isControlPanelVisible||(n.showMenu=!1),n}componentDidUpdate(e){this.props.currentClosedCaptionLanguage===e.currentClosedCaptionLanguage&&this.props.currentClosedCaptionsSetting===e.currentClosedCaptionsSetting&&this.props.currentAudioTrack===e.currentAudioTrack||this._updateSelectedMenu()}render(){const e=this.props,{className:t}=e,n=(0,a.A)(e,p),r=this._toElapsedTimeString(n.playPosition.currentTime),l=this._toElapsedTimeString(n.playPosition.endTime),d={top:this.state.volumeSliderTopPosition,left:this.state.volumeSliderLeftPosition},m={left:this.state.menuLeftPosition};this.payLoad.contentAction.etext=this.props.playing?c.vh.pauseAriaLabel:c.vh.playAriaLabel;const h=(0,i.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad);return o.createElement("div",{className:t,ref:this.videoControlDiv,role:"none",onKeyDown:this.props.handleControlsKeyDownHandler,onBlur:this.props.onBlur,onFocus:this.props.onFocus},o.createElement("div",{className:`${f.videoControlsClassName}__wrapper`},o.createElement("div",{className:`${f.videoControlsClassName}__playpausebtn__container`},o.createElement(s.ActionToggle,{className:`${f.videoControlsClassName}__playpausebtn__wrapper`,onChange:this.props.onPlayClick,toggled:this.props.playing},o.createElement("button",Object.assign({ref:this.playButtonRef,"aria-label":this.props.resources.playAriaLabel,className:`${f.videoControlsClassName}__playbtn`},h)),o.createElement("button",Object.assign({ref:this.pauseButtonRef,"aria-label":this.props.resources.pauseAriaLabel,className:`${f.videoControlsClassName}__pausebtn`},h))),o.createElement(i.UncontrolledTooltip,{className:this.state.toolTipClass,trigger:"hover focus",target:this.playButtonRef}," ",this.props.resources.playAriaLabel),o.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:this.pauseButtonRef}," ",this.props.resources.pauseAriaLabel)),o.createElement("div",{className:`${f.videoControlsClassName}__time`},o.createElement("div",{className:`${f.videoControlsClassName}__time__screenreader`,"aria-hidden":this.props.isMobileDevice,"aria-live":"polite"},`${this.props.resources.videoTimeDurationLabel} ${r} / ${l}`),o.createElement("div",{className:`${f.videoControlsClassName}__time__text`,"aria-hidden":"true"},r," / ",l)),o.createElement("div",{className:`${f.videoControlsClassName}__slider__container`},this._renderVideoSlider()),this.props.closedCaptionMenu&&this._renderClosedCaptionButton(),this.props.optionMenu&&this._renderOptionButton(),this.state.showMenu&&o.createElement(u.Menu,{ref:this.menuRef,className:`${f.videoControlsClassName}__menu`,playerMenu:this.state.currentMenu,style:m,onDocumentClick:this._onDocumentClick,onMenuItemClick:this._onMenuItemClick,onFocus:this._onMenuFocus,onBlur:this._onMenuBlur,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,onKeyDown:this._onMenuKeyDown,onKeyUp:this._onMenuKeyUp}),!this.props.isMobileDevice&&o.createElement("div",{className:`${f.videoControlsClassName}__muteunmutebtn__container`,ref:this.volumeButtonDiv},this._renderVolumeButton()),!this.props.isMobileDevice&&o.createElement("div",{className:`${f.videoControlsClassName}__volumeslider__container ${this.state.showVolumeSlider?"show":"hide"}`,onFocus:this.showVolumeControl(),onBlur:this._hideVolumeControl,onMouseOver:this.showVolumeControl(),onMouseOut:this._hideVolumeControl,style:d,role:"presentation"},this._renderVolumeSlider()),this._renderFullScreenButton()))}setFocusOnPlay(){setTimeout((()=>{this.playButtonRef.current&&this.playButtonRef.current.focus()}),0)}setFocusOnPause(){setTimeout((()=>{this.pauseButtonRef.current&&this.pauseButtonRef.current.focus()}),0)}setFocusOnMenuButton(){this.props.isControlPanelVisible&&(this.currentMenu===h?this.closedCaptionRef.current.focus():this.optionButtonRef.current.focus())}componentDidMount(){var e;(window&&window.addEventListener("resize",this._reevaluateWidth),this._reevaluateWidth(),this._isIPhone())&&(null===(e=this._fullScreenReference.current)||void 0===e||e.setAttribute("hidden","true"))}componentWillUnmount(){window&&window.removeEventListener("resize",this._reevaluateWidth)}_reevaluateWidth(){const e=this.videoControlDiv.current.children[0];let t=0;for(let n=0;n<e.children.length;n++)void 0!==e.children[n].children[0]&&e.children[n].children[0].className.includes("action-toggle")&&(t+=e.children[n].clientWidth);const n=t+100;if(e.children[2].setAttribute("style",`width: calc(100% - ${n}px)`),this.state.showVolumeSlider&&this._hideVolumeControl(),!this.props.isMobileDevice){const e=this._getOffsetPosition(this.volumeButtonDiv);this.setState({volumeSliderLeftPosition:e.offsetLeft,volumeSliderTopPosition:e.offsetTop-162})}this.state.showMenu&&this.setState({showMenu:!1});const a=this.videoControlDiv.current.clientWidth,r=window&&window.innerWidth;this._applyTooltipClassOnWidthChange(a,r)}_onMenuFocus(e){const t=e.target,n=t.getAttribute("data-has-events");n&&this.props.onMenuItemFocus({category:t.parentElement.parentElement.parentElement.getAttribute("data-category"),id:t.parentElement.id,data:t.getAttribute("data-info")})}_onMenuBlur(e){const t=e.target,n=t.getAttribute("data-has-events");n&&this.props.onMenuItemBlur()}_onMouseOver(e){const t=e.target,n=t.getAttribute("data-has-events");n&&this.props.onMenuItemFocus({category:t.parentElement.parentElement.parentElement.getAttribute("data-category"),id:t.parentElement.id,data:t.getAttribute("data-info")})}_onMouseOut(e){const t=e.target,n=t.getAttribute("data-has-events");n&&this.props.onMenuItemBlur()}_onMenuKeyDown(e){this._onMenuKeyPressed(e)}_onMenuKeyUp(e){const t=e,n=t.keyCode;n===d.cK.Space&&e.preventDefault()}_onMenuKeyPressed(e){const t=e.keyCode,n=e.target,a=this.state.currentMenu;switch(this._resetFocusForCurrentMenu(a),t){case d.cK.ArrowLeft:case d.cK.ArrowRight:e.stopPropagation(),e.preventDefault(),t===d.cK.ArrowRight&&"true"===n.getAttribute("data-has-children")&&this._onMenuItemClick(e),t===d.cK.ArrowLeft&&"true"===n.getAttribute("data-isbackbutton")&&this._onMenuItemClick(e);break;case d.cK.Enter:case d.cK.Space:e.preventDefault(),this._onMenuItemClick(e);break;case d.cK.ArrowUp:case d.cK.ArrowDown:e.stopPropagation(),e.preventDefault(),t===d.cK.ArrowUp?(this.focusedMenuItemIndex-=1,this.focusedMenuItemIndex<0&&(this.focusedMenuItemIndex=a.items.length-1)):this.focusedMenuItemIndex=(this.focusedMenuItemIndex+1)%a.items.length,a.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({currentMenu:a},(()=>{this.menuRef.current&&this.menuRef.current.forceUpdate()}));break;case d.cK.PageUp:case d.cK.Home:e.stopPropagation(),e.preventDefault(),this.focusedMenuItemIndex=0,a.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({currentMenu:a},(()=>{this.menuRef.current&&this.menuRef.current.forceUpdate()}));break;case d.cK.End:case d.cK.PageDown:e.stopPropagation(),e.preventDefault(),this.focusedMenuItemIndex=a.items.length-1,a.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({currentMenu:a},(()=>{this.menuRef.current&&this.menuRef.current.forceUpdate()}));break;case d.cK.Escape:this.setFocusOnMenuButton(),this.setState({showMenu:!1});break;case d.cK.Tab:(this.focusedMenuItemIndex<a.items.length-1||this.focusedMenuItemIndex===a.items.length-1&&e.shiftKey)&&this.focusedMenuItemIndex>=0&&(0!==this.focusedMenuItemIndex||!e.shiftKey)?(this.focusedMenuItemIndex+=e.shiftKey?-1:1,a.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({currentMenu:a})):(e.stopPropagation(),e.preventDefault(),this.setState({showMenu:!1}),e.shiftKey?this.setFocusOnMenuButton():this.currentMenu===h&&this.optionButtonRef.current?this.optionButtonRef.current.focus():this.props.isMuted?this.unMuteButtonRef.current.focus():this.muteButtonRef.current.focus())}}_onMenuItemClick(e){const t=e.currentTarget;if("true"===t.getAttribute("data-has-children")){const e=Number(t.getAttribute("data-itemindex"));this.selectedMenuItems.push(e);const n=this._getSelectedMenuFromList();this.focusedMenuItemIndex=0,n.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({currentMenu:n})}else if("true"===t.getAttribute("data-isbackbutton")){this.focusedMenuItemIndex=this.selectedMenuItems.pop();const e=this._getSelectedMenuFromList();e.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({currentMenu:e})}else{const e=this._getSelectedMenuFromList();this._resetFocusForCurrentMenu(e);const n=Number(t.getAttribute("data-itemindex"));this.focusedMenuItemIndex=n;const a=this.currentMenu===h?t.getAttribute("data-info"):JSON.stringify({url:t.getAttribute("data-info"),lang:t.getAttribute("lang")});this.props.onMenuItemClick({category:t.parentElement.parentElement.parentElement.getAttribute("data-category"),id:t.parentElement.id,data:a})}this._updateSelectedMenu()}_resetFocusForCurrentMenu(e){e.items.forEach((e=>e.hasFocus=!1))}_getSelectedMenuFromList(){let e=this.currentMenu===h?this.props.closedCaptionMenu:this.props.optionMenu;for(let t=0;t<this.selectedMenuItems.length;t++)e=e.items[this.selectedMenuItems[t]].subMenu;return e}_updateSelectedMenu(){const e=this._getSelectedMenuFromList();if(e){switch(e.category){case l.MenuCategories.ClosedCaption:e.items.forEach((e=>{e.data&&e.data===this.props.currentClosedCaptionLanguage?e.selected=!0:e.selected=!1}));break;case l.MenuCategories.ClosedCaptionSettings:e.items.forEach((e=>{for(const t in this.props.currentClosedCaptionsSetting){const n=`${t}:${this.props.currentClosedCaptionsSetting[t]}`;if(e.data&&e.data===n){e.selected=!0;break}e.selected=!1}}));break;case l.MenuCategories.AudioTracks:e.items.forEach((e=>{e.language&&e.language===this.props.currentAudioTrack?e.selected=!0:e.selected=!1}))}this.setState({currentMenu:e},(()=>{this.menuRef.current&&this.menuRef.current.forceUpdate()}))}}_getOffsetPosition(e){const t=e.current.children[0].clientWidth,n=e.current.offsetWidth,a=e.current.offsetLeft+(n-t)/2,r=e.current.offsetTop;return{offsetLeft:a,offsetTop:r}}_onClosedCaptionClick(){this.currentMenu=h;const e=this._getOffsetPosition(this.closedCaptionButtonDiv).offsetLeft;this.focusedMenuItemIndex=0,this.selectedMenuItems=[];const t=this.props.closedCaptionMenu;this._resetFocusForCurrentMenu(t),t.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({showMenu:this.currentMenu===h&&!this.state.showMenu,menuLeftPosition:e-120,currentMenu:t}),this._updateSelectedMenu()}_onOptionsButtonClick(){this.currentMenu=g;const e=this._getOffsetPosition(this.optionButtonDiv).offsetLeft;this.focusedMenuItemIndex=0,this.selectedMenuItems=[];const t=this.props.optionMenu;this._resetFocusForCurrentMenu(t),t.items[this.focusedMenuItemIndex].hasFocus=!0,this.setState({showMenu:this.currentMenu===g&&!this.state.showMenu,menuLeftPosition:e-120,currentMenu:t}),this._updateSelectedMenu()}_hideVolumeControl(){window&&window.clearTimeout(this.volumeAutoHideTimer),this.setState({showVolumeSlider:!1})}_toElapsedTimeString(e){const t=e<0;t&&(e*=-1);const n=Math.floor(e/3600),a=e%3600,r=Math.floor(a/60);let i="";return i=n>0?`${n}:`:"",e=Math.floor(a%60),i+=""+((r<10?"0":"")+r.toString()),i+=":"+(0===e?"00":(e<10?"0":"")+e.toString()),t?`-${i}`:i}_applyTooltipClassOnWidthChange(e,t){e&&this.setState({toolTipClass:e>this.props.viewportMin&&e<t?`${f.videoControlsClassName}__playpausebtn__tooltip`:""})}_isIPhone(){const e=window&&window.navigator.userAgent;return!!e.match(/iphone/i)}}f.defaultProps={resources:{playAriaLabel:c.vh.playAriaLabel,pauseAriaLabel:c.vh.pauseAriaLabel,closeAriaLabel:c.vh.closeAriaLabel,muteAriaLabel:c.vh.muteAriaLabel,unMuteAriaLabel:c.vh.unMuteAriaLabel,fullScreenAriaLabel:c.vh.fullScreenAriaLabel,exitFullScreenAriaLabel:c.vh.exitFullScreenAriaLabel,pausedAriaLabel:c.vh.pausedAriaLabel,playingAriaLabel:c.vh.playingAriaLabel,seekBarLabel:c.vh.seekBarLabel,videoTimeDurationLabel:c.vh.videoTimeDurationLabel,closedCaptionLabel:c.vh.closedCaptionLabel},viewportMin:200},f.videoControlsClassName=`${l.VideoPlayerNames.videoplayerContainer}__controls`,f.volumeAutoHideTimeout=2e3},1159:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});n(12),n(9);var a=n(10),r=n(6),i=n(1),o=n(8),s=n.n(o),l=n(73),c=n.n(l),u=n(0),d=n.n(u);const p=u.createContext({direction:"right"});var m=n(1075),h=n(1750),g=n(11),f=n.n(g);const C=!1,y=d().createContext(null);var v="unmounted",_="exited",b="entering",T="entered",E="exiting",x=function(e){function t(t,n){var a;a=e.call(this,t,n)||this;var r,i=n,o=i&&!i.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(r=_,a.appearStatus=b):r=T:r=t.unmountOnExit||t.mountOnEnter?v:_,a.state={status:r},a.nextCallback=null,a}(0,h.A)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.in;return n&&t.status===v?{status:_}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==b&&n!==T&&(t=b):n!==b&&n!==T||(t=E)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!=typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===b){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:f().findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_&&this.setState({status:v})},n.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,r=this.props.nodeRef?[a]:[f().findDOMNode(this),a],i=r[0],o=r[1],s=this.getTimeouts(),l=a?s.appear:s.enter;!e&&!n||C?this.safeSetState({status:T},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,o),this.safeSetState({status:b},(function(){t.props.onEntering(i,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:T},(function(){t.props.onEntered(i,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:f().findDOMNode(this);t&&!C?(this.props.onExit(a),this.safeSetState({status:E},(function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:_},(function(){e.props.onExited(a)}))}))}))):this.safeSetState({status:_},(function(){e.props.onExited(a)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:f().findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],o=r[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===v)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,m.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return d().createElement(y.Provider,{value:null},"function"==typeof n?n(e,a):d().cloneElement(d().Children.only(n),a))},t}(d().Component);function S(){}x.contextType=y,x.propTypes={},x.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:S,onEntering:S,onEntered:S,onExit:S,onExiting:S,onExited:S},x.UNMOUNTED=v,x.EXITED=_,x.ENTERING=b,x.ENTERED=T,x.EXITING=E;const N=x;var P=function(e){function t(t){var n=e.call(this,t)||this;return n.onEnter=function(e,t){n.setState({startAnimation:!1}),n.props.onEnter&&n.props.onEnter(e,t)},n.onEntering=function(e,t){var a=e.offsetHeight;return n.setState({startAnimation:!0}),n.props.onEntering&&n.props.onEntering(e,t),a},n.onExit=function(e){n.setState({startAnimation:!1}),n.props.onExit&&n.props.onExit(e)},n.onExiting=function(e){n.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),n.props.onExiting&&n.props.onExiting(e)},n.onExited=function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),n.props.onExited&&n.props.onExited(e)},n.props=t,n.state={startAnimation:!1},n.onEnter=n.onEnter.bind(n),n.onEntering=n.onEntering.bind(n),n.onExit=n.onExit.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return(0,a.C6)(t,e),t.prototype.shouldComponentUpdate=function(e){return!(!e.slide&&this.props.slide===e.slide)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.cssModule,o=t.slide,l=t.tag,c=t.className,d=t.in,m=t.mountOnEnter,h=t.unmountOnExit,g=t.appear,f=t.enter,C=t.exit,y=t.timeout,v=(t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,(0,a.Tt)(t,["children","cssModule","slide","tag","className","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"])),_=y||i.TransitionTimeouts.Carousel,b=l||"div",T={in:d,mountOnEnter:m,unmountOnExit:h,appear:g,enter:f,exit:C,timeout:_};return u.createElement(p.Consumer,null,(function(t){var l=t.direction;return u.createElement(N,(0,a.Cl)({},T,{enter:o,exit:o,in:d,onEnter:e.onEnter,onEntering:e.onEntering,onExit:e.onExit,onExiting:e.onExiting,onExited:e.onExited}),(function(t){var o="entered"===t||"exiting"===t,d=("entering"===t||"exiting"===t)&&e.state.startAnimation&&("right"===l?"msc-carousel__item__left":"msc-carousel__item__right"),p="entering"===t&&("right"===l?"msc-carousel__item__next":"msc-carousel__item__prev"),m=(0,i.mapToCssModules)(s()(c,"msc-carousel__item",o&&"active",d,p),r);return u.createElement(b,(0,a.Cl)({className:m},v),n)}))}))},t.defaultProps={tag:"div",timeout:i.TransitionTimeouts.Carousel,slide:!0},t}(u.Component);const w=P;var M=function(e){function t(t){var n=e.call(this,t)||this;return n.directionTextPrev="prev",n.directionTextNext="next",n.defaultThrottleThreshold=200,n.setInterval=function(e){void 0===e&&(e=n.props),n.clearInterval();var t=e.interval,a=e.autoplay;t&&!1!==a&&(n.cycleInterval=setInterval((function(){e.next()}),t))},n.clearInterval=function(){clearInterval(n.cycleInterval)},n.hoverStart=function(e){var t=n.props,a=t.pause,r=t.mouseEnter;"hover"===a&&n.clearInterval(),r&&r(e)},n.hoverEnd=function(e){var t=n.props,a=t.pause,r=t.mouseLeave;"hover"===a&&n.setInterval(),r&&r(e)},n.handleKeyPress=function(e){var t=n.props,a=t.keyboard,r=t.previous,i=t.next;a&&(37===e.keyCode?r():39===e.keyCode&&i())},n.renderItems=function(e,t){var a=n.props,i=a.slide,o=a.handleOnExiting,s=a.handleOnExited,l=a.activeIndex,c=a.keys,d=r.ArrayExtensions.hasElements(e)?e.map((function(e,t){return u.createElement(w,{key:c?c[t]:t,onExiting:o,onExited:s},e)})):[];return u.createElement("div",{className:t},d.map((function(e,t){var n=t===l;return u.cloneElement(e,{in:n,slide:i})})))},n._handleKeyPressPrev=function(e){13===e.keyCode&&(e.preventDefault(),n.props.previous())},n._handleKeyPressNext=function(e){13===e.keyCode&&(e.preventDefault(),n.props.next())},n.props=t,n.throttleThreshold=n.props.threshold||n.defaultThrottleThreshold,n.handleKeyPress=n.handleKeyPress.bind(n),n._handleTouchStart=n._handleTouchStart.bind(n),n._handleTouchEnd=n._handleTouchEnd.bind(n),n.renderItems=n.renderItems.bind(n),n.hoverStart=n.hoverStart.bind(n),n.scrollThreshold=void 0!==n.props.touchScrollThreshold?n.props.touchScrollThreshold:100,n.state={direction:"right",indicatorClicked:!1},n._onClickPrev=n._onClickPrev.bind(n),n._onClickNext=n._onClickNext.bind(n),n._handleKeyPressPrev=n._handleKeyPressPrev.bind(n),n._handleKeyPressNext=n._handleKeyPressNext.bind(n),n.linkRefPrev=u.createRef(),n.linkRefNext=u.createRef(),n.payLoad=(0,i.getPayloadObject)("click",n.props.telemetryContent,""),n.nextHandleInputThrottledEvent=c()(n._onClickNext,n.throttleThreshold),n.previousHandleInputThrottledEvent=c()(n._onClickPrev,n.throttleThreshold),n}return(0,a.C6)(t,e),t.prototype.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),this.props.keyboard&&document.addEventListener("keyup",this.handleKeyPress)},t.prototype.componentWillReceiveProps=function(e){this.setInterval(e);var t=this.props.activeIndex;null!==t&&(t<e.activeIndex?this.setState({direction:"right"}):t>e.activeIndex&&this.setState({direction:"left"}),this.setState({indicatorClicked:!1}))},t.prototype.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},t.prototype.shouldComponentUpdate=function(e,t){var n=r.ArrayExtensions.hasElements(this.props.keys),a=r.ArrayExtensions.hasElements(e.keys),i=n&&a&&!r.ArrayExtensions.equals(this.props.keys,e.keys);return this.state!==t||this.props.next!==e.next||this.props.previous!==e.previous||n!==a||i},t.prototype.render=function(){var e=this.props,t=e.cssModule,n=e.className,a=e.transitionType,r=e.dismissEnabled,o=e.hideFlipper,l=e.showPaginationTooltip,c=e.items,d=e.hideIndicator,m=e.isDisabledFunctionality;var h=void 0===l||l,g=(0,i.mapToCssModules)(s()(n,"msc-carousel",function(e){switch(e){case"slide":return"slide";case"fade":return"carousel-fade";default:return null}}(a)),t),f=(0,i.mapToCssModules)(s()("msc-carousel__inner"),t),C=r&&this._renderDismissCarousel(),y=!d&&this._renderIndicators(h),v=!o&&this._renderCarouselControls(h),_={direction:this.state.direction};return c&&c.length?u.createElement(p.Provider,{value:_},u.createElement("div",{className:g,onMouseEnter:m?void 0:this.hoverStart,onMouseLeave:m?void 0:this.hoverEnd,onTouchStart:m?void 0:this._handleTouchStart,onTouchEnd:m?void 0:this._handleTouchEnd},c&&c.length&&this.renderItems(c,f),!m&&c&&c.length>1&&v,!m&&c&&c.length>1&&y,C)):null},t.prototype._handleTouchStart=function(e){0===e.touches.length?this.scrollStart=void 0:this.scrollStart=e.touches[0].screenX},t.prototype._handleTouchEnd=function(e){if(e.changedTouches.length>0&&void 0!==this.scrollStart){var t=this.props,n=t.previous,a=t.next,r=e.changedTouches[0].screenX,i=r-this.scrollStart;i>this.scrollThreshold&&n(),i<-this.scrollThreshold&&a()}this.scrollStart=void 0},t.prototype._renderIndicators=function(e){var t=this,n=this.props,r=n.items,o=n.activeIndex,l=n.cssModule,c=n.onIndicatorsClickHandler,d=n.indicatorAriaText,p=(0,i.mapToCssModules)("msc-carousel__indicators",l),m=r&&r.length&&r.map((function(n,p){var m=(0,i.mapToCssModules)(s()({active:o===p}),l),h=d?(0,i.format)(d,p+1):"",g="indicatorSlide"+(p+1);t.payLoad.contentAction.etext=(p+1).toString();var f=(0,i.getTelemetryAttributes)(t.props.telemetryContent,t.payLoad);return u.createElement(u.Fragment,null,u.createElement("li",(0,a.Cl)({id:g,"aria-label":h,"aria-setsize":r.length,"aria-posinset":p+1,"aria-selected":o===p,key:""+(n.key||n.src)+n.caption+n.altText,role:"tab",tabIndex:0,className:m,onClick:function(e){e.preventDefault(),c(p),t.setState({indicatorClicked:!0})}},f)),e&&u.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:""+g},h))}));return u.createElement("ol",{className:p,role:"tablist"},m)},t.prototype._renderCarouselControls=function(e){var t=this.props,n=t.cssModule,r=t.directionTextPrev,o=t.directionTextNext,s=(0,i.mapToCssModules)("msc-carousel__control__prev",n),l=(0,i.mapToCssModules)("msc-carousel__control__next",n),c=(0,i.mapToCssModules)("msc-carousel__control__prev__icon",n),d=(0,i.mapToCssModules)("msc-carousel__control__next__icon",n),p=(0,i.mapToCssModules)("screen-reader-only",n);this.payLoad.contentAction.etext=this.directionTextPrev;var m=(0,i.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad);this.payLoad.contentAction.etext=this.directionTextNext;var h=(0,i.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad);return u.createElement(u.Fragment,null,u.createElement("a",(0,a.Cl)({className:s,role:"button",tabIndex:0,onClick:this.previousHandleInputThrottledEvent,onKeyUp:this._handleKeyPressPrev,ref:this.linkRefPrev},m),u.createElement("span",{className:c,"aria-hidden":"true"}),u.createElement("span",{className:p},r||this.directionTextPrev)),e&&u.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:this.linkRefPrev},r),u.createElement("a",(0,a.Cl)({className:l,role:"button",tabIndex:0,onClick:this.nextHandleInputThrottledEvent,onKeyUp:this._handleKeyPressNext,ref:this.linkRefNext},h),u.createElement("span",{className:d,"aria-hidden":"true"}),u.createElement("span",{className:p},o||this.directionTextNext)),e&&u.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:this.linkRefNext},o))},t.prototype._onClickPrev=function(e){e.preventDefault(),this.props.previous()},t.prototype._onClickNext=function(e){e.preventDefault(),this.props.next()},t.prototype._renderDismissCarousel=function(){var e=this.props,t=e.handleDismissCarousel,n=e.dismissCarouselAriaText;return u.createElement("button",{className:"msc-carousel__dismiss msi msi-times","aria-label":n,onClick:t})},t.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0,hideIndicator:!1},t}(u.Component);const A=M},1160:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var a=n(10),r=n(2),i=n(1),o=n(16),s=n(0),l=(0,o.PA)((function(e){var t=e.cartLabel,n=e.cartQtyLabel,o=e.data.cart,l=(0,r.getUrlSync)("cart",e.context.actionContext),c=o?o.totalItemsInCart:0,u=(0,i.format)(n,c),d=(0,i.format)(t,c),p=(0,i.getPayloadObject)("click",e.telemetryContent,"cart-icon",""),m=(0,i.getTelemetryAttributes)(e.telemetryContent,p),h={visibility:o?"visible":"hidden"};return s.createElement("a",(0,a.Cl)({title:d,className:"msc-cart-icon msc-btn",href:l,"aria-label":d},m,{onClick:(0,i.onTelemetryClick)(e.telemetryContent,p,"cart-icon")}),s.createElement("div",{className:"msc-cart-icon__count","aria-hidden":!0,style:h},u))})),c=r.msdyn365Commerce.createComponent("CartIcon",(0,a.Cl)({component:l},{}))},1161:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var a=n(10),r=n(2),i=n(1),o=n(0),s=n(17),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r._onInputChange=function(e){var t=""===e.target.value?"":r.state.error;r.setState({promoCodeInputValue:e.target.value.trim(),error:t,canApply:!!e.target.value})},r._applyPromotion=function(e){if(e&&e.cart){var t=r.state.promoCodeInputValue;e.addPromoCode({promoCode:t}).then((function(e){"SUCCESS"===e.status?r.setState({promoCodeInputValue:"",error:"",canApply:!1}):"ALREADYADDED"===e.substatus?r.setState({error:r.props.duplicatePromoCodeErrorText}):r.setState({error:r.props.invalidPromoCodeErrorText})})).catch((function(e){r.setState({error:r.props.failedToAddPromoCodeErrorText})}))}},r._renderForm=function(e,t,n){var s=(0,i.getTelemetryAttributes)(r.props.telemetryContent,r.payLoad);return o.createElement("form",{onSubmit:function(e){e.preventDefault(),r._applyPromotion(n)},className:"msc-promo-code__form-container"},o.createElement("div",{className:"msc-promo-code__group"},o.createElement("input",{className:"msc-promo-code__input-box","aria-label":e,onChange:r._onInputChange,value:r.state.promoCodeInputValue,placeholder:e}),o.createElement(i.Button,(0,a.Cl)({title:t,className:"msc-promo-code__apply-btn btn",onClick:function(e){r._applyPromotion(n)},disabled:!r.state.canApply},s),t)))},r._removePromotion=function(e,t){if(e){var n=t.currentTarget.getAttribute("data-value")||"";e.removePromoCodes({promoCodes:[n]}).then((function(e){"SUCCESS"===e.status&&r.setState({error:""})})).catch((function(){r.setState({error:r.props.failedToRemovePromoCodeErrorText})}))}},r._calculateDiscount=function(e,t){var n,r,i,o;if(t&&t.cart&&t.cart.CartLines&&0!==t.cart.CartLines.length&&e){var s=0;try{for(var l=(0,a.Ju)(t.cart.CartLines),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.DiscountLines)try{for(var d=(i=void 0,(0,a.Ju)(u.DiscountLines)),p=d.next();!p.done;p=d.next()){var m=p.value;m.DiscountCode===e&&(s+=m.DiscountCost)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return-1*s}},r._renderAppliedPromoCode=function(e){var t,n,l;if(e.cart&&e.cart.cart&&e.cart.cart.Coupons&&e.cart.cart.Coupons.length>0){var c=function(t){r._removePromotion(e.cart,t)},u=0;try{for(var d=(0,a.Ju)(e.cart.cart.Coupons),p=d.next();!p.done;p=d.next()){var m=p.value,h=r._calculateDiscount(null!==(l=m.Code)&&void 0!==l?l:"",e.cart);h&&(u+=h)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return o.createElement(o.Fragment,null,o.createElement("div",{className:"msc-promo-code__discount"},o.createElement("div",{className:"msc-promo-code__discount-heading"},r.props.appliedPromoCodeHeadingText),o.createElement(s.PriceComponent,{data:{price:{CustomerContextualPrice:u}},context:e.context,id:e.id,typeName:e.typeName,className:"msc-promo-code__discount-value"})),e.cart.cart.Coupons.map((function(t){var n=e.removePromoAriaLabelFormat?(0,i.format)(e.removePromoAriaLabelFormat,e.removePromoText,t.Code):"";return o.createElement("div",{key:t.Code,className:"msc-promo-code__line-container"},o.createElement("div",{className:"msc-promo-code__line-value"},t.Code," ",o.createElement(s.PriceComponent,{data:{price:{CustomerContextualPrice:r._calculateDiscount(t.Code||"",e.cart)}},context:e.context,id:e.id,typeName:e.typeName,className:"msc-promo-code__line-discount-value"})),o.createElement(i.Button,{title:e.removePromoText,className:"msc-promo-code__line__btn-remove",onClick:c,"data-value":t.Code,"aria-label":n},e.removePromoText))})))}},r.payLoad=(0,i.getPayloadObject)("click",r.props.telemetryContent,i.TelemetryConstant.ApplyPromoCode),r.state={isCollapseOpen:!1,promoCodeInputValue:"",error:"",canApply:!1},r}return(0,a.C6)(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.appliedPromoCodeHeadingText===e.appliedPromoCodeHeadingText},t.prototype.render=function(){return o.createElement("div",null,o.createElement("div",{className:"msc-promo-code-heading"},this.props.promoCodeHeadingText),this._renderForm(this.props.promoPlaceholderText,this.props.promoCodeApplyButtonText,this.props.cart),o.createElement("p",{className:this.state.error?"msc-alert-danger":"","aria-live":"assertive"},this.state.error),this._renderAppliedPromoCode(this.props))},t}(o.Component),c=r.msdyn365Commerce.createComponent("PromoCode",(0,a.Cl)({component:l},{}))},1162:(e,t,n)=>{"use strict";n.d(t,{F:()=>m});var a,r=n(10),i=n(2),o=n(0),s=n.n(o),l=n(8),c=n.n(l),u=n(1),d="msc-action-menu",p="msc-action-menu__action-toggle",m=i.msdyn365Commerce.createComponent("ActionMenuComponent",{component:function(e){var t,n,i,o,l,m=(0,r.zs)(s().useState(!1),2),h=m[0],g=m[1],f=null!==(t=e.children)&&void 0!==t?t:[];f=Array.isArray(f)?f:[f];var C=null===(n=e.isVisible)||void 0===n||n;return C?s().createElement("div",{className:c()(e.className,d)},s().createElement(u.Button,(0,r.Cl)({className:c()(p,h?p+"-active":"",e.isDisabled?p+"-disabled":""),title:null!==(i=e.title)&&void 0!==i?i:"",disabled:!!e.isDisabled,"aria-label":null!==(l=null!==(o=e.ariaLabel)&&void 0!==o?o:e.label)&&void 0!==l?l:"","aria-disabled":!!e.isDisabled,onClick:function(){var t;!function(e,t){var n=!e;n?(a&&a(!1),t(n),a=t):(a=void 0,t(n))}(h,g),null===(t=e.onClick)||void 0===t||t.call(e,h)}},e.telemetryAttributes),e.label),h&&s().createElement("div",{className:c()("msc-action-menu__actions-container")},f)):s().createElement(s().Fragment,null)}})},1167:(e,t,n)=>{"use strict";n.d(t,{R:()=>b});var a=n(10),r=n(2),i=n(14),o=n(338),s=n(6),l=n(1),c=n(8),u=n.n(c),d=n(0),p=n.n(d),m={onClick:function(e,t,n){return(0,a.sH)(void 0,void 0,void 0,(function(){var e,r;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return e=t.context.request.user,r=t.data.product,n.waiting?[2]:!e.isAuthenticated&&e.signInUrl&&window?(window.location.assign(e.signInUrl),[2]):(n.setWaiting(!0),void 0===t.getSelectedProduct?[3,2]:[4,t.getSelectedProduct]);case 1:r=a.sent()||t.data.product,a.label=2;case 2:return[4,h(r,t)?v(r,t,n):C(r,t,n)];case 3:return a.sent(),n.setWaiting(!1),[2]}}))}))},onDismiss:function(e){e.setContent({color:"success",showAlert:!1})}},h=function(e,t){var n,r,i=t.data.wishlists;if(!i||!i[0])return!1;var o=i[0].CommerceListLines;if(!o||0===o.length)return!1;try{for(var s=(0,a.Ju)(o),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.ProductId===e.RecordId)return!0}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return!1},g=function(e,t){var n=e.onSuccess,a=e.cartline;n&&(a?n(t,e.cartline):n(t))},f=function(e,t){var n=e.onError;n&&n(t)},C=function(e,t,n){return(0,a.sH)(void 0,void 0,void 0,(function(){var r,s,l,c,u,d,p,m;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return r=t.canAddMasterProduct,s=t.context,e.Dimensions&&!r&&(l=e.Dimensions.filter((function(e){return!(e.DimensionValue&&e.DimensionValue.Value)})),l.length>0)?(f(t,{status:"MISSINGDIMENSION",missingDimensions:l}),[2,i.AsyncResult.resolve()]):s.request.user.isAuthenticated?t.data.wishlists&&0!==t.data.wishlists.length?[3,8]:(c=t.nameOfWishlist,[4,_(t)]):[3,9];case 1:if(u=a.sent(),!u||!u.AccountNumber)return[3,6];d={CustomerId:u.AccountNumber,Name:c,CommerceListTypeValue:1,Id:0},a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(0,o.Yc)({callerContext:s.actionContext},d)];case 3:return p=a.sent(),[2,y(t,n,p.Id,e.RecordId)];case 4:return m=a.sent(),s.telemetry&&(s.telemetry.warning(m),s.telemetry.debug("Unable to create a wishlist")),f(t,{status:"FAILED"}),[3,5];case 5:return[3,7];case 6:s.telemetry.debug("Customer account number missing"),a.label=7;case 7:return[3,9];case 8:return[2,y(t,n,t.data.wishlists[0].Id,e.RecordId)];case 9:return[2,i.AsyncResult.resolve()]}}))}))},y=function(e,t,n,r){return(0,a.sH)(void 0,void 0,void 0,(function(){var i,l,c,u;return(0,a.YH)(this,(function(a){switch(a.label){case 0:i=e.context,a.label=1;case 1:return a.trys.push([1,6,,7]),[4,_(e)];case 2:return l=a.sent(),l&&l.AccountNumber?[4,(0,o.N6)({callerContext:i.actionContext},n,[(0,s.buildWishlistLine)(r,l.AccountNumber,n)])]:[3,4];case 3:return c=a.sent(),i.actionContext.update((0,o.ww)({},null),[c]),i.telemetry&&i.telemetry.debug("Added item to the wishlist "+c),t.setCanRemove(!0),t.setContent({color:"success",showAlert:!0,wishlistTextMessage:e.addToWishlistMessage?e.addToWishlistMessage:"Added to your wishlist"}),g(e,{status:"ADDED"}),[3,5];case 4:i.telemetry.debug("Customer Account number missing"),a.label=5;case 5:return[3,7];case 6:return u=a.sent(),i.telemetry&&(i.telemetry.warning(u),i.telemetry.debug("Unable to add item to wishlist "+u)),t.setContent({color:"danger",showAlert:!0,wishlistTextMessage:e.addItemToWishlistError}),f(e,{status:"FAILED"}),[3,7];case 7:return[2]}}))}))},v=function(e,t,n){return(0,a.sH)(void 0,void 0,void 0,(function(){var r,s,l,c,u,d,p,m,h,C,y;return(0,a.YH)(this,(function(a){switch(a.label){case 0:if(r=t.context,s=t.data,l=t.removedFromWishlistMessage,c=t.removeItemFromWishlistError,u=s.wishlists,d=r.actionContext,p=r.telemetry,!r.request.user.isAuthenticated)return[3,7];if(!u||!u[0])return[3,6];if(m=u[0].CommerceListLines.find((function(t){return t.ProductId===e.RecordId})),!m)return[3,5];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,_(t)];case 2:return h=a.sent(),[4,(0,o.MZ)({callerContext:d},u[0].Id,[m])];case 3:return C=a.sent(),h?r.actionContext.update((0,o.ww)({},null),[C]):p.debug("Customer Account Number missing"),p&&p.debug("[WishlistButton] "+e.RecordId+" removed from Wishlist "+C.Id),n.setCanRemove(!1),n.setContent({color:"success",showAlert:!0,wishlistTextMessage:l||"Removed item from the wishlist"}),g(t,{status:"REMOVED"}),[3,5];case 4:return y=a.sent(),p&&(p.warning(y),p.debug("[WishlistButton] Error removing item from the wishlist")),n.setContent({color:"danger",wishlistTextMessage:c}),f(t,{status:"FAILED"}),[3,5];case 5:return[3,7];case 6:p&&p.debug("[WishlistButton] Can't remove from wishlist since no wishlist exisits OR there is no product data"),a.label=7;case 7:return[2,i.AsyncResult.resolve()]}}))}))},_=function(e){var t=e.context,n=new s.GetCustomerInput(t.actionContext.requestContext.apiSettings);return(0,s.getCustomer)(n,t.actionContext)},b=r.msdyn365Commerce.createComponent("AddToWishlist",(0,a.Cl)({component:function(e){var t=(0,a.zs)((0,d.useState)(!1),2),n=t[0],r=t[1],i=(0,a.zs)((0,d.useState)(h(e.data.product,e)),2),o=i[0],s=i[1],c=(0,a.zs)((0,d.useState)({}),2),g=c[0],f=c[1],C={waiting:n,canRemove:o,content:g,setWaiting:r,setCanRemove:s,setContent:f};p().useEffect((function(){s(h(e.data.product,e))}),[e]);var y=e.removeFromWishlistButtonText,v=e.addToWishlistButtonText,_=e.ariaRole,b=e.showStatusMessage,T=e.showRemoveButton,E=e.showButtonText,x=e.className,S=e.disabled,N=e.showButtonTooltip,P=e.tooltipPosition,w=function(t){return m.onClick(t,e,C)},M=C.canRemove?y:v,A=p().createRef(),L=p().createRef(),D=void 0===b||b,I=void 0===T||T,k=void 0===N||N,O=void 0!==N?P:"right",R=void 0!==_?_:"link";return C.canRemove&&!I?null:p().createElement(p().Fragment,null,E?p().createElement(p().Fragment,null,p().createElement("button",{className:u()("msc-add-to-wishlist",x,C.waiting?"msc-add-to-wishlist__waiting":"",C.canRemove?"msc-add-to-wishlist__removing":""),"aria-label":M,onClick:w,disabled:S,ref:A,role:R},M),k&&p().createElement(l.UncontrolledTooltip,{placement:O,trigger:"hover focus",target:A},M)):p().createElement(p().Fragment,null,p().createElement("button",{className:u()("msc-add-to-wishlist",x,C.waiting?"msc-add-to-wishlist__waiting":"",C.canRemove?"msc-add-to-wishlist__removing":""),"aria-label":M,onClick:w,disabled:S,ref:L,role:R}),k&&p().createElement(l.UncontrolledTooltip,{placement:O,trigger:"hover focus",target:A},M)),C.content.showAlert&&D?p().createElement("div",{className:"ms-wishlist-items__product-status"},p().createElement(l.Alert,{color:C.content.color,isOpen:C.content.showAlert,toggle:function(){m.onDismiss(C)}},C.content.wishlistTextMessage)):"")}},m))},1168:(e,t,n)=>{"use strict";n.d(t,{h:()=>f,j:()=>m});n(25),n(12);var a=n(10),r=n(2),i=n(6),o=n(1),s=n(8),l=n.n(s),c=n(0),u=n(483),d=n(73),p=n.n(d),m=function(e){function t(t){var n=e.call(this,t)||this;return n.waitTime=500,n._handleChange=function(e){return(0,a.sH)(n,void 0,void 0,(function(){var t=this;return(0,a.YH)(this,(function(n){return this.cancellabelDebounce&&this.cancellabelDebounce.cancel(),this.cancellabelDebounce=p()((function(){return(0,a.sH)(t,void 0,void 0,(function(){var t;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return[4,this.props.cartState.setInvoiceLinePrice({cartLineId:null!==(t=this.props.cartLine.LineId)&&void 0!==t?t:null,price:e})];case 1:return n.sent(),[2]}}))}))}),this.waitTime),setTimeout((function(){t.cancellabelDebounce()}),0),[2]}))}))},n}return(0,a.C6)(t,e),t.prototype.render=function(){return c.createElement(o.PriceEditor,{className:this.props.className,resources:this.props.resources,defaultAmount:this.props.cartLine.Price,maximumValue:this.props.cartLine.InvoiceAmount,minimumValue:.01,handleChange:this._handleChange})},t}(c.PureComponent),h={renderProductDimensions:function(e,t){return e&&e.Dimensions?e.Dimensions.map((function(n){var a,r,i;return 1===n.DimensionTypeValue?c.createElement("div",{key:e.RecordId+"ProductDimensions1",className:"msc-cart-line__product-variant-item"},c.createElement("span",{className:"msc-cart-line__product-variant-color"},t.colorString,c.createElement("span",{className:"name"},n.DimensionValue&&n.DimensionValue.Value))):2===n.DimensionTypeValue?c.createElement("div",{key:e.RecordId+"ProductDimensions2",className:"msc-cart-line__product-variant-item"},c.createElement("span",{className:"msc-cart-line__product-configuration"},t.configString,c.createElement("span",{className:"name"},null===(a=n.DimensionValue)||void 0===a?void 0:a.Value))):3===n.DimensionTypeValue?c.createElement("div",{key:e.RecordId+"ProductDimensions3",className:"msc-cart-line__product-variant-item"},c.createElement("span",{className:"msc-cart-line__product-variant-size"},t.sizeString,c.createElement("span",{className:"name"},null===(r=n.DimensionValue)||void 0===r?void 0:r.Value))):4===n.DimensionTypeValue?c.createElement("div",{key:e.RecordId+"ProductDimensions4",className:"msc-cart-line__product-variant-item"},c.createElement("span",{className:"msc-cart-line__product-variant-style"},e.IsGiftCard?t.amountString:t.styleString,c.createElement("span",{className:"name"},null===(i=n.DimensionValue)||void 0===i?void 0:i.Value))):null})):[]},renderDiscountLines:function(e){return e.data.cartLine.DiscountLines&&0!==e.data.cartLine.DiscountLines.length?e.data.cartLine.DiscountLines.map((function(t,n){return c.createElement("div",{key:t.OfferId||n,className:"msc-cart-line-item-product-discount"},c.createElement("span",{className:"msc-cart-line__product-savings-label"},t.OfferName?t.OfferName:"",":"," "+(e.resources.discountStringText||"Discount")+" "),c.createElement("span",{className:"msc-cart-line__promo-codes"},t.DiscountCost&&c.createElement(c.Fragment,null,c.createElement(u.F,{data:e.isSalesLine?{price:{CustomerContextualPrice:e.data.cartLine.PeriodicDiscount}}:{price:{CustomerContextualPrice:e.data.cartLine.DiscountAmount,BasePrice:e.data.cartLine.DiscountAmount}},context:e.context,id:e.id,typeName:e.typeName,className:"msc-cart-line__discount-value",currencyCode:e.priceCurrency}))),c.createElement("span",null," ("+(void 0!==t.EffectivePercentage?t.EffectivePercentage:"")+"%)"))})):null},renderInventoryLabel:function(e){if(!e.inventoryInformationLabel)return null;var t=e.inventoryLabelClassName?"msc-cart-line__product-inventory-label "+e.inventoryLabelClassName:"msc-cart-line__product-inventory-label";return c.createElement("span",{className:t},e.inventoryInformationLabel)},renderUnitOfMeasure:function(e){if(!e.context.app.config||e.context.app.config.unitOfMeasureDisplayType&&"none"!==e.context.app.config.unitOfMeasureDisplayType){var t=e.data.product;if(t&&t.DefaultUnitOfMeasure)return c.createElement("div",{className:"msc-cartline__product-unit-of-measure"},c.createElement("span",null,t.DefaultUnitOfMeasure))}},renderShippingLabel:function(e){var t,n,a=null===(t=e.context.request.channel)||void 0===t?void 0:t.PickupDeliveryModeCode,r=e.channelDeliveryOptionConfig,i=e.data.cartLine,o=!1;if(o=void 0!==r?!(!i.DeliveryMode||!(null===(n=r.PickupDeliveryModeCodes)||void 0===n?void 0:n.some((function(e){return e!==i.DeliveryMode})))):!(!i.DeliveryMode||i.DeliveryMode===a),o){var s=(i.ChargeLines||[]).filter((function(e){return e.IsShipping}));if(0!==s.length){var l=s.reduce((function(e,t){return e+(t.CalculatedAmount||0)}),0),d=c.createElement(u.F,{data:{price:{CustomerContextualPrice:l}},freePriceText:"Free",context:e.context,id:e.id,typeName:e.typeName,className:"msc-cart-line__freight-actual",currencyCode:e.priceCurrency});return c.createElement(c.Fragment,null,c.createElement("label",{className:"msc-cart-line__freight-label"},e.resources.shippingChargesText+":"),c.createElement("span",{className:"shipping-value"},d))}}},renderOtherCharges:function(e){var t,n=e.data.cartLine,a=null===(t=n.ChargeLines)||void 0===t?void 0:t.filter((function(e){return!e.IsShipping}));return a&&a.map((function(t,n){return t&&t.CalculatedAmount?c.createElement("div",{className:"msc-cart-line__other-charges",key:n},c.createElement("label",{className:"msc-cart-line__other-charges-label"},t.Description+":"),c.createElement("span",{className:"other-charge-value"},c.createElement(u.F,{data:{price:{CustomerContextualPrice:t.CalculatedAmount}},context:e.context,id:e.id,typeName:e.typeName,className:"msc-cart-line__other-charges-actual",currencyCode:e.priceCurrency}))):""}))||void 0},renderSalesAgreementPrompt:function(e){return 0===e.data.cartLine.SalesAgreementLineRecordId?null:c.createElement("div",{className:"msc-cart-line__sales-agreement-prompt"},e.resources.salesAgreementPricePrompt)},renderConfirmedShipDate:function(e){if(!e.isSalesLine||void 0===e.confirmedShipDate||i.StringExtensions.isNullOrEmpty(e.confirmedShipDate))return null;var t="msc-cart-line__confirmed-ship-date";return c.createElement(c.Fragment,null,c.createElement("span",{className:t},e.resources.confirmedShipDateLabel),c.createElement("span",{className:t},e.confirmedShipDate))},renderRequestDeliveryDate:function(e){if(!e.isSalesLine||void 0===e.requestDeliveryDate||i.StringExtensions.isNullOrEmpty(e.requestDeliveryDate))return null;var t="msc-cart-line__request-delivery-date";return c.createElement(c.Fragment,null,c.createElement("span",{className:t},e.resources.requestDeliveryDateLabel),c.createElement("span",{className:t},e.requestDeliveryDate))}},g=function(e){var t=e.data.cartLine.CatalogId;if((0,i.validateCatalogId)(t),!(0,r.isChannelTypeB2B)(e.context.actionContext.requestContext)||!t||!i.ArrayExtensions.hasElements(e.data.catalogs))return null;var n=e.data.catalogs.find((function(e){return e.RecordId===t}));return n&&n.Name?c.createElement("div",{className:"msc-cart-line__catalog-label"},n.Name):null},f=r.msdyn365Commerce.createComponent("CartLineItem",(0,a.Cl)({component:function(e){var t,n,s,d,p=e.isSalesLine,f=e.productUrl,C=e.resources,y=e.data,v=y.product,_=y.cartLine,b={sizeString:C.sizeString,colorString:C.colorString,styleString:C.styleString,configString:C.configString,amountString:C.amountString},T=v&&(0,i.getFallbackImageUrl)(v.ItemId,e.context.actionContext.requestContext.apiSettings,null===(n=null===(t=e.context.app)||void 0===t?void 0:t.config)||void 0===n?void 0:n.OmniChannelMedia),E=e.imageSettings;E.cropFocalRegion=!i.ObjectExtensions.isNullOrUndefined(E);var x=e.resources.inputQuantityAriaLabel,S=v&&h.renderProductDimensions(v,b),N=h.renderDiscountLines(e),P=h.renderInventoryLabel(e),w=h.renderUnitOfMeasure(e),M=h.renderShippingLabel(e),A=h.renderOtherCharges(e),L=h.renderConfirmedShipDate(e),D=h.renderSalesAgreementPrompt(e),I=(0,o.getPayloadObject)("click",e.telemetryContent,"",null==v?void 0:v.RecordId.toString()),k=(0,o.getTelemetryAttributes)(e.telemetryContent,I),O=(null==v?void 0:v.Name)||_.Description,R=e.data.cartLine.IsInvoiceLine?"msc-cart-line__invoice-image":"msc-cart-line__product-image",F=function(){return e.errorMessage?c.createElement("div",{className:"msc-cart-line__error-message msc-alert__header"},c.createElement("span",{className:"msi-exclamation-triangle"}),c.createElement("span",null,e.errorMessage)):null},V=function(t){e.quantityOnChange&&e.quantityOnChange(e.data.cartLine,Number.parseInt(t.target.value,10),e.lineIndex)},H=function(e,t){return c.createElement("select",{className:"msc-cart-line__quantity__select-menu","aria-label":x,value:t,onChange:V},function(e){for(var t=[],n=1;n<=e;n++)t.push(c.createElement("option",{className:"msc-cart-line__quantity__select-menu__item",value:n},n));return t}(e))},B=function(){var t,n=[];return e.isOutOfStock?null:(e.data.cartLine.IsInvoiceLine||(e.isQuantityEditable&&!(null===(t=e.data.product)||void 0===t?void 0:t.IsGiftCard)?n.push(H(e.maxQuantity||10,e.currentQuantity)):n.push(c.createElement("div",{className:l()("msc-cart-line__quantity",{"single-quantity":1===e.data.cartLine.Quantity})},c.createElement("label",{className:"quantity-label"},C.quantityDisplayString),c.createElement("span",{className:"quantity-value"},e.data.cartLine.Quantity)))),n.push(c.createElement("div",{className:"msc-cart-line__product-price"},c.createElement(u.F,{data:p?{price:{CustomerContextualPrice:e.data.cartLine.NetAmountWithAllInclusiveTax,BasePrice:e.data.cartLine.GrossAmount}}:{price:{CustomerContextualPrice:e.data.cartLine.ExtendedPrice,BasePrice:e.data.cartLine.NetPrice}},context:e.context,id:e.id,typeName:e.typeName,className:"discount-value",originalPriceText:C.originalPriceText,currentPriceText:C.currentPriceText,salesAgreementLineId:e.data.cartLine.SalesAgreementLineRecordId,currencyCode:e.priceCurrency}))),n)};if("COMPACT"===e.displayMode){var z=(null==v?void 0:v.Dimensions)?v.Dimensions.reduce((function(e,t){var n;return(null===(n=t.DimensionValue)||void 0===n?void 0:n.Value)?e?e+", "+t.DimensionValue.Value:""+t.DimensionValue.Value:e}),""):"";return c.createElement("div",{className:"msc-cart-line msc-cart-line__compact"},c.createElement("div",{className:R},c.createElement(r.Image,{requestContext:e.context.actionContext.requestContext,src:null!==(s=e.primaryImageUrl)&&void 0!==s?s:"empty",fallBackSrc:T,altText:O,gridSettings:e.gridSettings,imageSettings:E,loadFailureBehavior:"empty"})),c.createElement("div",{className:"msc-cart-line__content"},r.default.isBrowser?c.createElement("a",(0,a.Cl)({className:"msc-cart-line__product-title"},k,{href:f,key:f}),O):null,""!==z?c.createElement("div",{className:"msc-cart-line__product-variants"},z):"",w,B(),e.data.cartLine.IsInvoiceLine&&e.data.cartState&&e.resources.priceEditorResources&&c.createElement(m,{className:"msc-cart-line__price-editor-container",context:e.context,resources:e.resources.priceEditorResources,cartState:e.data.cartState,cartLine:e.data.cartLine})),F())}return c.createElement(c.Fragment,null,c.createElement("div",{className:"msc-cart-line"},c.createElement("div",{className:R},c.createElement(r.Image,{requestContext:e.context.actionContext.requestContext,src:null!==(d=e.primaryImageUrl)&&void 0!==d?d:"",fallBackSrc:T,altText:O,gridSettings:e.gridSettings,imageSettings:E,loadFailureBehavior:"empty"})),c.createElement("div",{className:"msc-cart-line__content"},c.createElement("div",{className:"msc-cart-line__product"},c.createElement(g,(0,a.Cl)({},e)),r.default.isBrowser?c.createElement("a",(0,a.Cl)({className:"msc-cart-line__product-title"},k,{href:f,key:f}),O):null,i.ArrayExtensions.hasElements(S)?c.createElement("div",{className:"msc-cart-line__product-variants"},S):"",w,N,P,e.showShippingChargesForLineItems&&c.createElement("div",{className:"msc-cart-line__freight"},M),A,L,D),B(),e.data.cartLine.IsInvoiceLine&&e.data.cartState&&e.resources.priceEditorResources&&c.createElement(m,{className:"msc-cart-line__price-editor-container",context:e.context,resources:e.resources.priceEditorResources,cartState:e.data.cartState,cartLine:e.data.cartLine}))),F())}},h))},1169:(e,t,n)=>{"use strict";n.d(t,{z:()=>h,y:()=>s});var a=n(6),r=n(0),i=n.n(r),o=n(484),s=function(e){var t=e.context,n=e.dimensionType,r=e.swatches,s=e.onSelectDimension,l=i().useCallback((function(e){s(t,e,n)}),[s,t,n]);return a.ArrayExtensions.hasElements(r)?i().createElement(o.SwatchComponent,{apiSettings:t.request.apiSettings,list:r,onSelectItem:l}):i().createElement("div",{className:"msc-swatch-empty"})},l=(n(37),n(15),n(12),n(18),n(51),n(9),n(22),n(23),n(21),n(10)),c=n(2),u=n(14),d=n(1),p=n(213),m=n(481);var h=c.msdyn365Commerce.createComponent("Product",(0,l.Cl)({component:function(e){var t,n,o,h,g=e.data,f=e.context,C=e.imageSettings,y=e.savingsText,v=e.freePriceText,_=e.originalPriceText,b=e.currentPriceText,T=e.ratingAriaLabel,E=e.ratingCountAriaLabel,x=e.allowBack,S=e.typeName,N=e.id,P=e.telemetryContent,w=e.quickViewButton,M=e.productComparisonButton,A=e.inventoryLabel,L=e.isPriceMinMaxEnabled,D=e.priceResources,I=e.dimensionAvailabilities,k=e.swatchItemAriaLabel,O=g.product,R=g.productPrice,F=f,V=F.app.config.dimensionToPreSelectInProductCard;function H(e,t,n){var a=new URL(e,t.request.apiSettings.baseUrl);a.search?a.search+="&"+n:a.search+=n;var r=new URL(a.href);return r.pathname+a.search}function B(e){var t,n;if(!e||!e.AttributeValues)return null;var r=null===(t=e.AttributeValues.find((function(e){var t;return(null===(t=e.KeyName)||void 0===t?void 0:t.toLocaleLowerCase())===V})))||void 0===t?void 0:t.Swatches;if(!a.ArrayExtensions.hasElements(r))return null;var i=null!==(n=r.find((function(e){return!0===e.IsDefault})))&&void 0!==n?n:r[0];return i}var z=O?(0,a.getProductPageUrlSync)(null!==(t=O.Name)&&void 0!==t?t:"",O.RecordId,f.actionContext,void 0):"";x&&z&&(z=H(z,f,"back=true"));var U,q,W,K,Q=null!==(U=f,q=O,W=B(q),K=null==W?void 0:W.ProductImageUrls,n=a.ArrayExtensions.hasElements(K)?(0,a.generateImageUrl)(K[0],U.request.apiSettings):null==q?void 0:q.PrimaryImageUrl)&&void 0!==n?n:null==O?void 0:O.PrimaryImageUrl,$=null!==(o=function(e,t,n){var a=B(n);if(!(null==a?void 0:a.SwatchValue))return t;var r=encodeURIComponent(a.SwatchValue),i=V+"="+r;return H(t,e,i)}(f,z,O))&&void 0!==o?o:z,j=(0,l.zs)((0,r.useState)($),2),G=j[0],Y=j[1],X=(0,l.zs)((0,r.useState)(Q),2),J=X[0],Z=X[1],ee=(0,l.zs)((0,r.useState)(new a.Dictionary),1),te=ee[0],ne=f.app.config.enableStockCheck,ae=i().useCallback((function(e,t){var n=t.dimensionType;if(te.setValue(n,t),!a.StringExtensions.isNullOrWhitespace(t.value)){var r=n+"="+t.value,i="";if(G.includes(n)){var o=new URL(G,e.request.apiSettings.baseUrl);o.searchParams.delete(n),i=H(o.toString(),f,r)}else i=H(G,f,r);if(Y(i),n===V){var s=a.ArrayExtensions.hasElements(t.productImageUrls)?t.productImageUrls[0]:void 0,l=(0,a.generateImageUrl)(s,e.request.apiSettings);Z(l)}}}),[te,f,G]);if(!O)return null;var re,ie,oe,se,le,ce,ue,de,pe,me,he,ge=a.ArrayExtensions.validValues(null===(h=O.AttributeValues)||void 0===h?void 0:h.map((function(e){var t,n,r,i,o=null!==(n=null===(t=e.KeyName)||void 0===t?void 0:t.toLocaleLowerCase())&&void 0!==n?n:"",s=(0,a.checkIfShouldDisplayAsSwatch)(o,f,a.DimensionSwatchDisplayTypes.productCard);if(!s)return null;var l=o,c=null!==(i=null===(r=e.Swatches)||void 0===r?void 0:r.map((function(t){var n,a,r,i;return{itemId:(null!==(n=e.RecordId)&&void 0!==n?n:"")+"-"+o+"-"+(null!==(a=t.SwatchValue)&&void 0!==a?a:""),value:null!==(r=t.SwatchValue)&&void 0!==r?r:"",dimensionType:l,colorHexCode:t.SwatchColorHexCode,imageUrl:t.SwatchImageUrl,productImageUrls:t.ProductImageUrls,isDefault:t.IsDefault,swatchItemAriaLabel:k?(0,d.format)(k,l):"",isDisabled:ne&&(null===(i=null==I?void 0:I.find((function(e){var n;return e.value===(null!==(n=t.SwatchValue)&&void 0!==n?n:"")})))||void 0===i?void 0:i.isDisabled)}})))&&void 0!==i?i:[];return l===V&&a.ArrayExtensions.hasElements(c)&&!c.some((function(e){return e.isDefault}))&&(c[0].isDefault=!0),{recordId:e.RecordId,swatches:c}}))),fe=(0,d.getPayloadObject)("click",P,"",O.RecordId.toString()),Ce=(0,d.getTelemetryAttributes)(P,fe),ye=f.app.config&&"buyboxAndBrowse"===f.app.config.unitOfMeasureDisplayType;function ve(e,t){if(e&&t){var n=e.toFixed(2);return(0,d.format)(t||"",n,"5")}return""}function _e(e,t){return e&&t?(0,d.format)(t||"",e):""}return i().createElement(i().Fragment,null,i().createElement("a",(0,l.Cl)({href:G,onClick:(0,d.onTelemetryClick)(P,fe,O.Name),"aria-label":(se=O.Name,le=f.cultureFormatter.formatCurrency(O.Price),ce=O.AverageRating,ue=T,de=O.TotalRatings,pe=E,me=A,he=_e(de,null!=pe?pe:""),(null!=se?se:"")+" "+(null!=le?le:"")+" "+ve(ce,ue)+(he?" "+he:"")+" "+(null!=me?me:"")),className:"msc-product"},Ce),i().createElement("div",{className:"msc-product__image"},function(e,t,n,a,r,o){if(!n||!t||!e)return null;var s=f.app.config.placeholderImageName,u=a;s&&a&&(u=a+","+s);var d={src:n,altText:r||"",fallBackSrc:u},p={gridSettings:t};return p.gridSettings=t,p.imageSettings=e,p.imageSettings.cropFocalRegion=!0,i().createElement(c.Image,(0,l.Cl)({},d,p,{loadFailureBehavior:"empty",requestContext:o,bypassHideOnFailure:!0}))}(C,f.request.gridSettings,J,O.PrimaryImageUrl,O.Name,f.actionContext.requestContext)),i().createElement("h2",{className:"msc-product__title"},O.Name)),a.ArrayExtensions.hasElements(ge)?i().createElement("div",{className:"msc-product__dimensions"},ge.map((function(e){return i().createElement(s,{key:e.recordId,context:f,onSelectDimension:ae,swatches:e.swatches})}))):null,i().createElement("div",{className:"msc-product__details"},function(e,t,n,a,r,o,s,l,c){var d={ProductTypeValue:a.IsMasterProduct?u.ProductType.Master:u.ProductType.Standalone},m=null!=c?c:{BasePrice:a.BasePrice,AdjustedPrice:a.Price,CustomerContextualPrice:a.Price,MaxVariantPrice:a.MaxVariantPrice?a.MaxVariantPrice:a.Price,MinVariantPrice:a.MinVariantPrice?a.MinVariantPrice:a.Price};return i().createElement(p.F,{context:e,id:n,typeName:t,product:d,data:{price:m},savingsText:r,freePriceText:o,originalPriceText:s,currentPriceText:l,isPriceMinMaxEnabled:L,priceResources:D})}(f,S,N,O,y,v,_,b,R),ye&&(oe=O.DefaultUnitOfMeasure,oe?i().createElement("div",{className:"msc-product__unit-of-measure"},i().createElement("span",null,oe)):null),(ie=O.Description,i().createElement("p",{className:"msc-product__text"},ie)),!f.app.config.hideRating&&function(e,t,n,a,r,o){if(!a)return null;var s=(null==r?void 0:r.toString())||void 0,l=ve(a,o),c=_e(Number(s),E);return i().createElement(m.X,{context:e,id:n,typeName:t,avgRating:a,ratingCount:s,readOnly:!0,ariaLabel:l,ratingCountAriaLabel:c,data:{}})}(f,S,N,O.AverageRating,O.TotalRatings,T),(re=A,re&&""!==re?i().createElement("div",{className:"msc-product__availability"},i().createElement("span",null,re)):null)),w&&function(e,t){if(null!==e){var n=te.getValues().map((function(e){return{DimensionTypeValue:(0,a.convertDimensionTypeToProductDimensionType)(e.dimensionType),DimensionValue:{RecordId:0,Value:e.value}}}));return i().cloneElement(e,{selectedProductId:t,selectedDimensions:n})}}(w,O.RecordId),M&&function(e,t,n){return(0,a.validateCatalogId)(n),i().cloneElement(e,{product:t,catalogId:n})}(M,O,(0,c.getCatalogId)(f.request)))}},{}))},1170:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});n(12);var a=n(10),r=n(1),i=n(0),o=function(e){function t(t){var n=e.call(this,t)||this;n.selectMenu=i.createRef(),n._onChanged=function(e){return(0,a.sH)(n,void 0,void 0,(function(){return(0,a.YH)(this,(function(t){switch(t.label){case 0:return this.setState({selectedIndex:e.target.value}),this.props.onChange?[4,this.props.onChange({dropdownId:this.props.dropdownId,selectId:e.target.value,selectedValue:e.target.innerText})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.props.onInitialize&&n.props.onInitialize({initializedDimension:n.props.dropdownId});var o=n.props.dropdownList.find((function(e){return e.isDefault}));return o?(n.state={selectedIndex:o.id.toString()},n.props.onChange&&n.props.onChange({dropdownId:n.props.dropdownId,selectId:o.id,selectedValue:o.value})):n.state={selectedIndex:""},n.payLoad=(0,r.getPayloadObject)("click",t.telemetryContent,n.props.dropdownName),n}return(0,a.C6)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dropdownId,o=t.dropdownList,s=t.dropdownName,l=t.dropdownToggleName,c=(0,r.getTelemetryAttributes)(this.props.telemetryContent,this.payLoad);return i.createElement("select",(0,a.Cl)({id:"msc-dropdown__entry-"+n,ref:this.selectMenu,"aria-label":s,className:"msc-dropdown__select",onChange:this._onChanged},c),i.createElement("option",{value:"","aria-selected":""===this.state.selectedIndex,selected:""===this.state.selectedIndex,hidden:!0,disabled:!0},l),o.map((function(t){return i.createElement("option",{value:t.id,key:t.id,selected:e.state.selectedIndex===t.id.toString(),"aria-selected":e.state.selectedIndex===t.id.toString(),className:t.isDisabled?"msc-dropdown__select__disabled":void 0},t.value)})))},t}(i.PureComponent)},1171:(e,t,n)=>{"use strict";n.d(t,{q:()=>d});n(15),n(12),n(19);var a,r=n(10),i=n(6),o=n(1),s=n(0),l=n(699),c=function(e,t){return(0,r.sH)(void 0,void 0,void 0,(function(){return(0,r.YH)(this,(function(n){switch(n.label){case 0:return[4,t(+e.dropdownId,e.selectId)];case 1:return n.sent(),[2]}}))}))},u=function(e,t){t&&t(e.initializedDimension)},d=function(e,t,n,d,p,m,h,g,f,C){var y=h.getDropdownName;if(g&&f){var v=function(e){return(0,r.sH)(void 0,void 0,void 0,(function(){return(0,r.YH)(this,(function(t){return[2,c(e,h.dimensionSelectedAsync)]}))}))},_=function(e){return(0,r.sH)(void 0,void 0,void 0,(function(){return(0,r.YH)(this,(function(t){return[2,u(e,h.initializeDimension)]}))}))};if(a=(0,o.getTelemetryObject)(t.request.telemetryPageName,n,d),i.ArrayExtensions.hasElements(f)){var b=f.map((function(t){return function(e,t,n,r,i,o,c,u){var d=i(e.DimensionTypeValue,r),p=e.DimensionTypeValue.toString(),m=n.replace("{0}",d.toLocaleLowerCase()),h=e.DimensionValues?e.DimensionValues.map((function(e){return{value:e.Value||"",id:e.RecordId.toString()}})):[],g=u?u[p]:"";return{containerProps:{className:t+"__dropdown"},labelContainerProps:{tag:"label",className:t+"__dropdown-quantity-label",htmlFor:t+"__dropown-quantity-input-"+p},errors:g&&s.createElement("span",{className:"msc-alert msc-alert-noborder msc-alert-danger"},s.createElement("span",{className:"msi-exclamation-triangle","aria-hidden":"true"}),s.createElement("span",null,g)),heading:s.createElement("div",null,d),select:s.createElement(l.Dropdown,{dropdownId:p,dropdownName:d,dropdownToggleName:m,dropdownList:h,onChange:o,onInitialize:c,telemetryContent:a})}}(t,e,p,m,y,v,_,null==C?void 0:C.configureErrors)}));return{containerProps:{className:e+"__configure"},dropdowns:b}}}}},1172:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var a=n(10),r=n(6),i=n(8),o=n.n(i),s=n(0),l=n(1),c=function(e){var t=e.isSelected,n=e.className,i=e.onSelectItem,c=e.item,u=c.itemId,d=c.value,p=c.colorHexCode,m=c.imageUrl,h=c.swatchItemAriaLabel,g=c.dimensionType,f={},C=!1,y=!r.StringExtensions.isNullOrWhitespace(p),v=!r.StringExtensions.isNullOrWhitespace(m),_=s.useCallback((function(){i(c)}),[i,c]),b=e.isSelectionEnabled?_:void 0;if(v){var T=(0,r.generateSwatchImageUrl)(m,e.apiSettings);return s.createElement("img",{key:u+"-"+(c.isDisabled?"disabled":"enabled"),src:T,className:o()(n,n+"-"+u,n+"__image",t?n+"__selected":n+"__unselected",c.isDisabled?n+"__disabled":void 0),style:f,onClick:b,onKeyPress:b,title:d,"aria-label":d,alt:d})}y&&(f.backgroundColor=p,C=!0);var E=!C;return s.createElement("button",(0,a.Cl)({role:"radio",key:u+"-"+(c.isDisabled?"disabled":"enabled"),className:o()(n,n+"-"+u,t?n+"__selected":n+"__unselected",C?n+"__colored":n+"__uncolored",c.isDisabled?n+"__disabled":void 0),style:f,onClick:b,onKeyPress:b,title:d},h?{"aria-label":(0,l.format)(h,g,d)}:null,e.isRefineItem?{tabIndex:0}:null,{"aria-checked":t}),E&&d)},u=function(e){var t,n="msc-swatch-container",i=(0,a.zs)(s.useState(void 0),2),l=i[0],u=i[1],d=(0,a.zs)(s.useState(!1),2),p=d[0],m=d[1],h=null===(t=e.isSelectionEnabled)||void 0===t||t,g=e.onSelectItem,f=s.useCallback((function(e){u(e.itemId),r.ObjectExtensions.isNullOrUndefined(g)||g(e),m(!0)}),[u,g]);if(!p){var C=e.list.find((function(e){return e.isDefault}));C&&C.itemId!==l&&(u(C.itemId),r.ObjectExtensions.isNullOrUndefined(g)||g(C))}return s.createElement("div",(0,a.Cl)({role:"radiogroup",className:o()(n,e.className)},e.isRefineItem?{"aria-hidden":!0}:null),e.list.map((function(t){var a=t.itemId,r=l===a;return s.createElement(c,{key:a+"-"+(t.isDisabled?"disabled":"enabled"),className:n+"__item",item:t,onSelectItem:f,isSelected:r,apiSettings:e.apiSettings,isSelectionEnabled:h,isRefineItem:e.isRefineItem})})))}},1173:(e,t,n)=>{"use strict";n.d(t,{ProductComponentV2SwatchComponent:()=>a.g});var a=n(700),r=n(1325);n.o(r,"ProductDimensionsMatrix")&&n.d(t,{ProductDimensionsMatrix:function(){return r.ProductDimensionsMatrix}}),n.o(r,"RefinerComponent")&&n.d(t,{RefinerComponent:function(){return r.RefinerComponent}}),n.o(r,"RefinerItemType")&&n.d(t,{RefinerItemType:function(){return r.RefinerItemType}}),n.o(r,"RefinerOptionsComponent")&&n.d(t,{RefinerOptionsComponent:function(){return r.RefinerOptionsComponent}}),n.o(r,"RefinerOptionsType")&&n.d(t,{RefinerOptionsType:function(){return r.RefinerOptionsType}}),n.o(r,"SearchBarComponent")&&n.d(t,{SearchBarComponent:function(){return r.SearchBarComponent}}),n.o(r,"SwatchComponent")&&n.d(t,{SwatchComponent:function(){return r.SwatchComponent}}),n.o(r,"TableCellComponent")&&n.d(t,{TableCellComponent:function(){return r.TableCellComponent}}),n.o(r,"TableCellContentType")&&n.d(t,{TableCellContentType:function(){return r.TableCellContentType}}),n.o(r,"TableComponent")&&n.d(t,{TableComponent:function(){return r.TableComponent}}),n.o(r,"TableHeaderComponent")&&n.d(t,{TableHeaderComponent:function(){return r.TableHeaderComponent}}),n.o(r,"TableRowComponent")&&n.d(t,{TableRowComponent:function(){return r.TableRowComponent}}),n.o(r,"WishListIconComponent")&&n.d(t,{WishListIconComponent:function(){return r.WishListIconComponent}}),n.o(r,"getProductConfigure")&&n.d(t,{getProductConfigure:function(){return r.getProductConfigure}}),n.o(r,"getUpdatedRefinementCriteria")&&n.d(t,{getUpdatedRefinementCriteria:function(){return r.getUpdatedRefinementCriteria}}),n.o(r,"isMatchingRefinementCriterion")&&n.d(t,{isMatchingRefinementCriterion:function(){return r.isMatchingRefinementCriterion}});n(1326)},1174:(e,t,n)=>{"use strict";n.d(t,{y:()=>x});n(18);var a=n(10),r=n(42),i=n(14),o=n(6),s=n(1),l=n(8),c=n.n(l),u=n(0),d=n.n(u),p=n(695),m=n(698),h=function(e){var t,n=e.className,a=e.item,r=a.itemId,i=a.value,s=a.colorHexCode,l=a.imageUrl,d={},p=!o.StringExtensions.isNullOrWhitespace(s),m=!o.StringExtensions.isNullOrWhitespace(l),h="msc-swatch-container",g="msc-swatch-container__item";if(p)d.backgroundColor=s,t=u.createElement("span",{key:r,className:c()(g,g+"__colored"),style:d,title:i,"aria-label":i});else if(m){var f=(0,o.generateSwatchImageUrl)(l,e.apiSettings);t=u.createElement("img",{key:r,src:f,className:c()(g,g+"__image"),style:d,title:i,"aria-label":i,alt:i})}return u.createElement("span",{className:c()(n,n+"-"+r)},t&&u.createElement("span",{className:h},t),u.createElement("span",{className:n+"__value"},i))},g=function(e,t){switch(e){case i.ProductDimensionType.Color:return t.productDimensionTypeColor;case i.ProductDimensionType.Configuration:return t.productDimensionTypeConfiguration;case i.ProductDimensionType.Size:return t.productDimensionTypeSize;case i.ProductDimensionType.Style:return t.productDimensionTypeStyle;default:return""}},f=function(e){var t=d().useCallback((function(){e.onDimensionTypeSelect(e.dimensionType)}),[e]),n=g(e.dimensionType,e.resources);return d().createElement(s.Button,{key:e.dimensionType,className:e.className,title:n,onClick:t},n)},C=function(e){var t=d().createRef(),n=(0,a.zs)(d().useState(!1),2),r=n[0],i=n[1],o=(0,a.zs)(d().useState(e.currentDimensionType),2),l=o[0],c=o[1],u=(0,a.zs)(d().useState(g(e.currentDimensionType,e.resources)),2),p=u[0],m=u[1],h=e.className+"__popover",C=d().useCallback((function(){i(!r)}),[r]),y=d().useCallback((function(t){e.onDimensionTypeChange(l,t),c(t),m(g(t,e.resources))}),[l,e]);return d().createElement("div",{className:e.className},d().createElement(s.Button,{className:e.className+"__toggle-button",title:p,innerRef:t,"aria-expanded":r,"aria-describedby":e.className,onClick:C},p),d().createElement(s.Popover,{className:h,placement:"bottom-start",isOpen:r,target:t,toggle:C},d().createElement("div",{className:h+"__content"},e.dimensionTypes.map((function(t){return d().createElement(f,{key:t,className:h+"__content__item",resources:e.resources,dimensionType:t,onDimensionTypeSelect:y})})))))},y=function(e){var t=(0,a.zs)(d().useState(e.defaultQuantity),2),n=t[0],r=t[1],i=d().useCallback((function(t){return r(null!=t?t:e.defaultQuantity),!0}),[e.defaultQuantity]),o=d().useCallback((function(){return e.onApplyToAll(n),!0}),[e,n]);return d().createElement("div",{className:e.className},d().createElement("div",{className:e.className+"__quantity-label"},e.resources.productDimensionsMatrixEnterAllQuantitiesQuantityText),d().createElement(s.IncrementalQuantity,{currentCount:e.defaultQuantity,onChange:i,inputQuantityAriaLabel:e.resources.productDimensionsMatrixInputQuantityAriaLabel,min:e.minQuantityValue,max:e.maxQuantityValue,decrementButtonAriaLabel:e.resources.productDimensionsMatrixEnterAllQuantitiesDecrementButtonAriaLabel,incrementButtonAriaLabel:e.resources.productDimensionsMatrixEnterAllQuantitiesIncrementButtonAriaLabel}),d().createElement("div",{className:e.className+"__button-label"},e.resources.productDimensionsMatrixEnterAllQuantitiesEachText),d().createElement("div",{className:e.className+"__apply-to-all-container"},d().createElement(s.Button,{className:e.className+"__apply-to-all-container__button",title:e.resources.productDimensionsMatrixEnterAllQuantitiesApplyToAllText,onClick:o},e.resources.productDimensionsMatrixEnterAllQuantitiesApplyToAllText)))},v=function(e){var t=d().createRef(),n=(0,a.zs)(d().useState(!1),2),r=n[0],i=n[1],o=e.className+"__popover",l=d().useCallback((function(){i(!r)}),[r]),c=d().useCallback((function(t){i(!1),e.onApplyToAll(t)}),[e]);return d().createElement("div",{className:e.className},d().createElement(s.Button,{className:e.className+"__toggle-button",title:e.resources.productDimensionsMatrixEnterAllQuantitiesButtonText,innerRef:t,"aria-expanded":r,"aria-describedby":e.className,onClick:l},e.resources.productDimensionsMatrixEnterAllQuantitiesButtonText),d().createElement(s.Popover,{className:o,placement:"bottom-start",isOpen:r,target:t,toggle:l},d().createElement(y,(0,a.Cl)({},e,{className:o+"__content",onApplyToAll:c}))))},_=function(e){var t,n,a,r,i;return(null!==(t=e.DimensionTypeValue)&&void 0!==t?t:"")+"-"+(null!==(a=null===(n=e.DimensionValue)||void 0===n?void 0:n.RecordId)&&void 0!==a?a:"")+"-"+(null!==(i=null===(r=e.DimensionValue)||void 0===r?void 0:r.Value)&&void 0!==i?i:"")},b=function(e,t,n){var a=n.enableStockCheck;return!a||function(e,t,n){var a=t.find((function(t){return _(t)===e}));return(0,o.getInventoryLevelCodeFromDimensionValue)(a,n)}(e,t,n.inventoryLevel)!==o.InventoryLevelValues.outOfStock},T=function(e,t,n,r){var i,s;if(!o.ArrayExtensions.hasElements(e))return[];if(1===e.length)return e[0].map((function(e){var a=b(e,t,n);return{dimensionIds:[e],isAvailable:a,quantity:a?r:0}}));var l=T(e.slice(1),t,n,r),c=[],u=function(a){c=c.concat(e[0].map((function(e){var r=a.isAvailable&&b(e,t,n),i={dimensionIds:a.dimensionIds.concat(e),isAvailable:r,quantity:r?a.quantity:0};return i})))};try{for(var d=(0,a.Ju)(l),p=d.next();!p.done;p=d.next()){var m=p.value;u(m)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return c},E=function(e,t){var n,r;if((null==t?void 0:t.length)===e.length)return[{dimensionTypes:t.map((function(e){return e.DimensionTypeValue}))}];var i=[];try{for(var o=(0,a.Ju)(e),s=o.next();!s.done;s=o.next()){var l=s.value;if(!(null==t?void 0:t.includes(l))){var c=t?t.concat(l):[l],u=E(e,c);i=i.concat(u)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},x=function(e){function t(n){var i=e.call(this,n)||this;i._handleDisplayOrderChange=function(e){i.setState((function(t){var n=i._displayOrderList.find((function(t){return t.dimensionTypes.join("-")===e.selectedOption.key})),a=n.dimensionTypes.map((function(e){return t.dimensionsOrder.find((function(t){return t.DimensionTypeValue===e}))})),r=i._generateNodesByNewDimensions(o.ArrayExtensions.reverse(a),t.nodes);return{dimensionsOrder:a,nodes:r,lastChangeAllDate:Date.now()}}))},i._updateAllQuantities=function(e){i.setState((function(t){var n=t.nodes.map((function(t){return(0,a.Cl)((0,a.Cl)({},t),{quantity:t.isAvailable?e:0})})),r=n.map((function(e){return e.quantity}));return{nodes:n,totalQuantity:o.ArrayExtensions.hasElements(r)?o.ArrayExtensions.calculateSum(r):0,lastChangeAllDate:Date.now()}}))},i._clearAllQuantities=function(){i._updateAllQuantities(t._defaultQuantityProps.defaultQuantity)},i._handleCollapseDimension=function(e){return function(){i.setState((function(t){var n=t.dimensionsExpandState.getValueWithDefaultValue(e,!1);return t.dimensionsExpandState.setValue(e,!n),{dimensionsExpandState:t.dimensionsExpandState,dimensionsExpandStateDate:Date.now()}}))}},i._handleDimensionTypeChange=function(e,t){i.setState((function(n){var a=n.dimensionsOrder.find((function(t){return t.DimensionTypeValue===e})),r=n.dimensionsOrder.find((function(e){return e.DimensionTypeValue===t})),o=n.dimensionsOrder.map((function(e){return e===a?r:e===r?a:e})),s=i._generateNodesByNewDimensions(o,n.nodes);return{dimensionsOrder:o,nodes:s,lastChangeAllDate:Date.now()}}),(function(){i.props.dimensionOnChange&&i.props.dimensionOnChange()}))},i._handleQuantityChange=function(e){return function(t){if(void 0===t&&(t=0),e.isAvailable){var n=t-e.quantity;e.quantity=t,i.setState((function(e){return{totalQuantity:e.totalQuantity+n}}))}}};var l="xs"===(0,s.isMobile)({variant:s.VariantType.Viewport,context:i.props.context.request}),c=n.data.dimensions,u=t._retrieveNodes(l?o.ArrayExtensions.reverse(c):c,n),d=u.map((function(e){return e.quantity}));return i.state={dimensionsOrder:c,nodes:u,totalQuantity:o.ArrayExtensions.hasElements(d)?o.ArrayExtensions.calculateSum(d):0,lastChangeAllDate:Date.now(),dimensionsExpandState:new o.Dictionary,dimensionsExpandStateDate:Date.now()},i._displayOrderList=E(c),r.Ay.isBrowser&&i.retrieveAvailabilitiesInformation(),i}return(0,a.C6)(t,e),t._retrieveNodes=function(e,n){var r,i,s=o.ArrayExtensions.validValues(e.map((function(e){var t;return o.ArrayExtensions.validValues(null===(t=e.dimensionValuesWithInventory)||void 0===t?void 0:t.map(_))}))),l=o.ArrayExtensions.flatten(e.map((function(e){return e.dimensionValuesWithInventory}))),c=T(s,l,n.context.app.config,t._defaultQuantityProps.defaultQuantity),u=function(e){var t,n,r=l.filter((function(t){return e.dimensionIds.includes(_(t))})),i=void 0,s=function(e){var t=e.ProductIds;return o.ArrayExtensions.hasElements(t)?void 0===i?(i=t,"continue"):void(i=i.filter((function(e){return t.includes(e)}))):"continue"};try{for(var c=(t=void 0,(0,a.Ju)(r)),u=c.next();!u.done;u=c.next()){var d=u.value;s(d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}1===(null==i?void 0:i.length)&&(e.productId=i[0])};try{for(var d=(0,a.Ju)(c),p=d.next();!p.done;p=d.next()){var m=p.value;u(m)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return c},t._renderMatrixEmptyCell=function(e){return u.createElement("div",{key:"empty-placeholder",className:e})},t.prototype.render=function(){return o.ArrayExtensions.hasElements(this.state.nodes)?u.createElement("div",{className:c()(this.props.className,t._className)},this._renderHeader(t._className+"__header"),this._renderMatrix(t._className+"__matrix"),this._renderFooter(t._className+"__footer")):null},t.prototype.retrieveAvailabilitiesInformation=function(){var e;return(0,a.sH)(this,void 0,void 0,(function(){var t,n,r,s,l,c,u,d,p,m,h,g,f,C,y,v,_;return(0,a.YH)(this,(function(b){switch(b.label){case 0:if(t=this.state.nodes.map((function(e){return e.productId})),n=this.props.context.actionContext,r=this.props.context.app.config.enableStockCheck,s=this.props.context.app.config.warehouseAggregation,r)return[3,1];try{for(l=(0,a.Ju)(this.state.nodes),c=l.next();!c.done;c=l.next())f=c.value,f.isAvailable=!0}catch(e){C={error:e}}finally{try{c&&!c.done&&(y=l.return)&&y.call(l)}finally{if(C)throw C.error}}return[3,3];case 1:return u={ProductIds:t,QuantityUnitTypeValue:2,FilterByChannelFulfillmentGroup:!0,DeliveryModeTypeFilterValue:o.DeliveryMode.shipping,DefaultWarehouseOnly:"individual"===s},[4,i.ProductsDataActions.getEstimatedAvailabilityAsync({callerContext:n},u)];case 2:d=b.sent(),p=function(t){var n,a,r=null===(e=d.AggregatedProductInventoryAvailabilities)||void 0===e?void 0:e.find((function(e){return e.ProductId===t.productId}));t.isAvailable=void 0!==r&&(n=r,a=m.props.context.app.config.inventoryLevel,(0,o.getInventoryLevelCodeFromProductAvailability)(n,a)!==o.InventoryLevelValues.outOfStock)},m=this;try{for(h=(0,a.Ju)(this.state.nodes),g=h.next();!g.done;g=h.next())f=g.value,p(f)}catch(e){v={error:e}}finally{try{g&&!g.done&&(_=h.return)&&_.call(h)}finally{if(v)throw v.error}}b.label=3;case 3:return this.setState({lastChangeAllDate:Date.now()}),[2]}}))}))},t.prototype._renderHeader=function(e){return u.createElement("div",{className:e},this._renderDisplayOrderContainer(e+"__display-order"),this._renderActions(e+"__actions"))},t.prototype._renderDisplayOrderContainer=function(e){var t=this,n="xs"===(0,s.isMobile)({variant:s.VariantType.Viewport,context:this.props.context.request});if(!n)return null;var a=this._displayOrderList.map((function(e){return{key:e.dimensionTypes.join("-"),value:e.dimensionTypes.map((function(e){return g(e,t.props.resources)})).join(t.props.resources.productDimensionsMatrixDisplayOrderSeparator)}}));return u.createElement("div",{className:e},u.createElement(s.LabeledDropdown,{labelClassname:e+"__label",labelText:this.props.resources.productDimensionsMatrixDisplayOrderLabel,dropdownOptions:a,selectedOption:a[0],dropdownClassname:e+"__dropdown",onSelectOption:this._handleDisplayOrderChange}))},t.prototype._renderActions=function(e){return u.createElement("div",{className:e},this._renderEnterAllQuantities(e+"__enter-all-quantities-container"),this._renderClearAllQuantities(e+"__clear-all-quantities-container"))},t.prototype._renderEnterAllQuantities=function(e){var n=this.props.context.app.config.maxQuantityForCartLineItem;return u.createElement(v,{className:e,resources:this.props.resources,defaultQuantity:t._defaultQuantityProps.defaultQuantity,minQuantityValue:t._defaultQuantityProps.minQuantity,maxQuantityValue:n||t._defaultQuantityProps.maxQuantity,onApplyToAll:this._updateAllQuantities})},t.prototype._renderClearAllQuantities=function(e){return u.createElement("div",{className:e},u.createElement(s.Button,{className:e+"__button",title:this.props.resources.productDimensionsMatrixClearAllText,onClick:this._clearAllQuantities},this.props.resources.productDimensionsMatrixClearAllText))},t.prototype._renderMatrixDesktop=function(e){var n=this,a=e+"__row",r=a+"__cell",i=o.ArrayExtensions.flatten(this.state.dimensionsOrder.map((function(e){return e.dimensionValuesWithInventory}))),s=this._renderMatrixRowsDesktop(a,i,[],0).rows,l=o.ArrayExtensions.reverse(this.state.dimensionsOrder);return u.createElement("div",{className:e,key:JSON.stringify(this.state.dimensionsOrder)},this._renderMatrixDimensionsHeader(e+"__dimensions-header",l),u.createElement("div",{className:e+"__content"},u.createElement("div",{className:a},l.map((function(e,a){var i;return a===l.length-1?null===(i=e.dimensionValuesWithInventory)||void 0===i?void 0:i.map((function(e){return n._renderMatrixDimensionCell(r,e)})):t._renderMatrixEmptyCell(r)}))),s.map((function(e){return u.createElement("div",{className:a,key:"cells"},e)}))))},t.prototype._renderMatrixMobile=function(e){var t=o.ArrayExtensions.flatten(this.state.dimensionsOrder.map((function(e){return e.dimensionValuesWithInventory}))),n=e+"__single-dimension",a=e+"__cell",r=a+"__dimension-container";return u.createElement("div",{className:c()(e,1===this.state.dimensionsOrder.length?n:""),key:JSON.stringify(this.state.dimensionsOrder)+"-"+this.state.lastChangeAllDate},this._renderMatrixRowsMobile(r,t,[],0).rows)},t.prototype._renderMatrix=function(e){var t="xs"===(0,s.isMobile)({variant:s.VariantType.Viewport,context:this.props.context.request});return t?this._renderMatrixMobile(e+"__mobile"):this._renderMatrixDesktop(e)},t.prototype._generateNodesByNewDimensions=function(e,n){return t._retrieveNodes(e,this.props).map((function(e){var t=n.find((function(t){return o.ArrayExtensions.haveSameItems(e.dimensionIds,t.dimensionIds)}));return e.quantity=t.quantity,e.isAvailable=t.isAvailable,e}))},t.prototype._renderMatrixDimensionsHeader=function(e,t){var n=this,a=e+"__cell",r=t.map((function(e){return e.DimensionTypeValue}));return u.createElement("div",{className:e},r.map((function(e){return u.createElement(C,{key:e,className:a,resources:n.props.resources,dimensionTypes:r,currentDimensionType:e,onDimensionTypeChange:n._handleDimensionTypeChange})})))},t.prototype._renderMatrixMainDimensionMobile=function(e,t,n){var a=_(t),r=this.state.dimensionsExpandState.getValueWithDefaultValue(a,!1),i=e+"__expand-button",o=e+"__collapse",l=o+"__item";return u.createElement("div",{className:e,key:a+"-"+(r?"expanded":"collapsed")+"-"+this.state.lastChangeAllDate},u.createElement(s.Button,{className:i,onClick:this._handleCollapseDimension(a),"aria-expanded":r},this._renderMatrixDimensionCell(i+"__dimension",t)),u.createElement(s.Collapse,{className:o,isOpen:r},u.createElement("div",{className:l},n)))},t.prototype._renderMatrixRowsMobile=function(e,t,n,a){var r={rows:[],newNodeIndex:a};if(a>=this.state.nodes.length)return r;var i=this.state.nodes[r.newNodeIndex],o=i.dimensionIds.length,s=n.length,l=i.dimensionIds[s],c=t.find((function(e){return _(e)===l})),d=e+"__cell";if(o===s+1){if(r.rows.push([]),1===i.dimensionIds.length){for(var p=function(){var e=m.state.nodes[r.newNodeIndex].dimensionIds[s],n=t.find((function(t){return _(t)===e}));r.rows[0].push(u.createElement("div",{className:d},m._renderMatrixDimensionCell(d+"__dimension-label",n),m._renderMatrixCell(d+"__content",r.newNodeIndex++)))},m=this;r.newNodeIndex<this.state.nodes.length;)p();return r}if(r.rows[0].push(u.createElement("div",{className:d},this._renderMatrixDimensionCell(d+"__dimension-label",c),this._renderMatrixCell(d+"__content",r.newNodeIndex++))),s>0)for(var h=n[s-1],g=function(){var e=f.state.nodes[r.newNodeIndex].dimensionIds[s],n=t.find((function(t){return _(t)===e}));r.rows[0].push(u.createElement("div",{className:d},f._renderMatrixDimensionCell(d+"__dimension-label",n),f._renderMatrixCell(d+"__content",r.newNodeIndex++)))},f=this;r.newNodeIndex<this.state.nodes.length&&h===this.state.nodes[r.newNodeIndex].dimensionIds[s-1];)g();return r}var C=this._renderMatrixRowsMobile(e,t,n.concat(l),r.newNodeIndex);if(r.newNodeIndex=C.newNodeIndex,0===s?r.rows.push([this._renderMatrixMainDimensionMobile(e+"__main-dimension",c,u.createElement(u.Fragment,null,C.rows))]):r.rows.push([u.createElement("div",{className:e+"__container",key:l},this._renderMatrixDimensionCell(e+"__container__dimension",c),u.createElement("div",{className:e+"__container__items"},C.rows))]),s>0)for(h=n[s-1];r.newNodeIndex<this.state.nodes.length&&h===this.state.nodes[r.newNodeIndex].dimensionIds[s-1];){var y=this._renderMatrixRowsMobile(e,t,n,r.newNodeIndex);r.rows=r.rows.concat(y.rows),r.newNodeIndex=y.newNodeIndex}else for(;r.newNodeIndex<this.state.nodes.length;){y=this._renderMatrixRowsMobile(e,t,n,r.newNodeIndex);r.rows=r.rows.concat(y.rows),r.newNodeIndex=y.newNodeIndex}return r},t.prototype._renderMatrixRowsDesktop=function(e,n,a,r){var i=this,o={rows:[],newNodeIndex:r};if(r>=this.state.nodes.length)return o;var s=this.state.nodes[o.newNodeIndex],l=s.dimensionIds.length,c=a.length,u=s.dimensionIds[c],d=n.find((function(e){return _(e)===u})),p=e+"__cell";if(l===c+1){if(o.rows.push([]),1===s.dimensionIds.length){for(;o.newNodeIndex<this.state.nodes.length;)o.rows[0].push(this._renderMatrixCell(p,o.newNodeIndex++));return o}if(o.rows[0].push(this._renderMatrixCell(p,o.newNodeIndex++)),c>0)for(var m=a[c-1];o.newNodeIndex<this.state.nodes.length&&m===this.state.nodes[o.newNodeIndex].dimensionIds[c-1];)o.rows[0].push(this._renderMatrixCell(p,o.newNodeIndex++));return o}var h=this._renderMatrixRowsDesktop(e,n,a.concat(u),o.newNodeIndex);if(o.rows=o.rows.concat(h.rows.map((function(e,n){return 0===n?[i._renderMatrixDimensionCell(p,d)].concat(e):[t._renderMatrixEmptyCell(p)].concat(e)}))),o.newNodeIndex=h.newNodeIndex,c>0)for(m=a[c-1];o.newNodeIndex<this.state.nodes.length&&m===this.state.nodes[o.newNodeIndex].dimensionIds[c-1];){var g=this._renderMatrixRowsDesktop(e,n,a,o.newNodeIndex);o.rows=o.rows.concat(g.rows),o.newNodeIndex=g.newNodeIndex}else for(;o.newNodeIndex<this.state.nodes.length;){g=this._renderMatrixRowsDesktop(e,n,a,o.newNodeIndex);o.rows=o.rows.concat(g.rows),o.newNodeIndex=g.newNodeIndex}return o},t.prototype._renderMatrixDimensionCell=function(e,t){var n,a,r,i,o=_(t);return u.createElement("div",{className:e,key:o},u.createElement(h,{className:e+"__dimension-item",apiSettings:this.props.context.request.apiSettings,item:{itemId:o,value:null!==(a=null===(n=t.DimensionValue)||void 0===n?void 0:n.Value)&&void 0!==a?a:"",colorHexCode:null===(r=t.DimensionValue)||void 0===r?void 0:r.ColorHexCode,imageUrl:null===(i=t.DimensionValue)||void 0===i?void 0:i.ImageUrl}}))},t.prototype._renderMatrixCell=function(e,t){var n=this.state.nodes[t];return u.createElement("div",{key:JSON.stringify(n.dimensionIds)+"-"+this.state.lastChangeAllDate,className:c()(e,n.isAvailable?e+"__available":e+"__unavailable")},n.isAvailable?this._renderMatrixQuantityCell(n):this._renderMatrixOutOfStockCell(e+"__out-of-stock"))},t.prototype._renderMatrixOutOfStockCell=function(e){return u.createElement("div",{className:e,key:"out-of-stock"},this.props.resources.productDimensionsMatrixOutOfStockLabel)},t.prototype._renderMatrixQuantityCell=function(e){var n=this.props.context.app.config.maxQuantityForCartLineItem;return u.createElement(s.Quantity,{key:JSON.stringify(e.dimensionIds)+"-"+this.state.lastChangeAllDate,currentCount:e.quantity,onChange:this._handleQuantityChange(e),inputQuantityAriaLabel:this.props.resources.productDimensionsMatrixInputQuantityAriaLabel,min:t._defaultQuantityProps.minQuantity,max:n||t._defaultQuantityProps.maxQuantity})},t.prototype._renderTotalSummary=function(e){return u.createElement("div",{className:e},u.createElement("div",{className:e+"__total-quantity"},this.state.totalQuantity),u.createElement("div",{className:e+"__total-quantity-label"},this.props.resources.productDimensionsMatrixTotalItemsLabel))},t.prototype._retrieveProducts=function(){return this.state.nodes.filter((function(e){return e.productId&&0!==e.quantity})).map((function(e){return{productId:e.productId,quantity:e.quantity}}))},t.prototype._renderAddToOrderTemplate=function(e){return o.ObjectExtensions.isNullOrUndefined(this.props.data.orderTemplates)?null:u.createElement(m.g9,{className:e,context:this.props.context,data:{orderTemplates:this.props.data.orderTemplates,products:this._retrieveProducts().map((function(e){return{ProductId:e.productId,Quantity:e.quantity,UnitOfMeasure:""}})),customerInformation:this.props.data.customerInformation},resources:this.props.resources,isDisabled:0===this.state.totalQuantity,isMultipleCatalogFeatureEnabledInHq:this.props.isMultipleCatalogFeatureEnabledInHq,catalogId:this.props.catalogId})},t.prototype._renderAddToCart=function(e){var t=this;return u.createElement(p.NM,{key:""+JSON.stringify(this.state.nodes),addToCartText:this.props.resources.productDimensionsMatrixAddItemsToCartButtonText,addToCartArialLabel:this.props.resources.productDimensionsMatrixAddItemsToCartButtonText,id:"",typeName:"",className:e,navigationUrl:(0,r.iz)("cart",this.props.context.actionContext),context:this.props.context,dialogStrings:this.props.resources,shouldSkipSiteSettings:!0,data:void 0,products:this._retrieveProducts(),disabled:0===this.state.totalQuantity,onError:function(e){var n,a;(null===(a=null===(n=e.cartActionResult)||void 0===n?void 0:n.errorDetails)||void 0===a?void 0:a.LocalizedMessage)&&t.props.onErrorMessage(e.cartActionResult.errorDetails.LocalizedMessage)}})},t.prototype._renderFooter=function(e){return u.createElement("div",{className:e},this._renderTotalSummary(e+"__total-summary"),this._renderFooterActions(e+"__actions"))},t.prototype._renderFooterActions=function(e){return u.createElement("div",{className:e},this._renderAddToOrderTemplate(e+"__add-to-order-template"),this._renderAddToCart(e+"__add-to-cart"))},t._className="msc-product-dimensions-matrix",t._defaultQuantityProps={defaultQuantity:0,minQuantity:0,maxQuantity:1e7},t}(u.PureComponent)},1175:(e,t,n)=>{"use strict";n.d(t,{nh:()=>J,T7:()=>r,Ti:()=>j,Ss:()=>a,ed:()=>o,gU:()=>s});var a,r,i=n(10);function o(e,t){var n,r,o,l,c=[],u=!1;try{for(var d=(0,i.Ju)(t),p=d.next();!p.done;p=d.next()){var m=p.value;if(s(e.refinerItemData,m)){if(u=!0,e.isSelecting){var h=(0,i.Cl)((0,i.Cl)({},m),{minValue:void 0!==e.rangeStart?""+e.rangeStart:m.minValue,maxValue:void 0!==e.rangeEnd?""+e.rangeEnd:m.maxValue});c.push(h)}}else c.push(m)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(!u){h=(0,i.Cl)({},e.refinerItemData);if(c.push(h),e.refinerOptionsData.typeValue===a.SingleSelect){var g=function(e){if(e.refinerItemId!==h.refinerItemId||e.label!==h.label){var t=c.findIndex((function(t){return s(e,t)}));t>-1&&c.splice(t,1)}};try{for(var f=(0,i.Ju)(e.refinerOptionsData.refinerItems),C=f.next();!C.done;C=f.next()){var y=C.value;g(y)}}catch(e){o={error:e}}finally{try{C&&!C.done&&(l=f.return)&&l.call(f)}finally{if(o)throw o.error}}}}return c}function s(e,t){return t.refinerItemId===e.refinerItemId&&t.label===e.label&&e.sourceTypeValue===t.sourceTypeValue}!function(e){e[e.SingleSelect=0]="SingleSelect",e[e.MultiSelect=1]="MultiSelect"}(a||(a={})),function(e){e[e.Check=0]="Check",e[e.DateRange=1]="DateRange"}(r||(r={}));var l=n(2),c=n(1),u=n(0),d=n.n(u),p=n(8),m=n.n(p),h=function(e){var t=e.className,n=e.text,a=e.ariaLabel,r=e.isDisabled,o=e.telemetryContent,s=e.onClick,l=(0,c.getTelemetryAttributes)(e.telemetryContent,(0,c.getPayloadObject)("click",o,c.TelemetryConstant.ApplyRefiner));return u.createElement(c.Button,(0,i.Cl)({className:m()(t,"msc-refiner-apply"),disabled:r,"aria-label":null!=a?a:n,"aria-disabled":r,onClick:s},l),n)},g=l.msdyn365Commerce.createComponent("Refiner-Apply",{component:u.memo(h)}),f=(n(15),n(19),n(6)),C="msc-refiner-choice-summary",y=function(e){var t=e.className,n=e.clearAllText,a=e.label,o=e.choiceAriaLabel,s=e.choiceFormat,l=e.closeAriaLabel,d=e.data.selectedChoices,p=e.onClickChoice,h=e.onClickClearAll,g=u.useCallback((function(e){return function(t){t.preventDefault(),t.stopPropagation();var n=t.currentTarget;p({selectedRefinerItem:e,shouldClearAll:!1,nextItemToFocus:n.nextSibling})}}),[p]),y=u.useCallback((function(){return function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget;h({selectedRefinerItem:void 0,shouldClearAll:!0,nextItemToFocus:t.nextSibling})}}),[h]),v=(0,c.getPayloadObject)("click",e.telemetryContent,"");v.contentAction.etext=n;var _=(0,c.getTelemetryAttributes)(e.telemetryContent,v);return u.createElement("div",{className:C},f.ArrayExtensions.hasElements(d)&&a&&u.createElement("span",{className:"msc-refiner-choice-summary__label"},a),u.createElement("ul",{className:m()(t,"msc-refiner-choice-summary__list","list-unstyled")},f.ArrayExtensions.hasElements(d)&&d.map((function(t,n){var a=function(e){var t,n,a,i=null!=s?s:"{0}",o=e.label,l=null!==(t=e.value)&&void 0!==t?t:"";if(e.itemType===r.DateRange){var c=null!==(n=e.minValue)&&void 0!==n?n:"",u=null!==(a=e.maxValue)&&void 0!==a?a:"";l="{0} - {1}".replace("{0}",c).replace("{1}",u)}return i.replace("{0}",o).replace("{1}",l)}(t);v.contentAction.etext=a;var d=(0,c.getTelemetryAttributes)(e.telemetryContent,v);return u.createElement("li",{className:"msc-refiner-choice-summary__list-item",key:n},u.createElement("a",(0,i.Cl)({key:t.refinerItemId,className:"msc-refiner-choice-summary__item",role:"button","aria-label":a+" "+(null!=o?o:""),onClick:g(t)},d),a,u.createElement("span",{className:m()("msc-refiner-choice-summary__close-btn","msc-refiner-choice-summary__glyph"),role:"button","aria-label":l})))}))),f.ArrayExtensions.hasElements(d)&&n&&u.createElement("a",(0,i.Cl)({className:"msc-refiner-choice-summary__clear-all","aria-label":l,onClick:y()},_),n))},v=l.msdyn365Commerce.createComponent("Refiner-Choice-Summary",{component:u.memo(y)}),_="msc-refiner-footer",b=function(e){var t=e.className,n=e.refinerApplyProps,a=e.extraActions;return u.createElement("div",{className:m()(t,_)},u.createElement("div",{className:"msc-refiner-footer__actions"},a&&u.createElement("div",{className:"msc-refiner-footer__extra-actions"},a),n&&u.createElement(g,(0,i.Cl)({},n))))},T=l.msdyn365Commerce.createComponent("Refiner-Footer",{component:u.memo(b)}),E=function(e){var t=e.className,n=e.text,a=e.ariaLabel,r=e.isDisabled,i=e.isExpanded,o=e.onClick;return u.createElement(c.Button,{className:m()(t,i?"msc-refiner-toggle__toggle_expanded":"msc-refiner-toggle__toggle_collapsed"),disabled:r,"aria-label":null!=a?a:n,"aria-expanded":!!i,"aria-disabled":r,onClick:o},n)},x=l.msdyn365Commerce.createComponent("Refiner-Toggle",{component:u.memo(E)}),S="msc-refiner-sort",N="msc-refiner-sort__select",P=function(e){var t,n,a,r=(0,i.zs)(d().useState(e.currentSortOption),2),o=r[0],s=r[1];return d().createElement("div",{className:m()(e.className,S)},f.ArrayExtensions.hasElements(e.data.options)&&d().createElement("label",{id:"msc-refiner-sort__label",htmlFor:N,className:"msc-refiner-sort__label"},e.label,d().createElement("select",{id:N,ref:undefined,className:"msc-refiner-sort__sort-options",value:null==o?void 0:o.value,title:null!==(t=e.ariaLabel)&&void 0!==t?t:"",disabled:e.isDisabled,"aria-label":null!==(n=e.ariaLabel)&&void 0!==n?n:"","aria-disabled":e.isDisabled,onChange:function(t){var n,a,r=t.target.value,i=null===(n=e.data.options)||void 0===n?void 0:n.find((function(e){return e.value===r}));s(i),null===(a=e.onSelectOption)||void 0===a||a.call(e,i)}},null===(a=e.data.options)||void 0===a?void 0:a.map((function(e){return d().createElement("option",{key:e.value,value:e.value,"aria-label":e.label,"aria-selected":e.value===(null==o?void 0:o.value),className:m()("msc-refiner-sort__sort-option",e.value===(null==o?void 0:o.value)?"msc-refiner-sort__sort-option-selected":"")},e.label)})))))},w=l.msdyn365Commerce.createComponent("Refiner-Sort",{component:d().memo(P)}),M="msc-refiner-header",A=function(e){var t=e.className,n=e.extraActions;return u.createElement(c.Node,{className:m()(t,M)},e.refinerToggleProps&&u.createElement(x,(0,i.Cl)({},e.refinerToggleProps)),e.refinerChoiceSummaryProps&&u.createElement("div",{className:"msc-refiner-header__wrapper-choice-summary"},u.createElement(v,(0,i.Cl)({},e.refinerChoiceSummaryProps))),u.createElement("div",{className:"msc-refiner-header__wrapper-more-actions"},e.refinerSortProps&&u.createElement(w,(0,i.Cl)({},e.refinerSortProps)),n&&u.createElement("div",{className:"msc-refiner-header__wrapper-extra-actions"},n)))},L=l.msdyn365Commerce.createComponent("Refiner-Header",{component:u.memo(A)}),D="msc-refiner-item-check",I=function(e){var t=e.className,n=e.isDisabled,a=e.label,r=e.ariaLabel,o=e.isSingleSelect,s=e.isChecked,l=e.onClick,u=e.telemetryContent,p=o?"single-select":"multi-select";p=s?p+"-checked":p;var h=(0,c.getPayloadObject)("click",u,"");h.contentAction.etext=a;var g=(0,c.getTelemetryAttributes)(u,h);return d().createElement("a",(0,i.Cl)({tabIndex:0,className:m()(t,D,p,n?"disabled":""),role:o?"radio":"checkbox","aria-label":null!=r?r:a,"aria-checked":s,"aria-disabled":n,onClick:function(t){t.preventDefault(),t.stopPropagation(),!e.isDisabled&&l()}},g),d().createElement("span",{className:"msc-refiner-item-check__label","aria-hidden":"true"},a))},k=l.msdyn365Commerce.createComponent("Refiner-Item-Check",{component:d().memo(I)}),O="msc-refiner-item-daterange",R="msc-refiner-item-daterange__input-min",F="msc-refiner-item-daterange__input-max",V=function(e){var t=e.className,n=e.minInputLabel,a=e.maxInputLabel,r=e.minInputAriaLabel,o=e.maxInputAriaLabel,s=e.isDisabled,l=e.minRangeValue,c=e.maxRangeValue,u=e.validationErrorForRange,p=e.fallbackPattern,h=e.onChangeMinValue,g=e.onChangeMaxValue,f=e.onBlurMinInput,C=e.onBlurMaxInput,y=(0,i.zs)(d().useState(l),2),v=y[0],_=y[1],b=(0,i.zs)(d().useState(c),2),T=b[0],E=b[1],x=(0,i.zs)(d().useState(""),2),S=x[0],N=x[1];function P(e,t){return u&&e&&t&&e>t?(N(u),!1):(N(""),!0)}return d().createElement("form",{className:m()(t,O),"aria-disabled":s,"data-testid":"range-refine-input-item-container"},d().createElement("label",{id:"msc-refiner-item-daterange__label-min",htmlFor:R,className:"msc-refiner-item-daterange__label-min"},n,d().createElement("input",{className:"msc-refiner-item-daterange__input-min",type:"date",onChange:function(e){var t=e.target.value;_(t),null==h||h(t)},onBlur:function(e){var t=e.target.value;_(t);var n=t;P(n,T)&&(null==f||f(n))},value:v,id:R,ref:undefined,"aria-label":null!=r?r:n,"aria-disabled":s,pattern:p})),d().createElement("label",{id:"msc-refiner-item-daterange__label-max",htmlFor:F,className:"msc-refiner-item-daterange__label-max"},a,d().createElement("input",{className:"msc-refiner-item-daterange__input-max",type:"date",onChange:function(e){var t=e.target.value;E(t),null==g||g(t)},onBlur:function(e){var t=e.target.value;E(t);var n=t;P(v,n)&&(null==C||C(n))},value:T,id:F,ref:undefined,"aria-label":null!=o?o:a,"aria-disabled":s,pattern:p})),S&&""!==S&&d().createElement("span",{className:"msc-refiner-item-daterange__error"},S))},H=l.msdyn365Commerce.createComponent("Refiner-Item-DateRange",{component:d().memo(V)}),B="msc-refiner-modal",z=function(e){var t=e.text,n=e.onClick,a=e.ariaLabel,r=e.innerRef,i=e.id;return d().createElement("button",{id:i,className:"msc-refiner-modal-toggle","aria-label":a,onClick:n,ref:r},t)},U=function(e){return d().createElement(d().Fragment,null,d().cloneElement(function(e){return d().createElement(c.Modal,{autoFocus:!0,applicationNode:"renderPage",returnFocusRef:e.returnRef,isOpen:e.isOpen,toggle:e.onToggle,className:B,zIndex:1050})}(e),{},function(e){return d().createElement(c.ModalHeader,{toggle:e.onToggle},e.modalTitle)}(e),d().createElement(c.ModalBody,{className:"msc-refiner-modal__content"},d().createElement("div",{className:"msc-refiner-modal__wrapper"},d().createElement("div",{className:"msc-refiner-modal__wrapper-internal"},e.refinerSortProps&&d().createElement(w,(0,i.Cl)({},e.refinerSortProps)),e.refinerOptions&&e.refinerOptions.map((function(e,t){return d().createElement(d().Fragment,{key:t},e)}))))),function(e){return d().createElement(c.ModalFooter,null,d().createElement(c.Button,{onClick:e.onToggle,className:"msc-refiner-modal__close"},e.modalCloseButtonText))}(e)))},q=l.msdyn365Commerce.createComponent("Refiner-Modal-Toggle",{component:d().memo(z)}),W=l.msdyn365Commerce.createComponent("Refiner-Modal",{component:d().memo(U)}),K="msc-refiner-options",Q="msc-refiner-options__list-item",$=function(e){var t,n,o,l=e.className,u=e.context,p=e.id,h=e.typeName,g=e.data,f=e.isDisabled,C=e.isExpandedOnInitialLoad,y=e.expandTimeout,v=e.telemetryContent,_=e.onUpdateRefiners,b=(0,i.zs)(d().useState(C),2),T=b[0],E=b[1],x=(0,i.zs)(d().useState(!1),2),S=x[0],N=x[1],P=d().useCallback((function(){N(!S)}),[S]),w=d().useCallback((function(){E(!T)}),[T]),M=d().useCallback((function(e){return function(){_({refinerOptionsData:g,refinerItemData:e,isSelecting:!e.isChecked})}}),[_,g]),A=d().useCallback((function(e){return function(t){_({refinerOptionsData:g,refinerItemData:e,isSelecting:!0,rangeStart:t})}}),[_,g]),L=d().useCallback((function(e){return function(t){_({refinerOptionsData:g,refinerItemData:e,isSelecting:!0,rangeEnd:t})}}),[_,g]);return d().createElement("div",{className:m()(l,K,"list-group",null!==(t=g.name)&&void 0!==t?t:""),key:g.name},d().createElement(c.Button,{className:T?"msc-refiner-options__toggle_expanded":"msc-refiner-options__toggle_collapsed","aria-label":g.name,"aria-expanded":T,onClick:w},g.name),d().createElement(c.Collapse,{isOpen:T,onEntering:P,timeout:null!=y?y:350},d().createElement("ul",{className:m()("msc-refiner-options__list",null!==(n=g.name)&&void 0!==n?n:""),"aria-label":g.name},(o=g.refinerItems,o.map((function(e,t){var n,o,l,c,m,C,y=g.typeValue===a.SingleSelect,_=g.selectedRefinerItems.find((function(t){return s(e,t)}));e.isChecked=!!_,e.minValue=null==_?void 0:_.minValue,e.maxValue=null==_?void 0:_.maxValue;var b={context:u,id:p,typeName:h,data:e,label:null!==(n=e.label)&&void 0!==n?n:"",ariaLabel:null!==(o=e.label)&&void 0!==o?o:"",isChecked:e.isChecked,isSingleSelect:y,isDisabled:f,telemetryContent:v,onClick:M(e)};if(e.itemType===r.DateRange){var T={context:u,id:p,typeName:h,data:e,minInputLabel:null!==(l=e.minLabel)&&void 0!==l?l:"",maxInputLabel:null!==(c=e.maxLabel)&&void 0!==c?c:"",minInputAriaLabel:null!==(m=e.minLabel)&&void 0!==m?m:"",maxInputAriaLabel:null!==(C=e.maxLabel)&&void 0!==C?C:"",minRangeValue:e.minValue,maxRangeValue:e.maxValue,isDisabled:f,onBlurMinInput:A(e),onBlurMaxInput:L(e)};return d().createElement("li",{className:Q,id:e.label+"_"+t,key:e.refinerItemId},d().createElement(k,(0,i.Cl)({},b)),e.isChecked&&d().createElement(H,(0,i.Cl)({},T)))}return d().createElement("li",{className:Q,id:e.label+"_"+t,key:e.refinerItemId},d().createElement(k,(0,i.Cl)({},b)))}))))))},j=l.msdyn365Commerce.createComponent("Refiner-Options",{component:d().memo($)}),G="msc-refiner",Y="msc-refiner__wrapper-refiner-modal-toggle";var X=function(e){var t=e.isMobileView&&e.refinerModalProps;return u.createElement(c.Node,{className:m()(e.className,G)},t&&function(e){var t,n,a=null===(t=e.refinerHeaderProps)||void 0===t?void 0:t.refinerChoiceSummaryProps;return u.createElement(u.Fragment,null,a&&u.createElement(v,(0,i.Cl)({},a)),e.refinerModalToggleProps&&u.createElement("div",{className:Y},u.createElement(q,(0,i.Cl)({},e.refinerModalToggleProps)),u.createElement("div",{className:"msc-refiner__wrapper-refiner-modal-toggle__wrapper-more-actions"},(null===(n=e.refinerHeaderProps)||void 0===n?void 0:n.extraActions)&&u.createElement("div",{className:"msc-refiner__wrapper-refiner-modal-toggle__wrapper-extra-actions"},e.refinerHeaderProps.extraActions))),e.refinerModalProps&&u.createElement(W,(0,i.Cl)({},e.refinerModalProps)))}(e),!t&&function(e){var t=e.refinerOptions,n=e.isExpanded;return u.createElement(u.Fragment,null,e.refinerHeaderProps&&u.createElement(L,(0,i.Cl)({},e.refinerHeaderProps)),t&&f.ArrayExtensions.hasElements(t)&&n&&u.createElement(c.Node,{className:"msc-refiner__wrapper"},u.createElement(c.Node,{className:"msc-refiner__wrapper-internal"},t.map((function(e,t){return u.createElement(u.Fragment,{key:t},e)}))),e.refinerFooterProps&&t&&f.ArrayExtensions.hasElements(t)&&n&&u.createElement(T,(0,i.Cl)({},e.refinerFooterProps))))}(e))},J=l.msdyn365Commerce.createComponent("Refiner",{component:u.memo(X)})},1176:(e,t,n)=>{"use strict";n.d(t,{L:()=>p});var a=n(10),r=n(2),i=n(1),o=n(6),s=n(0),l=n.n(s),c=n(8),u=n.n(c),d="msc-search-bar",p=r.msdyn365Commerce.createComponent("SearchBarComponent",{component:function(e){var t,n,r,s,c,p,m,h,g,f,C,y,v,_=(0,a.zs)(l().useState(e.currentSearchOption),2),b=_[0],T=_[1],E=(0,a.zs)(l().useState(e.currentSearchText),2),x=E[0],S=E[1],N=(0,i.getTelemetryAttributes)(e.telemetryContent,(0,i.getPayloadObject)("click",e.telemetryContent,i.TelemetryConstant.Search));return l().createElement("div",{className:u()(e.className,d)},o.ArrayExtensions.hasElements(e.data.options)&&l().createElement("select",{className:"msc-search-bar__search-options",title:null===(t=e.resources)||void 0===t?void 0:t.searchOptionsAriaLabel,"aria-label":null===(n=e.resources)||void 0===n?void 0:n.searchOptionsAriaLabel,onChange:function(t){var n,a,r=t.currentTarget.value,i=null===(n=e.data.options)||void 0===n?void 0:n.find((function(e){return e.value===r}));T(i),e.clearSearchTextOnOptionChange&&S(""),null===(a=e.onSelectOption)||void 0===a||a.call(e,i)}},null===(r=e.data.options)||void 0===r?void 0:r.map((function(e){return l().createElement("option",{key:e.value,value:e.value,"aria-label":e.label,"aria-selected":e.value===(null==b?void 0:b.value),className:u()("msc-search-bar__search-option",e.value===(null==b?void 0:b.value)?"msc-search-bar__search-option-selected":"")},e.label)}))),l().createElement("input",{type:"text",className:u()("msc-search-bar__search-text",o.ArrayExtensions.hasElements(e.data.options)?"":"full-width"),placeholder:null===(s=e.resources)||void 0===s?void 0:s.searchBarPlaceholder,title:null===(c=e.resources)||void 0===c?void 0:c.searchBarAriaLabel,"aria-label":null===(p=e.resources)||void 0===p?void 0:p.searchBarAriaLabel,value:x,onChange:function(t){var n,a=t.currentTarget.value;S(a),null===(n=e.onChange)||void 0===n||n.call(e,b,a)},onBlur:function(t){var n,a=t.currentTarget.value;S(a),null===(n=e.onBlur)||void 0===n||n.call(e,b,a)}}),l().createElement(i.Button,(0,a.Cl)({className:"msc-search-bar__search-button","aria-label":null!==(h=null===(m=e.resources)||void 0===m?void 0:m.searchButtonAriaLabel)&&void 0!==h?h:null===(g=e.resources)||void 0===g?void 0:g.searchButtonLabel,title:null!==(C=null===(f=e.resources)||void 0===f?void 0:f.searchButtonAriaLabel)&&void 0!==C?C:null===(y=e.resources)||void 0===y?void 0:y.searchButtonLabel,onClick:function(){var t;null===(t=e.onClick)||void 0===t||t.call(e,b,x)}},N),null===(v=e.resources)||void 0===v?void 0:v.searchButtonLabel))}})},1177:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>m,aE:()=>a,Or:()=>h,zH:()=>d,eM:()=>p});var a,r=n(2),i=n(0),o=n.n(i),s=n(8),l=n.n(s),c=n(6),u="msc-table";!function(e){e.Text="text",e.Number="number",e.Amount="amount",e.Date="date"}(a||(a={}));var d=r.msdyn365Commerce.createComponent("TableHeaderComponent",{component:function(e){var t,n,a=null===(t=e.isVisible)||void 0===t||t;if(!a)return o().createElement(o().Fragment,null);var r=null!==(n=e.children)&&void 0!==n?n:[];return r=Array.isArray(r)?r:[r],o().createElement("thead",{className:l()(e.className,"msc-table__header")},o().createElement("tr",{className:"msc-table__header-row"},c.ArrayExtensions.hasElements(r)&&r.map((function(e,t){var n,a=null===(n=e.props.isVisible)||void 0===n||n;return a&&o().createElement("th",{key:t,className:l()(e.props.className,"msc-table__header-cell",e.props.contentType)},e.props.children)}))))}}),p=r.msdyn365Commerce.createComponent("TableRowComponent",{component:function(e){var t,n,a=null===(t=e.isVisible)||void 0===t||t;if(!a)return o().createElement(o().Fragment,null);var r=null!==(n=e.children)&&void 0!==n?n:[];return r=Array.isArray(r)?r:[r],o().createElement("tr",{className:l()(e.className,"msc-table__row")},c.ArrayExtensions.hasElements(r)&&r.map((function(e,t){var n,a=null===(n=e.props.isVisible)||void 0===n||n;return a&&o().createElement("td",{key:t,className:l()(e.props.className,"msc-table__row-cell",e.props.contentType)},e.props.children)})))}}),m=r.msdyn365Commerce.createComponent("TableCellComponent",{component:function(e){return o().createElement(o().Fragment,null,e.children)}}),h=r.msdyn365Commerce.createComponent("TableComponent",{component:function(e){return o().createElement("table",{className:l()(e.className,u)},e.children)}})},1178:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var a=n(10),r=n(2),i=n(1),o=n(8),s=n.n(o),l=n(0),c=r.msdyn365Commerce.createComponent("WishListIcon",(0,a.Cl)({component:function(e){var t=l.createRef(),n=e.wishlistTooltipText,o=e.showButtonTooltip,c=(0,r.getUrlSync)("wishlist",e.context.actionContext),u=e.context.request.user.signInUrl+"?ru="+c,d=e.context.request.user.isAuthenticated?c:u,p=void 0===o||o,m=void 0!==e.isDispayWishlistCount&&e.isDispayWishlistCount,h=void 0!==e.wishlistCountLabel?e.wishlistCountLabel:"",g=void 0!==e.wishlistCount?e.wishlistCount:"",f=(0,i.format)(h,g),C=(0,i.getPayloadObject)("click",e.telemetryContent,n,""),y=(0,i.getTelemetryAttributes)(e.telemetryContent,C);return l.createElement(l.Fragment,null,l.createElement(i.Button,(0,a.Cl)({className:s()("msc-wishlist-icon",e.className),href:d,"aria-label":n,innerRef:t},y,{onClick:(0,i.onTelemetryClick)(e.telemetryContent,C,n)}),m&&l.createElement("div",{className:"msc-wishlist-icon__count"},f),l.createElement("span",{className:"msc-wishlist-icon__text"},n)),p&&l.createElement(i.UncontrolledTooltip,{trigger:"hover focus",target:t},n))}},{}))},1305:()=>{},1306:()=>{},1307:()=>{},1308:(e,t,n)=>{"use strict";var a;!function(e){e.hdx="hdx",e.hq="hq",e.sd="sd",e.lo="lo"}(a||(a={}))},1309:()=>{},1310:()=>{},1311:()=>{},1312:()=>{},1313:()=>{},1314:()=>{},1323:()=>{},1324:()=>{},1325:()=>{},1326:(e,t,n)=>{"use strict";n(20),n(37),n(15),n(12),n(18),n(51),n(9),n(22),n(23),n(21);var a=n(10),r=n(2),i=n(6),o=n(1),s=n(0),l=n.n(s),c=n(213),u=n(481),d=n(700);r.msdyn365Commerce.createComponent("ProductV2",(0,a.Cl)({component:function(e){var t,n,p,m,h=e.data,g=e.context,f=e.imageSettings,C=e.savingsText,y=e.freePriceText,v=e.originalPriceText,_=e.currentPriceText,b=e.ratingAriaLabel,T=e.ratingCountAriaLabel,E=e.isAllowBack,x=e.typeName,S=e.id,N=e.telemetryContent,P=e.quickViewButton,w=e.productComparisonButton,M=e.inventoryLabel,A=e.isPriceMinMaxEnabled,L=e.priceResources,D=e.dimensionAvailabilities,I=e.swatchItemAriaLabel,k=h.product;function O(e,t,n){var a=new URL(e,t.request.apiSettings.baseUrl);a.search?a.search+="&"+n:a.search+=n;var r=new URL(a.href);return r.pathname+a.search}function R(e){var t;if(!e||!e.attributeValues)return null;var n=e.attributeValues.find((function(e){var t;return(null===(t=e.keyName)||void 0===t?void 0:t.toLocaleLowerCase())===i.DimensionTypes.color}));if(!i.ArrayExtensions.hasElements(null==n?void 0:n.swatches))return null;var a=null!==(t=n.swatches.find((function(e){return!0===e.isDefault})))&&void 0!==t?t:n.swatches[0];return a}var F=k?(0,i.getProductPageUrlSync)(null!==(t=k.name)&&void 0!==t?t:"",k.recordId,g.actionContext,void 0):"";E&&F&&(F=O(F,g,"back=true"));var V=null!==(n=function(e,t){var n=e,a=n.app.config.dimensionToPreSelectInProductCard;if(a===i.DimensionTypes.none)return null==t?void 0:t.primaryImageUrl;var r=R(t);return r&&i.ArrayExtensions.hasElements(r.productImageUrls)?(0,i.generateImageUrl)(r.productImageUrls[0],e.request.apiSettings):null==t?void 0:t.primaryImageUrl}(g,k))&&void 0!==n?n:null==k?void 0:k.primaryImageUrl,H=null!==(p=function(e,t,n){var a=e,r=a.app.config.dimensionToPreSelectInProductCard;if(r===i.DimensionTypes.none)return t;var o=R(n);if(!o||!o.swatchValue)return t;var s="color="+o.swatchValue;return O(t,e,s)}(g,F,k))&&void 0!==p?p:F,B=(0,a.zs)((0,s.useState)(H),2),z=B[0],U=B[1],q=(0,a.zs)((0,s.useState)(V),2),W=q[0],K=q[1],Q=(0,a.zs)((0,s.useState)(new i.Dictionary),1),$=Q[0],j=g.app.config.enableStockCheck,G=l().useCallback((function(e,t){var n=t.dimensionType;if($.setValue(n,t),!i.StringExtensions.isNullOrWhitespace(t.value)){var a=n+"="+t.value,r="";if(z.includes(n)){var o=new URL(z,e.request.apiSettings.baseUrl);o.searchParams.delete(n),r=O(o.toString(),g,a)}else r=O(z,g,a);if(U(r),n===i.DimensionTypes.color){var s=i.ArrayExtensions.hasElements(t.productImageUrls)?t.productImageUrls[0]:void 0,l=(0,i.generateImageUrl)(s,e.request.apiSettings);K(l)}}}),[$,g,z]);if(!k)return null;var Y,X,J,Z,ee,te,ne,ae,re,ie,oe,se=i.ArrayExtensions.validValues(null===(m=k.attributeValues)||void 0===m?void 0:m.map((function(e){var t,n,a,r,s=null!==(n=null===(t=e.keyName)||void 0===t?void 0:t.toLocaleLowerCase())&&void 0!==n?n:"",l=(0,i.checkIfShouldDisplayAsSwatch)(s,g,i.DimensionSwatchDisplayTypes.productCard);if(!l)return null;var c=g,u=c.app.config.dimensionToPreSelectInProductCard,d=s,p=null!==(r=null===(a=e.swatches)||void 0===a?void 0:a.map((function(t){var n,a,r,i;return{itemId:(null!==(n=e.recordId)&&void 0!==n?n:"")+"-"+s+"-"+(null!==(a=t.swatchValue)&&void 0!==a?a:""),value:null!==(r=t.swatchValue)&&void 0!==r?r:"",dimensionType:d,colorHexCode:t.swatchColorHexCode,imageUrl:t.swatchImageUrl,productImageUrls:t.productImageUrls,isDefault:t.isDefault,swatchItemAriaLabel:I?(0,o.format)(I,d):"",isDisabled:j&&(null===(i=null==D?void 0:D.find((function(e){var n;return e.value===(null!==(n=t.swatchValue)&&void 0!==n?n:"")})))||void 0===i?void 0:i.isDisabled)}})))&&void 0!==r?r:[];return u!==i.DimensionTypes.none&&i.ArrayExtensions.hasElements(p)&&!p.some((function(e){return e.isDefault}))&&d===i.DimensionTypes.color&&(p[0].isDefault=!0),{recordId:e.recordId,swatches:p}}))),le=(0,o.getPayloadObject)("click",N,"",k.recordId.toString()),ce=(0,o.getTelemetryAttributes)(N,le),ue=g.app.config&&"buyboxAndBrowse"===g.app.config.unitOfMeasureDisplayType;function de(e,t){if(e&&t){var n=e.toFixed(2);return(0,o.format)(t||"",n,"5")}return""}function pe(e,t){return e&&t?(0,o.format)(t||"",e):""}return l().createElement(l().Fragment,null,l().createElement("a",(0,a.Cl)({href:z,onClick:(0,o.onTelemetryClick)(N,le,k.name),"aria-label":(Z=k.name,ee=g.cultureFormatter.formatCurrency(k.price),te=k.averageRating,ne=b,ae=k.totalRatings,re=T,ie=M,oe=pe(ae,null!=re?re:""),(null!=Z?Z:"")+" "+(null!=ee?ee:"")+" "+de(te,ne)+(oe?" "+oe:"")+" "+(null!=ie?ie:"")),className:"msc-product"},ce),l().createElement("div",{className:"msc-product__image"},function(e,t,n,i,o,s){if(!n||!t||!e)return null;var c=g.app.config.placeholderImageName,u=i;c&&i&&(u=i+","+c);var d={src:n,altText:o||"",fallBackSrc:u},p={gridSettings:t};return p.gridSettings=t,p.imageSettings=e,p.imageSettings.cropFocalRegion=!0,l().createElement(r.Image,(0,a.Cl)({},d,p,{loadFailureBehavior:"empty",requestContext:s,bypassHideOnFailure:!0}))}(f,g.request.gridSettings,W,k.primaryImageUrl,k.name,g.actionContext.requestContext)),l().createElement("div",{className:"msc-product__title"},k.name)),i.ArrayExtensions.hasElements(se)?l().createElement("div",{className:"msc-product__dimensions"},se.map((function(e){return l().createElement(d.g,{key:e.recordId,context:g,onSelectDimension:G,swatches:e.swatches})}))):null,l().createElement("div",{className:"msc-product__details"},function(e,t,n,a,r,i,o,s,u,d,p){var m={BasePrice:a,AdjustedPrice:r,CustomerContextualPrice:r,MaxVariantPrice:i||r,MinVariantPrice:o||r},h=e.request.channel;return l().createElement(c.F,{context:e,id:n,typeName:t,data:{price:m},savingsText:s,freePriceText:u,originalPriceText:d,currentPriceText:p,isPriceMinMaxEnabled:A,priceResources:L,currencyCode:null==h?void 0:h.Currency})}(g,x,S,k.basePrice,k.price,k.maxVariantPrice,k.minVariantPrice,C,y,v,_),ue&&(J=k.defaultUnitOfMeasure,J?l().createElement("div",{className:"msc-product__unit-of-measure"},l().createElement("span",null,J)):null),(X=k.description,l().createElement("p",{className:"msc-product__text"},X)),!g.app.config.hideRating&&function(e,t,n,a,r,i){var o;if(!a)return null;var s=null!==(o=null==r?void 0:r.toString())&&void 0!==o?o:void 0,c=de(a,i),d=pe(Number(s),T);return l().createElement(u.X,{context:e,id:n,typeName:t,avgRating:a,ratingCount:s,readOnly:!0,ariaLabel:c,ratingCountAriaLabel:d,data:{}})}(g,x,S,k.averageRating,k.totalRatings,b),(Y=M,Y&&""!==Y?l().createElement("div",{className:"msc-product__availability"},l().createElement("span",null,Y)):null)),P&&function(e,t){if(null!==e){var n=$.getValues().map((function(e){return{dimensionTypeValue:(0,i.convertDimensionTypeToProductDimensionType)(e.dimensionType),DimensionValue:{RecordId:0,Value:e.value}}}));return l().cloneElement(e,{selectedProductId:t,selectedDimensions:n})}}(P,k.recordId),w&&function(e,t,n){return(0,i.validateCatalogId)(n),l().cloneElement(e,{product:t,catalogId:n})}(w,k,(0,r.getCatalogId)(g.request)))}},{}))}}]);
//# sourceMappingURL=b5d4a8509bb918ef3440.bundle.js.map