/*! For license information please see ea4c09c07e9bf67ce60b.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkMsdyn365_Commerce_Online=self.webpackChunkMsdyn365_Commerce_Online||[]).push([[93],{0:e=>{e.exports=React},11:e=>{e.exports=ReactDOM},1420:(e,t,n)=>{n(4);var o=n(5);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s={modules:{},dataActions:{}};s.modules["content-block"]={c:()=>n(1421),$type:"contentModule",da:[],iNM:!0,ns:"@msdyn365-commerce-modules",n:"content-block",p:"content-block",pdp:"",md:"node_modules/@msdyn365-commerce-modules/content-block/dist/lib/modules/content-block"},window.__bindings__=window.__bindings__||{},window.__bindings__.modules=i(i({},window.__bindings__.modules||{}),s.modules),window.__bindings__.dataActions=i(i({},window.__bindings__.dataActions||{}),s.dataActions);const r={};r["__local__|__local__|themes|peetsaw|views|content-block"]={c:()=>n(1422),cn:"__local__-__local__-content-block"},r["@msdyn365-commerce-modules|content-block|modules|content-block|content-block"]={c:()=>n(1423),cn:"@msdyn365-commerce-modules-content-block-content-block"},r["@msdyn365-commerce-theme|adventureworks-theme-kit|modules|adventureworks|views|content-block"]={c:()=>n(1424),cn:"@msdyn365-commerce-theme-adventureworks-theme-kit-content-block"},window.__bindings__=window.__bindings__||{},window.__bindings__.viewDictionary=i(i({},window.__bindings__.viewDictionary||{}),r)},1421:(e,t,n)=>{n.r(t),n.d(t,{ContentBlock:()=>b,default:()=>k});var o=n(5),a=(n(3),n(4),n(9),n(2)),i=n(6),s=n(1),r=n(8),l=n.n(r),c=n(0);const d=(e,t,n)=>{var o;const i=e.heading&&((e,t,n)=>{const o=t.requestContext;return c.createElement(a.Text,{text:e,tag:"p",className:"ms-content-block__details__additional-content__text",editProps:{onEdit:e=>{t.handleAdditionalTextChange(n,e)},requestContext:o}})})(e.heading,t,n),s=e.subtext&&((e,t,n)=>{const o=t.requestContext;return c.createElement(a.Text,{text:e,tag:"p",className:"ms-content-block__details__additional-content__paragraph",editProps:{onEdit:e=>{t.handleAdditionalTextChange(n,e)},requestContext:o}})})(e.subtext,t,n),r=null===(o=e.links)||void 0===o?void 0:o.map(((e,o)=>((e,t,n,o)=>{const i={ariaLabel:e.ariaLabel,className:"ms-content-block__details__additional-content-cta-links",linkText:e.linkText,linkUrl:e.linkUrl.destinationUrl,openInNewTab:e.openInNewTab,role:"link"},s=t.requestContext;return c.createElement(a.Link,{key:o,link:i,editProps:{onTextChange:e=>{t.handleAdditionalLinkTextChange(o,n,e)},requestContext:s}})})(e,t,n,o)));return{heading:i,text:s,links:r,additionalContentItemContainer:{className:"ms-content-block__details__additional-content__container"},additionalContentItemLinks:{className:"ms-content-block__details__additional-content-cta"}}},m=e=>{const{additionalContent:t}=e;if(!t)return;const n=[];return t.map(((t,o)=>n.push(d(t,e,o)))),{additionalContentNode:{className:"ms-content-block__details__additional-content"},additionalContentItems:n}};class g extends c.PureComponent{constructor(){super(...arguments),this._mapEditableLinks=e=>{if(!e||0===e.length)return null;const t=[];return e.forEach(((e,n)=>{const o=(0,s.getPayloadObject)("click",this.props.telemetryContent,"",""),a=e.linkText?e.linkText:"";o.contentAction.etext=a;const i=(0,s.getTelemetryAttributes)(this.props.telemetryContent,o),r=0===n?"msc-cta__primary":"msc-cta__secondary",l={ariaLabel:e.ariaLabel,className:r,linkText:e.linkText,linkUrl:e.linkUrl.destinationUrl,openInNewTab:e.openInNewTab,role:this.props.role,additionalProperties:i,onClick:(0,s.onTelemetryClick)(this.props.telemetryContent,o,a)};t.push(l)})),t}}render(){const e=this._mapEditableLinks(this.props.links);return c.createElement("div",{className:"ms-content-block__cta"},e&&e.length>0?c.createElement(a.Links,{links:e,editProps:{onTextChange:this.props.onTextChange,requestContext:this.props.requestContext}}):null)}}const p=g;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class b extends c.PureComponent{constructor(){super(...arguments),this.telemetryContent=(0,s.getTelemetryObject)(this.props.context.request.telemetryPageName,this.props.friendlyName,this.props.telemetry),this.handleTextChange=e=>this.props.config.heading.text=e.target.value,this.handleParagraphChange=e=>this.props.config.paragraph=e.target.value,this.handleLinkTextChange=e=>t=>{this.props.config.links&&this.props.config.links[Number(e)]&&(this.props.config.links[Number(e)].linkText=t.target.value)}}render(){var e,t,n;const{heading:o,paragraph:s,image:r,links:d,className:g,imageAriaLabel:h}=this.props.config,b=o&&c.createElement(a.Text,{className:"ms-content-block__title",tag:null!==(e=o.tag)&&void 0!==e?e:"h1",text:o.text,editProps:{onEdit:this.handleTextChange,requestContext:this.props.context.request}}),k=d&&i.ArrayExtensions.hasElements(d)&&c.createElement(p,Object.assign({},{links:d,onTextChange:this.handleLinkTextChange,requestContext:this.props.context.request,telemetryContent:this.telemetryContent,role:"tile"===this.props.config.msdyn365__moduleLayout?"link":"button"})),_=s&&c.createElement(a.RichTextComponent,{text:s,className:"ms-content-block__text",editProps:{onEdit:this.handleParagraphChange,requestContext:this.props.context.request}});let C;C=r&&r.imageSettings&&!r.imageSettings.backgroundColor&&this.props.config.backgroundColor?u(u({},null==r?void 0:r.imageSettings),{},{backgroundColor:this.props.config.backgroundColor}):null==r?void 0:r.imageSettings;const x={gridSettings:null!==(t=this.props.context.request.gridSettings)&&void 0!==t?t:{},imageSettings:C},N=c.createElement(a.Image,Object.assign({},r,x,{requestContext:this.props.context.request,preserveImageSpace:!0,editProps:{key:null!==(n=this.props.config.image)&&void 0!==n?n:{},requestContext:this.props.context.request,moduleType:this.props.typeName,imagePropertyName:"image",moduleId:this.props.id,layout:this.props.config.msdyn365__moduleLayout},shouldSkipToMainImage:!0})),O=this.props.config.backgroundColor?{backgroundColor:this.props.config.backgroundColor}:void 0;if(!b&&!_&&!k)return this.props.context.telemetry.error("Content block content is empty, module wont render."),null;const y=u(u({},this.props),{},{title:b,text:_,image:N,links:k,moduleClass:this.props.config.className,contentBlockContainer:{moduleProps:this.props,className:l()("ms-content-block",g),style:O},imageContainer:{className:"ms-content-block__image"},detailsContainer:{className:"ms-content-block__details"},contentBlockAnchorTag:{tag:"a",className:"ms-content-block__link",role:"link"},imageLink:this._getImageLink(),imageAriaLabel:h,additionalContent:m({requestContext:this.props.context.request,additionalContent:this.props.config.additionalContent,handleAdditionalTextChange:this.handleAdditionalTextChange,handleAdditionalParagraphChange:this.handleAdditionalParagraphChange,handleAdditionalLinkTextChange:this.handleAdditionalLinkTextChange}),handleAdditionalText:this.handleAdditionalTextChange,handleAdditionalParagraph:this.handleAdditionalParagraphChange,handleAdditionalLinkTextChange:this.handleAdditionalLinkTextChange});return this.props.renderView(y)}handleAdditionalTextChange(e,t){this.props.config.additionalContent&&(this.props.config.additionalContent[Number(e)].heading=t.target.value)}handleAdditionalLinkTextChange(e,t,n){const o=this.props.config.additionalContent&&i.ArrayExtensions.hasElements(this.props.config.additionalContent)&&this.props.config.additionalContent[Number(t)]||{};o.links&&(o.links[Number(e)].linkText=n.target.value)}handleAdditionalParagraphChange(e,t){this.props.config.additionalContent&&(this.props.config.additionalContent[Number(e)].subtext=t.target.value)}_getImageLink(){const{imageLink:e,links:t,actionableRegion:n}=this.props.config;return"imageAndLinks"===n?null!=e&&e.destinationUrl?e.destinationUrl:t&&i.ArrayExtensions.hasElements(t)&&t[0].linkUrl?t[0].linkUrl.destinationUrl:null:null}}const k=b},1422:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});n(3);var o=n(1),a=n(0);const i=e=>{var t;return a.createElement(o.Node,Object.assign({},e.additionalContentNode),null===(t=e.additionalContentItems)||void 0===t?void 0:t.map((e=>a.createElement(a.Fragment,null,e.heading,a.createElement(o.Node,Object.assign({},e.additionalContentItemContainer),e.text,a.createElement(o.Node,Object.assign({},e.additionalContentItemLinks),e.links))))))},s=e=>{const{contentBlockContainer:t,imageContainer:n,detailsContainer:s,title:r,text:l,links:c,image:d,contentBlockAnchorTag:m,imageLink:g,imageAriaLabel:p,additionalContent:h}=e,u=d.props.src,b=u?`${s.className} withImage`:`${s.className} withoutImage`;return g?a.createElement(o.Module,Object.assign({},t),a.createElement(o.Node,Object.assign({},m,{href:g,className:m?m.className:"","aria-label":p}),a.createElement(o.Node,Object.assign({},n),d)),a.createElement(o.Node,Object.assign({},s),r,l,c,h&&i(h))):a.createElement(o.Module,Object.assign({},t),a.createElement(o.Node,Object.assign({},n),d),a.createElement(o.Node,{className:b},r,l,c,h&&i(h)))}},1423:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});n(3);var o=n(1),a=n(0);const i=e=>{var t;return a.createElement(o.Node,Object.assign({},e.additionalContentNode),null===(t=e.additionalContentItems)||void 0===t?void 0:t.map((e=>a.createElement(a.Fragment,null,e.heading,a.createElement(o.Node,Object.assign({},e.additionalContentItemContainer),e.text,a.createElement(o.Node,Object.assign({},e.additionalContentItemLinks),e.links))))))},s=e=>{const{contentBlockContainer:t,imageContainer:n,detailsContainer:s,title:r,text:l,links:c,image:d,contentBlockAnchorTag:m,imageLink:g,imageAriaLabel:p,additionalContent:h}=e;return g?a.createElement(o.Module,Object.assign({},t),a.createElement(o.Node,Object.assign({},m,{href:g,className:m?m.className:"","aria-label":p}),a.createElement(o.Node,Object.assign({},n),d)),a.createElement(o.Node,Object.assign({},s),r,l,c,h&&i(h))):a.createElement(o.Module,Object.assign({},t),a.createElement(o.Node,Object.assign({},n),d),a.createElement(o.Node,Object.assign({},s),r,l,c,h&&i(h)))}},1424:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});n(3);var o=n(1),a=n(0);const i=e=>{var t;return a.createElement(o.Node,Object.assign({},e.additionalContentNode),null===(t=e.additionalContentItems)||void 0===t?void 0:t.map((e=>a.createElement(a.Fragment,null,e.heading,a.createElement(o.Node,Object.assign({},e.additionalContentItemContainer),e.text,a.createElement(o.Node,Object.assign({},e.additionalContentItemLinks),e.links))))))},s=e=>{const{contentBlockContainer:t,imageContainer:n,detailsContainer:s,title:r,text:l,links:c,image:d,contentBlockAnchorTag:m,imageLink:g,imageAriaLabel:p,additionalContent:h}=e,u=d.props.src,b=u?`${s.className} withImage`:`${s.className} withoutImage`;return g?a.createElement(o.Module,Object.assign({},t),a.createElement(o.Node,Object.assign({},m,{href:g,className:m?m.className:"","aria-label":p}),a.createElement(o.Node,Object.assign({},n),d)),a.createElement(o.Node,Object.assign({},s),r,l,c,h&&i(h))):a.createElement(o.Module,Object.assign({},t),a.createElement(o.Node,Object.assign({},n),d),a.createElement(o.Node,{className:b},r,l,c,h&&i(h)))}}},e=>{e.O(0,[0,3,2,4,5,6,7,8,9],(()=>{return t=1420,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=ea4c09c07e9bf67ce60b.bundle.js.map