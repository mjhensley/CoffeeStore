/*! For license information please see 16b3360dc04fc33739d7.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkMsdyn365_Commerce_Online=self.webpackChunkMsdyn365_Commerce_Online||[]).push([[125],{0:e=>{e.exports=React},11:e=>{e.exports=ReactDOM},1467:(e,t,n)=>{var o=n(5);n(4);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const i={modules:{},dataActions:{}},a=(e,t)=>{if(i.dataActions[e]=t,!i.dataActions[e].default)throw new Error("Data action path "+e+" does not have a default export");i.dataActions[e].default.prototype.RegistrationId=e,i.dataActions[e].default.prototype.id&&(i.dataActions[i.dataActions[e].default.prototype.id]=e)};i.modules.header={c:()=>n(1468),$type:"containerModule",da:[{name:"accountInformation",path:"@msdyn365-commerce-modules/retail-actions/dist/lib/get-customer",runOn:0},{name:"cart",path:"@msdyn365-commerce/global-state/dist/lib/data-actions/get-cart-state-data-action",runOn:1},{name:"employee",path:"@msdyn365-commerce-modules/retail-actions/dist/lib/get-employee",runOn:0},{name:"storeSelectorStateManager",path:"@msdyn365-commerce-modules/bopis-utilities/dist/lib/store-selector-state-manager/store-selector-state-manager-data-action",runOn:1},{name:"wishlists",path:"@msdyn365-commerce-modules/retail-actions/dist/lib/get-wishlist-by-customer-id",runOn:0}],iNM:!0,ns:"@msdyn365-commerce-modules",n:"header",p:"header",pdp:"",md:"node_modules/@msdyn365-commerce-modules/header/dist/lib/modules/header"};{const e="@msdyn365-commerce-modules/bopis-utilities/dist/lib/store-selector-state-manager/store-selector-state-manager-data-action";let t=n(77);a(e,t)}{const e="@msdyn365-commerce-modules/retail-actions/dist/lib/get-customer";let t=n(24);a(e,t)}{const e="@msdyn365-commerce-modules/retail-actions/dist/lib/get-employee";let t=n(1469);a(e,t)}{const e="@msdyn365-commerce-modules/retail-actions/dist/lib/get-wishlist-by-customer-id";let t=n(131);a(e,t)}{const e="@msdyn365-commerce/global-state/dist/lib/data-actions/get-cart-state-data-action";let t=n(163);a(e,t)}window.__bindings__=window.__bindings__||{},window.__bindings__.modules=r(r({},window.__bindings__.modules||{}),i.modules),window.__bindings__.dataActions=r(r({},window.__bindings__.dataActions||{}),i.dataActions);const c={};c["__local__|__local__|themes|peetsaw|views|header"]={c:()=>n(1470),cn:"__local__-__local__-header"},c["@msdyn365-commerce-modules|fabrikam-design-kit|modules|fabrikam|views|header"]={c:()=>n(1472),cn:"@msdyn365-commerce-modules-fabrikam-design-kit-header"},c["@msdyn365-commerce-modules|header|modules|header|header"]={c:()=>n(1471),cn:"@msdyn365-commerce-modules-header-header"},c["@msdyn365-commerce-theme|adventureworks-theme-kit|modules|adventureworks|views|header"]={c:()=>n(1473),cn:"@msdyn365-commerce-theme-adventureworks-theme-kit-header"},window.__bindings__=window.__bindings__||{},window.__bindings__.viewDictionary=r(r({},window.__bindings__.viewDictionary||{}),c)},1469:(e,t,n)=>{n.r(t),n.d(t,{GetEmployeeInput:()=>s,createGetEmployeeInput:()=>r,default:()=>c,getEmployeeAction:()=>i,getEmployeeActionDataAction:()=>a});n(7);var o=n(2);class s{constructor(){this.getCacheKey=()=>"Employee",this.getCacheObjectType=()=>"Employee",this.dataCacheType=()=>"request"}}const r=()=>new s;async function i(e,t){if((0,o.isOboRequest)(t.requestContext)){const e=t.requestContext.user;return{StaffId:"",Name:(null==e?void 0:e.firstName)||(null==e?void 0:e.name)}}}const a=(0,o.createObservableDataAction)({id:"@msdyn365-commerce-modules/retail-actions/get-employee",action:i,input:r}),c=a},1470:(e,t,n)=>{n.r(t),n.d(t,{HeaderView:()=>h,default:()=>g});n(3),n(7),n(15),n(51);var o=n(2),s=n(625),r=n(6),i=n(1),a=n(8),c=n.n(a),d=n(0),l=n(14),m=n(67);class u{constructor(e){if(e=e||{},this.SECRETKEY=e.SECRETKEY,this.JWTTOKEN=e.JWTTOKEN,this.SCRIPT=e.SCRIPT,this.RECID=e.RECID,this.ExtensionProperties=void 0,e.ExtensionProperties){this.ExtensionProperties=[];for(var t=0;t<e.ExtensionProperties.length;t++)if(e.ExtensionProperties[t])if(e.ExtensionProperties[t]["@odata.type"]){var n=e.ExtensionProperties[t]["@odata.type"];n=n.substr(n.lastIndexOf(".")+1).concat("Class")}else this.ExtensionProperties[t]=new m.CommercePropertyClass(e.ExtensionProperties[t]);else this.ExtensionProperties[t]=void 0}}}function p(e,t){const n=function(e){const t=e?{RECID:e}:null;return new l.DataServiceQuery("GetZendeskDetails","ZendeskEntity",u,t)}();return n.createDataServiceRequestForOperation("GetZendeskDetailsAction",!0,u,"false",{bypassCache:"none",returnEntity:"DataServiceEntities.IZendeskEntity"},{name:e,email:t})}class h extends d.PureComponent{constructor(e){super(e),this._loadZendeskWidget=async(e,t)=>{try{const n=e;if(!n)return void console.warn("Zendesk JWT not returned");const o=document.createElement("script");o.src=t,o.id="ze-snippet",o.async=!0,o.onload=()=>{window.zE&&(window.zE("webWidget","logout"),window.zE("webWidget","authenticate",{jwt:n}),console.log("Zendesk widget loaded and authenticated."))},document.head.appendChild(o)}catch(e){console.error("Error loading Zendesk widget:",e)}},this._configureStickyHeader=()=>{const e=document.querySelector(".ms-promo-banner"),t=e?e.offsetHeight:0,n=document.querySelector("header .default-container");n&&(o.default.isBrowser&&document.documentElement.scrollTop>0?(n.classList.add("lock-opaque"),n.classList.add("fixed")):(n.classList.remove("lock-opaque"),n.classList.remove("fixed")));const s=document.querySelector(".desktop-navicon-container"),r=document.querySelector(".ms-header__logo");if(s&&r){const e=r.offsetHeight+t;o.default.isBrowser&&document.documentElement.scrollTop>e?s.classList.add("fixed"):s.classList.remove("fixed")}},this._renderAccountBlock=e=>{const{AccountInfoDropdownParentContainer:t,AccountInfoDropdownPopoverConentContainer:n,accountInfoDropdownButton:o,signOutLink:s,signInLink:r,accountLinks:a}=e;if(t){const e=c()(t.className,"account-desktop");if(n)return d.createElement(i.Node,Object.assign({},t,{className:e}),o,d.createElement(i.Node,Object.assign({},n),!!a&&a.map((e=>e)),s));if(r)return d.createElement(i.Node,Object.assign({},t,{className:e}),r)}return null},this._renderReactFragment=e=>d.createElement(d.Fragment,null,r.ArrayExtensions.hasElements(e)?e.map((e=>d.createElement(d.Fragment,null,e))):null),this.menuNode=d.createRef()}_addCookieDeclineButton(){const e=new MutationObserver((()=>{const t=document.querySelector(".ms-cookie-compliance");if(t&&!t.querySelector(".ms-cookie-compliance__decline-button")){if("true"===sessionStorage.getItem("cookiesDeclined"))return t.setAttribute("style","display:none"),window.clarity&&window.clarity("consentv2",{ad_Storage:"denied",analytics_Storage:"denied"}),void e.disconnect();const n=document.createElement("button");n.type="button",n.innerText="Decline",n.className="ms-cookie-compliance__decline-button msc-btn",n.setAttribute("aria-label","Decline cookies"),n.addEventListener("click",(()=>{t.setAttribute("style","display:none"),sessionStorage.setItem("cookiesDeclined","true"),window.clarity&&window.clarity("consentv2",{ad_Storage:"denied",analytics_Storage:"denied"})}));const o=t.querySelector(".ms-cookie-compliance__container");o&&o.appendChild(n),e.disconnect()}}));e.observe(document.body,{childList:!0,subtree:!0})}componentDidMount(){var e;this._addCookieDeclineButton();const{context:t}=this.props,n={callerContext:t.actionContext};if(this.props.config.useStickyHeader&&(o.default.isBrowser&&window.addEventListener("scroll",(()=>{this._configureStickyHeader()})),this._configureStickyHeader()),o.default.isBrowser&&null!==(e=this.props.context.request.user)&&void 0!==e&&e.isAuthenticated){var s,r;const e=null!==(s=this.props.context.request.user.signinName)&&void 0!==s?s:"",t=null!==(r=this.props.context.request.user.emailAddress)&&void 0!==r?r:"";(function(e,t,n){const o=p(t,n);return(0,l.callActionOrExecute)(o,e.callerContext)})(n,e,t).then((e=>{const t=new u(e);this._loadZendeskWidget(t.JWTTOKEN,t.SCRIPT)})).catch((e=>{console.error("Error fetching tracking number:",e),this.setState({trackingError:"Unable to fetch shipment tracking number.",trackingLoading:!1})}))}}render(){const{HeaderTag:e,HeaderContainer:t,HeaderTopBarContainer:n,Divider:o,MobileMenuContainer:s,MobileMenuBodyContainer:r,MobileMenuLinksContainer:a}=this.props,c=!this.props.config.hideNavIfNotAuthenticated||this.props.context.request.user.isAuthenticated;return d.createElement(i.Module,Object.assign({},e),d.createElement(i.Node,Object.assign({},t),d.createElement(i.Node,Object.assign({},n),d.createElement("div",{className:"desktop-navicon-container",ref:this.menuNode},c?this._renderReactFragment(this.props.menuBar):d.createElement("div",null)),c?d.createElement("div",{className:"mobile-navicon-container"},this.props.navIcon):d.createElement("div",null),this.props.logo,this._renderMobileLogo(),c?this._renderReactFragment(this.props.search):d.createElement("div",{className:"ms-search blank"}),this.props.preferredStore,this._renderReactFragment(this.props.siteOptions),this._renderAccountBlock(this.props),d.createElement(i.Node,Object.assign({},o)),c?this.props.cartIcon:d.createElement("div",{className:"ms-cart-icon"})),d.createElement(i.Node,Object.assign({},s),d.createElement(i.Node,Object.assign({},r),this.props.MobileMenuHeader,this._renderReactFragment(this.props.menuBar),d.createElement(i.Node,Object.assign({},a),!!this.props.accountLinks&&this.props.accountLinks.map((e=>e)),this.props.siteOptions,this.props.wishListIconMobile,this.props.signInLink,this.props.signOutLink)))))}_renderMobileLogo(){var e;const{config:t,context:n,typeName:o}=this.props;return d.createElement(s.Logo,Object.assign({},{link:t.logoLink,image:null!==(e=t.mobileLogoImage)&&void 0!==e?e:{},className:"ms-header__mobile-logo",gridSettings:n.request.gridSettings,requestContext:n.request,typeName:o}))}}const g=h},1472:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});n(3),n(15),n(51);var o=n(1),s=n(8),r=n.n(s),i=n(0);const a=e=>{const t=e&&e.result;return i.createElement(i.Fragment,null,t?t.FirstName||t.Name:"")};function c(e){return i.createElement(i.Fragment,null,e&&e.length>0?e.map(((e,t)=>i.createElement(i.Fragment,{key:t},e))):null)}const d=e=>{const{HeaderTag:t,HeaderContainer:n,HeaderTopBarContainer:s,Divider:d}=e;return i.createElement(o.Module,Object.assign({},t),i.createElement(o.Node,Object.assign({},n),i.createElement(o.Node,Object.assign({},s),e.navIcon,e.logo,c(e.search),e.preferredStore,function(e,t){const{AccountInfoDropdownParentContainer:n,AccountInfoDropdownPopoverConentContainer:s,accountInfoDropdownButton:a,signOutLink:c,signInLink:d,accountLinks:l}=e;if(n){const e=r()(n.className,t?"account-mobile":"account-desktop");if(s)return i.createElement(o.Node,Object.assign({},n,{className:e}),a,i.createElement(o.Node,Object.assign({},s),!!l&&l.map((e=>e)),c));if(d)return i.createElement(o.Node,Object.assign({},n,{className:e}),d)}return null}(e,!1),e.wishListIconDesktop,i.createElement(o.Node,Object.assign({},d)),e.cartIcon,c(e.siteOptions)),function(e){const{Divider:t,MobileMenuLinksContainer:n,mobileMenuCollapsed:s}=e;return i.createElement(o.Collapse,{className:"ms-header__collapsible-hamburger",isOpen:!s},i.createElement(o.Node,Object.assign({},n),c(e.search),function(e,t){const{AccountInfoDropdownParentContainer:n,signOutLink:s,signInLink:c,data:d,accountLinks:l}=e;if(n){const e=r()("ms-header__drawer",n.className,t?"account-mobile":"account-desktop");if(l)return i.createElement(o.Drawer,{className:e,openGlyph:"ms-header__drawer-open",closeGlyph:"ms-header__drawer-close",glyphPlacement:"end",toggleButtonText:a(d.accountInformation)},i.createElement("div",null,!!l&&l.map((e=>e)),s));if(c)return i.createElement(o.Node,Object.assign({},n,{className:e}),c)}return null}(e,!0),e.wishListIconMobile,e.siteOptions),i.createElement(o.Node,Object.assign({},t)),c(e.menuBar))}(e),i.createElement(o.Node,{className:"ms-header__desktop-view"},c(e.menuBar))))}},1473:(e,t,n)=>{n.r(t),n.d(t,{HeaderView:()=>l,default:()=>m});n(3),n(15),n(51);var o=n(2),s=n(625),r=n(6),i=n(1),a=n(8),c=n.n(a),d=n(0);class l extends d.PureComponent{constructor(e){super(e),this._configureStickyHeader=()=>{const e=document.querySelector(".ms-promo-banner"),t=e?e.offsetHeight:0,n=document.querySelector("header .default-container");n&&(o.default.isBrowser&&document.documentElement.scrollTop>0?(n.classList.add("lock-opaque"),n.classList.add("fixed")):(n.classList.remove("lock-opaque"),n.classList.remove("fixed")));const s=document.querySelector(".desktop-navicon-container"),r=document.querySelector(".ms-header__logo");if(s&&r){const e=r.offsetHeight+t;o.default.isBrowser&&document.documentElement.scrollTop>e?s.classList.add("fixed"):s.classList.remove("fixed")}},this._renderAccountBlock=e=>{const{AccountInfoDropdownParentContainer:t,AccountInfoDropdownPopoverConentContainer:n,accountInfoDropdownButton:o,signInLink:s}=e;if(t){const r=c()(t.className,"account-desktop");if(n)return d.createElement(i.Node,Object.assign({},t,{className:r}),o,d.createElement(i.Node,Object.assign({},n),this._renderAccountDropdownLinks(e)));if(s)return d.createElement(i.Node,Object.assign({},t,{className:r}),s)}return null},this._renderAccountDropdownLinks=e=>{const{isOBORequest:t,switchCustomerLink:n,accountLinks:o,signOutLink:s}=e;return t?d.createElement(d.Fragment,null,n,s,!!o&&d.createElement(i.Node,{className:"ms-profile-button-splitter"}),!!o&&o.map((e=>e))):d.createElement(d.Fragment,null,!!o&&o.map((e=>e)),s)},this._renderReactFragment=e=>d.createElement(d.Fragment,null,r.ArrayExtensions.hasElements(e)?e.map((e=>d.createElement(d.Fragment,null,e))):null),this.menuNode=d.createRef()}componentDidMount(){this.props.config.useStickyHeader&&(o.default.isBrowser&&window.addEventListener("scroll",(()=>{this._configureStickyHeader()})),this._configureStickyHeader())}render(){const{HeaderTag:e,HeaderContainer:t,HeaderTopBarContainer:n,Divider:o,MobileMenuContainer:s,MobileMenuBodyContainer:r,MobileMenuLinksContainer:a}=this.props;return d.createElement(i.Module,Object.assign({},e),d.createElement(i.Node,Object.assign({},t),d.createElement(i.Node,Object.assign({},n),d.createElement("div",{className:"desktop-navicon-container",ref:this.menuNode},this._renderReactFragment(this.props.menuBar)),d.createElement("div",{className:"mobile-navicon-container"},this.props.navIcon),this.props.logo,this._renderMobileLogo(),this._renderReactFragment(this.props.search),this.props.preferredStore,this.props.currentDistributor,this._renderAccountBlock(this.props),d.createElement(i.Node,Object.assign({},o)),this.props.cartIcon,this._renderReactFragment(this.props.siteOptions)),d.createElement(i.Node,Object.assign({},s),d.createElement(i.Node,Object.assign({},r),this.props.MobileMenuHeader,this._renderReactFragment(this.props.menuBar),d.createElement(i.Node,Object.assign({},a),!!this.props.accountLinks&&this.props.accountLinks.map((e=>e)),this.props.siteOptions,this.props.wishListIconMobile,this.props.signInLink,this.props.signOutLink)))))}_renderMobileLogo(){var e;const{config:t,context:n,typeName:o}=this.props;return d.createElement(s.Logo,Object.assign({},{link:t.logoLink,image:null!==(e=t.mobileLogoImage)&&void 0!==e?e:{},className:"ms-header__mobile-logo",gridSettings:n.request.gridSettings,requestContext:n.request,typeName:o}))}}const m=l}},e=>{e.O(0,[0,3,2,4,5,6,7,8,9,10,11,13,30],(()=>{return t=1467,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=16b3360dc04fc33739d7.bundle.js.map