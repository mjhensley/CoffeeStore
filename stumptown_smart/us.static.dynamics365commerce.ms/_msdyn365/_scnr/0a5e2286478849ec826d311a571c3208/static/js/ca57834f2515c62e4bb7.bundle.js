"use strict";(self.webpackChunkMsdyn365_Commerce_Online=self.webpackChunkMsdyn365_Commerce_Online||[]).push([[3],{1745:(e,n,t)=>{t.d(n,{H:()=>ls});var r=t(1746),i="function",a="object",o="undefined",s=Object,u=s.prototype,c=s.assign,l=s.create,f=s.defineProperty,d=u.hasOwnProperty,p=null;function g(e){void 0===e&&(e=!0);var n=!1===e?null:p;return n||(typeof globalThis!==o&&(n=globalThis),n||typeof self===o||(n=self),n||typeof window===o||(n=window),n||typeof t.g===o||(n=t.g),p=n),n}function v(e){throw new TypeError(e)}function m(e){var n=l;if(n)return n(e);if(null==e)return{};var t=typeof e;function r(){}return t!==a&&t!==i&&v("Object prototype may only be an Object:"+e),r.prototype=e,new r}(g()||{}).Symbol,(g()||{}).Reflect;var h=c||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t],n)u.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},y=function(e,n){return y=s.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},y(e,n)};function x(e,n){function t(){this.constructor=e}typeof n!==i&&null!==n&&v("Class extends value "+String(n)+" is not a constructor or null"),y(e,n),e.prototype=null===n?m(n):(t.prototype=n.prototype,new t)}function T(e,n){for(var t=0,r=n.length,i=e.length;t<r;t++,i++)e[i]=n[t];return e}var b="",C="channels",I="createPerfMgr",w="extensionConfig",S="eventsSent",k="eventsDiscarded",_="eventsSendRequest",D="perfEvent",E="errorToConsole",N="warnToConsole",P="constructor",M=f,A=s.freeze,L=(s.seal,s.keys),R=String.prototype,q=R.trim,U=R.endsWith,F=(R.startsWith,Date.prototype),z=F.toISOString,H=Array.isArray,B=u.toString,V=d.toString,O=V.call(s),j=/-([a-z])/g,K=/([^\w\d_$])/g,X=/^(\d+[\w\d_$])/,G=Object.getPrototypeOf;function W(e){if(e){if(G)return G(e);var n=e.__proto__||e.prototype||e.constructor;if(n)return n}return null}function Y(e){return void 0===e||typeof e===o}function J(e){return null===e||Y(e)}function Z(e){return!J(e)}function $(e,n){return!(!e||!d.call(e,n))}function Q(e){return!(!e||typeof e!==a)}function ee(e){return!(!e||typeof e!==i)}function ne(e){var n=e;return n&&se(n)&&(n=n.replace(j,(function(e,n){return n.toUpperCase()})),n=n.replace(K,"_"),n=n.replace(X,(function(e,n){return"_"+n}))),n}function te(e,n){if(e)for(var t in e)d.call(e,t)&&n.call(e,t,e[t])}function re(e,n){var t=!1;return e&&n&&!(t=e===n)&&(t=U?e.endsWith(n):function(e,n){var t=!1,r=n?n.length:0,i=e?e.length:0;if(r&&i&&i>=r&&!(t=e===n)){for(var a=i-1,o=r-1;o>=0;o--){if(e[a]!=n[o])return!1;a--}t=!0}return t}(e,n)),t}function ie(e,n){return!(!e||!n)&&-1!==e.indexOf(n)}var ae=H||function(e){return!(!e||"[object Array]"!==B.call(e))};function oe(e){return!(!e||"[object Error]"!==B.call(e))}function se(e){return"string"==typeof e}function ue(e){return"number"==typeof e}function ce(e){return"boolean"==typeof e}function le(e){var n=!1;if(e&&"object"==typeof e){var t=G?G(e):W(e);t?(t.constructor&&d.call(t,P)&&(t=t.constructor),n=typeof t===i&&V.call(t)===O):n=!0}return n}function fe(e){if(e)return z?e.toISOString():function(e){if(e&&e.getUTCFullYear){var n=function(e){var n=String(e);return 1===n.length&&(n="0"+n),n};return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function de(e,n,t){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==n.call(t||e,e[i],i,e));i++);}catch(e){}}function pe(e,n,t){if(e){if(e.indexOf)return e.indexOf(n,t);var r=e.length,i=t||0;try{for(var a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===n)return a}catch(e){}}return-1}function ge(e,n,t){var r;if(e){if(e.map)return e.map(n,t);var i=e.length,a=t||e;r=new Array(i);try{for(var o=0;o<i;o++)o in e&&(r[o]=n.call(a,e[o],e))}catch(e){}}return r}function ve(e,n,t){var r;if(e){if(e.reduce)return e.reduce(n,t);var i=e.length,a=0;if(arguments.length>=3)r=arguments[2];else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=n(r,e[a],a,e)),a++}return r}function me(e){return e&&(e=q&&e.trim?e.trim():e.replace?e.replace(/^\s+|(?=\s)\s+$/g,b):e),e}var he=!{toString:null}.propertyIsEnumerable("toString"),ye=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function xe(e){var n=typeof e;if(n===i||n===a&&null!==e||v("objKeys called on non-object"),!he&&L)return L(e);var t=[];for(var r in e)e&&d.call(e,r)&&t.push(r);if(he)for(var o=ye.length,s=0;s<o;s++)e&&d.call(e,ye[s])&&t.push(ye[s]);return t}function Te(e,n,t,r){if(M)try{var i={enumerable:!0,configurable:!0};return t&&(i.get=t),r&&(i.set=r),M(e,n,i),!0}catch(e){}return!1}function be(e){return e}function Ce(e){return A&&te(e,(function(e,n){(ae(n)||Q(n))&&A(n)})),Ie(e)}var Ie=A||be;function we(){var e=Date;return e.now?e.now():(new e).getTime()}function Se(e){return oe(e)?e.name:b}function ke(e,n,t,r,i){var a=t;return e&&(a=e[n],a===t||i&&!i(a)||r&&!r(t)||(a=t,e[n]=a)),a}function _e(e,n,t){var r;return e?(r=e[n],!r&&J(r)&&(r=Y(t)?{}:t,e[n]=r)):r=Y(t)?{}:t,r}function De(e,n){return J(e)?n:e}function Ee(e){return!!e}function Ne(e){throw new Error(e)}function Pe(e,n){var t=null,r=null;return ee(e)?t=e:r=e,function(){var e=arguments;if(t&&(r=t()),r)return r[n].apply(r,e)}}function Me(e,n,t,r,i){e&&n&&t&&(!1!==i||Y(e[n]))&&(e[n]=Pe(t,r))}function Ae(e,n,t,r){return e&&n&&Q(e)&&ae(t)&&de(t,(function(t){se(t)&&Me(e,t,n,t,r)})),e}function Le(e){return e&&c&&(e=s(c({},e))),e}function Re(e,n,t,r,i,a){var o=arguments,s=o[0]||{},u=o.length,c=!1,l=1;for(u>0&&ce(s)&&(c=s,s=o[l]||{},l++),Q(s)||(s={});l<u;l++){var f=o[l],p=ae(f),g=Q(f);for(var v in f){var m=p&&v in f||g&&d.call(f,v);if(m){var h=f[v],y=void 0;if(c&&h&&((y=ae(h))||le(h))){var x=s[v];y?ae(x)||(x=[]):le(x)||(x={}),h=Re(c,x,h)}void 0!==h&&(s[v]=h)}}}return s}var qe="correlationHeaderExcludePatterns";function Ue(e,n){return void 0===n&&(n=!1),null==e?n:"true"===e.toString().toLowerCase()}function Fe(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var n=""+e%1e3,t=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return n=1===n.length?"00"+n:2===n.length?"0"+n:n,t=t.length<2?"0"+t:t,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+r+":"+t+"."+n}function ze(e,n,t,r,i){return!i&&se(e)&&("Script error."===e||"Script error"===e)}var He="window",Be="JSON",Ve="msie",Oe="trident/",je="XMLHttpRequest",Ke=null,Xe=null,Ge=!1,We=null,Ye=null;function Je(e,n){var t=!1;if(e){try{if(t=n in e,!t){var r=e.prototype;r&&(t=n in r)}}catch(e){}if(!t)try{var i=new e;t=!Y(i[n])}catch(e){}}return t}function Ze(e){var n=g();return n&&n[e]?n[e]:e===He&&$e()?window:null}function $e(){return Boolean(typeof window===a&&window)}function Qe(){return $e()?window:Ze(He)}function en(){return Boolean(typeof document===a&&document)}function nn(){return en()?document:Ze("document")}function tn(){return Boolean(typeof navigator===a&&navigator)}function rn(){return tn()?navigator:Ze("navigator")}function an(){return Boolean(typeof history===a&&history)}function on(e){if(e&&Ge){var n=Ze("__mockLocation");if(n)return n}return typeof location===a&&location?location:Ze("location")}function sn(){return Ze("performance")}function un(){return Boolean(typeof JSON===a&&JSON||null!==Ze(Be))}function cn(){return un()?JSON||Ze(Be):null}function ln(){var e=rn();if(e&&(e.userAgent!==Xe||null===Ke)){Xe=e.userAgent;var n=(Xe||b).toLowerCase();Ke=ie(n,Ve)||ie(n,Oe)}return Ke}function fn(e){if(void 0===e&&(e=null),!e){var n=rn()||{};e=n?(n.userAgent||b).toLowerCase():b}var t=(e||b).toLowerCase();if(ie(t,Ve)){var r=nn()||{};return Math.max(parseInt(t.split(Ve)[1]),r.documentMode||0)}if(ie(t,Oe)){var i=parseInt(t.split(Oe)[1]);if(i)return i+4}return null}function dn(e){var n=Object.prototype.toString.call(e),t=b;return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":un()&&(t=cn().stringify(e)),n+t}function pn(){return null===Ye&&(Ye=tn()&&Boolean(rn().sendBeacon)),Ye}function gn(e){var n=!1;try{n=!!Ze("fetch");var t=Ze("Request");n&&e&&t&&(n=Je(t,"keepalive"))}catch(e){}return n}function vn(){return null===We&&(We=typeof XDomainRequest!==o,We&&mn()&&(We=We&&!Je(Ze(je),"withCredentials"))),We}function mn(){var e=!1;try{var n=Ze(je);e=!!n}catch(e){}return e}var hn,yn=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],xn=null;function Tn(e,n){return function(){var t=arguments,r=bn(n);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,t)}}}function bn(e){var n,t=xn;return t||!0===e.disableDbgExt||(t=xn||(n=Ze("Microsoft"),n&&(xn=n.ApplicationInsights),xn)),t?t.ChromeDbgExt:null}function Cn(e){if(!hn){hn={};for(var n=0;n<yn.length;n++)hn[yn[n]]=Tn(yn[n],e)}return hn}function In(e){return e?'"'+e.replace(/\"/g,b)+'"':b}function wn(e,n){var t=typeof console!==o?console:Ze("console");if(t){var r="log";t[e]&&(r=e),ee(t[r])&&t[r](n)}}var Sn=function(){function e(e,n,t,r){void 0===t&&(t=!1);var i=this;i.messageId=e,i.message=(t?"AI: ":"AI (Internal): ")+e;var a=b;un()&&(a=cn().stringify(r));var o=(n?" message:"+In(n):b)+(r?" props:"+In(a):b);i.message+=o}return e.dataType="MessageData",e}();function kn(e,n){return(e||{}).logger||new _n(n)}var _n=function(){function e(n){this.identifier="DiagnosticLogger",this.queue=[];var t,i,a,o,s=0,u={};(0,r.A)(e,this,(function(e){function r(n,t){if(!(s>=a)){var r=!0,o="AITR_"+t.messageId;if(u[o]?r=!1:u[o]=!0,r&&(n<=i&&(e.queue.push(t),s++,c(1===n?"error":"warn",t)),s===a)){var l="Internal events throttle limit per PageView reached for this app.",f=new Sn(23,l,!1);e.queue.push(f),1===n?e.errorToConsole(l):e.warnToConsole(l)}}}function c(e,t){var r=bn(n||{});r&&r.diagLog&&r.diagLog(e,t)}!function(e){t=De(e.loggingLevelConsole,0),i=De(e.loggingLevelTelemetry,1),a=De(e.maxMessageLimit,25),o=De(e.enableDebug,De(e.enableDebugExceptions,!1))}(n||{}),e.consoleLoggingLevel=function(){return t},e.telemetryLoggingLevel=function(){return i},e.maxInternalMessageLimit=function(){return a},e.enableDebugExceptions=function(){return o},e.throwInternal=function(n,i,a,s,l){void 0===l&&(l=!1);var f=new Sn(i,a,l,s);if(o)throw dn(f);var d=1===n?E:N;if(Y(f.message))c("throw"+(1===n?"Critical":"Warning"),f);else{if(l){var p=+f.messageId;!u[p]&&t>=n&&(e[d](f.message),u[p]=!0)}else t>=n&&e[d](f.message);r(n,f)}},e.warnToConsole=function(e){wn("warn",e),c("warning",e)},e.errorToConsole=function(e){wn("error",e),c("error",e)},e.resetInternalMessageCount=function(){s=0,u={}},e.logInternalMessage=r}))}return e.__ieDyn=1,e}();function Dn(e){return e||new _n}function En(e,n,t,r,i,a){void 0===a&&(a=!1),Dn(e).throwInternal(n,t,r,i,a)}function Nn(e,n){Dn(e).warnToConsole(n)}function Pn(e){var n={};return te(e,(function(e,t){n[e]=t,n[t]=e})),Ce(n)}var Mn=Pn({LocalStorage:0,SessionStorage:1}),An=(Pn({AI:0,AI_AND_W3C:1,W3C:2}),void 0),Ln=void 0,Rn="";function qn(){return Bn()?Un(Mn.LocalStorage):null}function Un(e){try{if(J(g()))return null;var n=(new Date).toString(),t=Ze(e===Mn.LocalStorage?"localStorage":"sessionStorage"),r=Rn+n;t.setItem(r,n);var i=t.getItem(r)!==n;if(t.removeItem(r),!i)return t}catch(e){}return null}function Fn(){return Kn()?Un(Mn.SessionStorage):null}function zn(){An=!1,Ln=!1}function Hn(e){Rn=e||""}function Bn(e){return(e||void 0===An)&&(An=!!Un(Mn.LocalStorage)),An}function Vn(e,n){var t=qn();if(null!==t)try{return t.getItem(n)}catch(n){An=!1,En(e,2,1,"Browser failed read of local storage. "+Se(n),{exception:dn(n)})}return null}function On(e,n,t){var r=qn();if(null!==r)try{return r.setItem(n,t),!0}catch(n){An=!1,En(e,2,3,"Browser failed write to local storage. "+Se(n),{exception:dn(n)})}return!1}function jn(e,n){var t=qn();if(null!==t)try{return t.removeItem(n),!0}catch(n){An=!1,En(e,2,5,"Browser failed removal of local storage item. "+Se(n),{exception:dn(n)})}return!1}function Kn(e){return(e||void 0===Ln)&&(Ln=!!Un(Mn.SessionStorage)),Ln}function Xn(e,n){var t=Fn();if(null!==t)try{return t.getItem(n)}catch(n){Ln=!1,En(e,2,2,"Browser failed read of session storage. "+Se(n),{exception:dn(n)})}return null}function Gn(e,n,t){var r=Fn();if(null!==r)try{return r.setItem(n,t),!0}catch(n){Ln=!1,En(e,2,4,"Browser failed write to session storage. "+Se(n),{exception:dn(n)})}return!1}function Wn(e,n){var t=Fn();if(null!==t)try{return t.removeItem(n),!0}catch(n){Ln=!1,En(e,2,6,"Browser failed removal of session storage item. "+Se(n),{exception:dn(n)})}return!1}var Yn,Jn="AppInsightsPropertiesPlugin",Zn="AppInsightsChannelPlugin",$n="ApplicationInsightsAnalytics",Qn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",et="http.method",nt="https://dc.services.visualstudio.com",tt="/v2/track",rt="not_specified";function it(e,n,t){var r=n.length,i=at(e,n);if(i.length!==r){for(var a=0,o=i;void 0!==t[o];)a++,o=i.substring(0,147)+gt(a);i=o}return i}function at(e,n){var t;return n&&(n=me(n.toString()),n.length>150&&(t=n.substring(0,150),En(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:n},!0))),t||n}function ot(e,n,t){var r;return void 0===t&&(t=1024),n&&(t=t||1024,n=me(n),n.toString().length>t&&(r=n.toString().substring(0,t),En(e,2,61,"string value is too long. It has been truncated to "+t+" characters.",{value:n},!0))),r||n}function st(e,n){return pt(e,n,2048,66)}function ut(e,n){var t;return n&&n.length>32768&&(t=n.substring(0,32768),En(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:n},!0)),t||n}function ct(e,n){var t;if(n){var r=""+n;r.length>32768&&(t=r.substring(0,32768),En(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:n},!0))}return t||n}function lt(e,n){if(n){var t={};te(n,(function(n,r){if(Q(r)&&un())try{r=cn().stringify(r)}catch(n){En(e,2,49,"custom property is not valid",{exception:n},!0)}r=ot(e,r,8192),n=it(e,n,t),t[n]=r})),n=t}return n}function ft(e,n){if(n){var t={};te(n,(function(n,r){n=it(e,n,t),t[n]=r})),n=t}return n}function dt(e,n){return n?pt(e,n,128,69).toString():n}function pt(e,n,t,r){var i;return n&&(n=me(n),n.length>t&&(i=n.substring(0,t),En(e,2,r,"input is too long, it has been truncated to "+t+" characters.",{data:n},!0))),i||n}function gt(e){var n="00"+e;return n.substr(n.length-3)}Yn={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Yn.sanitizeKeyAndAddUniqueness=it,Yn.sanitizeKey=at,Yn.sanitizeString=ot,Yn.sanitizeUrl=st,Yn.sanitizeMessage=ut,Yn.sanitizeException=ct,Yn.sanitizeProperties=lt,Yn.sanitizeMeasurements=ft,Yn.sanitizeId=dt,Yn.sanitizeInput=pt,Yn.padNumber=gt,Yn.trim=me;function vt(e,n,t,r,i,a){var o;t=ot(r,t)||rt,(J(e)||J(n)||J(t))&&Ne("Input doesn't contain all required fields");var s="";e.iKey&&(s=e.iKey,delete e.iKey);var u=(o={},o.name=t,o.time=fe(new Date),o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=n,o.baseData=e,o);return J(i)||te(i,(function(e,n){u.data[e]=n})),u}!function(){function e(){}e.create=vt}();var mt=function(){function e(e,n,t,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i.name=ot(e,n)||rt,i.properties=lt(e,t),i.measurements=ft(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),ht=function(){function e(e,n,t,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,n=n||rt,a.message=ut(e,n),a.properties=lt(e,r),a.measurements=ft(e,i),t&&(a.severityLevel=t)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),yt=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},xt=function(){function e(e,n,t,r,i,a,o,s,u){this.aiDataContract={ver:1,metrics:1,properties:0};var c=this;c.ver=2;var l=new yt;l.count=r>0?r:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(i)||null===i?void 0:i,l.name=ot(e,n)||rt,l.value=t,l.stdDev=isNaN(o)||null===o?void 0:o,c.metrics=[l],c.properties=lt(e,s),c.measurements=ft(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),Tt=function(){function e(e,n,t,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=dt(e,o),s.url=st(e,t),s.name=ot(e,n)||rt,isNaN(r)||(s.duration=Fe(r)),s.properties=lt(e,i),s.measurements=ft(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),bt=function(){function e(e,n,t,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=st(e,t),s.name=ot(e,n)||rt,s.properties=lt(e,i),s.measurements=ft(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();function Ct(e,n){var t=e;return t&&!se(t)&&(JSON&&JSON.stringify?(t=JSON.stringify(e),!n||t&&"{}"!==t||(t=ee(e.toString)?e.toString():""+e)):t=e+" - (Missing JSON.stringify)"),t||""}function It(e,n){var t=e;return e&&(t&&!se(t)&&(t=e.message||e.description||t),t&&!se(t)&&(t=Ct(t,!0)),e.filename&&(t=t+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),n&&"String"!==n&&"Object"!==n&&"Error"!==n&&-1===(t||"").indexOf(n)&&(t=n+": "+t),t||""}function wt(e){return e&&e.src&&se(e.src)&&e.obj&&ae(e.obj)}function St(e){var n=e||"";se(n)||(n=se(n.stack)?n.stack:""+n);var t=n.split("\n");return{src:n,obj:t}}function kt(e){var n=null;if(e)try{if(e.stack)n=St(e.stack);else if(e.error&&e.error.stack)n=St(e.error.stack);else if(e.exception&&e.exception.stack)n=St(e.exception.stack);else if(wt(e))n=e;else if(wt(e.stackDetails))n=e.stackDetails;else if(window&&window.opera&&e.message)n=function(e){for(var n=[],t=e.split("\n"),r=0;r<t.length;r++){var i=t[r];t[r+1]&&(i+="@"+t[r+1],r++),n.push(i)}return{src:e,obj:n}}(e.message);else if(e.reason&&e.reason.stack)n=St(e.reason.stack);else if(se(e))n=St(e);else{var t=e.message||e.description||"";se(e.errorSrc)&&(t&&(t+="\n"),t+=" from "+e.errorSrc),t&&(n=St(t))}}catch(e){n=St(e)}return n||{src:"",obj:null}}function _t(e){var n="";if(e&&(n=e.typeName||e.name||"",!n))try{var t=/function (.{1,200})\(/.exec(e.constructor.toString());n=t&&t.length>1?t[1]:""}catch(e){}return n}function Dt(e){if(e)try{if(!se(e)){var n=_t(e),t=Ct(e,!1);return t&&"{}"!==t||(e.error&&(e=e.error,n=_t(e)),t=Ct(e,!0)),0!==t.indexOf(n)&&"String"!==n?n+":"+t:t}}catch(e){}return""+(e||"")}var Et=function(){function e(e,n,t,r,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var o=this;o.ver=2,!function(e){try{if(Q(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(n)?(t||(t={}),o.exceptions=[new Nt(e,n,t)],o.properties=lt(e,t),o.measurements=ft(e,r),i&&(o.severityLevel=i),a&&(o.id=a)):(o.exceptions=n.exceptions||[],o.properties=n.properties,o.measurements=n.measurements,n.severityLevel&&(o.severityLevel=n.severityLevel),n.id&&(o.id=n.id),n.problemGroup&&(o.problemGroup=n.problemGroup),J(n.isManual)||(o.isManual=n.isManual))}return e.CreateAutoException=function(e,n,t,r,i,a,o,s){var u,c=_t(i||a||e);return u={},u.message=It(e,c),u.url=n,u.lineNumber=t,u.columnNumber=r,u.error=Dt(i||a||e),u.evt=Dt(a||e),u.typeName=c,u.stackDetails=kt(o||i||a),u.errorSrc=s,u},e.CreateFromInterface=function(n,t,r,i){var a=t.exceptions&&ge(t.exceptions,(function(e){return Nt.CreateFromInterface(n,e)})),o=new e(n,h(h({},t),{exceptions:a}),r,i);return o},e.prototype.toInterface=function(){var e,n=this,t=n.exceptions,r=n.properties,i=n.measurements,a=n.severityLevel,o=n.problemGroup,s=n.id,u=n.isManual,c=t instanceof Array&&ge(t,(function(e){return e.toInterface()}))||void 0;return e={ver:"4.0"},e.exceptions=c,e.severityLevel=a,e.properties=r,e.measurements=i,e.problemGroup=o,e.id=s,e.isManual=u,e},e.CreateSimpleException=function(e,n,t,r,i,a){var o;return{exceptions:[(o={},o.hasFullStack=!0,o.message=e,o.stack=i,o.typeName=n,o)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Dt,e}(),Nt=function(){function e(e,n,t){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var r=this;if(function(e){try{if(Q(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(n))r.typeName=n.typeName,r.message=n.message,r.stack=n.stack,r.parsedStack=n.parsedStack||[],r.hasFullStack=n.hasFullStack;else{var i=n,a=i&&i.evt;oe(i)||(i=i.error||a||i),r.typeName=ot(e,_t(i))||rt,r.message=ut(e,It(n||i,r.typeName))||rt;var o=n.stackDetails||kt(n);r.parsedStack=function(e){var n,t=e.obj;if(t&&t.length>0){n=[];var r=0,i=0;if(de(t,(function(e){var t=e.toString();if(Pt.regex.test(t)){var a=new Pt(t,r++);i+=a.sizeInBytes,n.push(a)}})),i>32768)for(var a=0,o=n.length-1,s=0,u=a,c=o;a<o;){var l=n[a].sizeInBytes,f=n[o].sizeInBytes;if(s+=l+f,s>32768){var d=c-u+1;n.splice(u,d);break}u=a,c=o,a++,o--}}return n}(o),ae(r.parsedStack)&&ge(r.parsedStack,(function(n){n.assembly=ot(e,n.assembly),n.fileName=ot(e,n.fileName)})),r.stack=ct(e,function(e){var n="";return e&&(e.obj?de(e.obj,(function(e){n+=e+"\n"})):n=e.src||""),n}(o)),r.hasFullStack=ae(r.parsedStack)&&r.parsedStack.length>0,t&&(t.typeName=t.typeName||r.typeName)}}return e.prototype.toInterface=function(){var e,n=this,t=n.parsedStack instanceof Array&&ge(n.parsedStack,(function(e){return e.toInterface()})),r=(e={id:n.id,outerId:n.outerId,typeName:n.typeName,message:n.message,hasFullStack:n.hasFullStack,stack:n.stack},e.parsedStack=t||void 0,e);return r},e.CreateFromInterface=function(n,t){var r=t.parsedStack instanceof Array&&ge(t.parsedStack,(function(e){return Pt.CreateFromInterface(e)}))||t.parsedStack,i=new e(n,h(h({},t),{parsedStack:r}));return i},e}(),Pt=function(){function e(n,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r.sizeInBytes=0,"string"==typeof n){var i=n;r.level=t,r.method="<no_method>",r.assembly=me(i),r.fileName="",r.line=0;var a=i.match(e.regex);a&&a.length>=5&&(r.method=me(a[2])||r.method,r.fileName=me(a[4]),r.line=parseInt(a[5])||0)}else r.level=n.level,r.method=n.method,r.assembly=n.assembly,r.fileName=n.fileName,r.line=n.line,r.sizeInBytes=0;r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=e.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length}return e.CreateFromInterface=function(n){return new e(n,null)},e.prototype.toInterface=function(){var e=this;return{level:e.level,method:e.method,assembly:e.assembly,fileName:e.fileName,line:e.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),Mt="toGMTString",At="toUTCString",Lt="expires",Rt=null,qt=null,Ut=null,Ft=nn(),zt={},Ht={};function Bt(e,n){var t=Kt._ckMgr||Ht._ckMgr;return t||(t=Kt._ckMgr=Kt(e,n),Ht._ckMgr=t),t}function Vt(e){return!e||e.isEnabled()}function Ot(e,n){return!!(n&&e&&ae(e.ignoreCookies))&&-1!==e.ignoreCookies.indexOf(n)}function jt(e,n){var t;if(e)t=e.getCookieMgr();else if(n){var r=n.cookieCfg;t=r._ckMgr?r._ckMgr:Kt(n)}return t||(t=Bt(n,(e||{}).logger)),t}function Kt(e,n){var t,r=function(e){var n=e.cookieCfg=e.cookieCfg||{};if(ke(n,"domain",e.cookieDomain,Z,J),ke(n,"path",e.cookiePath||"/",null,J),J(n.enabled)){var t=void 0;Y(e.isCookieUseDisabled)||(t=!e.isCookieUseDisabled),Y(e.disableCookiesUsage)||(t=!e.disableCookiesUsage),n.enabled=t}return n}(e||Ht),i=r.path||"/",a=r.domain,o=!1!==r.enabled,s=(t={isEnabled:function(){var e=o&&Xt(n),t=Ht._ckMgr;return e&&t&&s!==t&&(e=Vt(t)),e}},t.setEnabled=function(e){o=!1!==e},t.set=function(e,n,t,o,u){var c=!1;if(Vt(s)&&!function(e,n){return!!(n&&e&&ae(e.blockedCookies)&&-1!==e.blockedCookies.indexOf(n))||Ot(e,n)}(r,e)){var l={},f=me(n||b),d=f.indexOf(";");if(-1!==d&&(f=me(n.substring(0,d)),l=Gt(n.substring(d+1))),ke(l,"domain",o||a,Ee,Y),!J(t)){var p=ln();if(Y(l.expires)){var g=we(),v=g+1e3*t;if(v>0){var m=new Date;m.setTime(v),ke(l,Lt,Wt(m,p?Mt:At)||Wt(m,p?Mt:At)||b,Ee)}}p||ke(l,"max-age",b+t,null,Y)}var h=on();h&&"https:"===h.protocol&&(ke(l,"secure",null,null,Y),null===qt&&(qt=!$t((rn()||{}).userAgent)),qt&&ke(l,"SameSite","None",null,Y)),ke(l,"path",u||i,null,Y);var y=r.setCookie||Zt;y(e,Yt(f,l)),c=!0}return c},t.get=function(e){var n=b;return Vt(s)&&!Ot(r,e)&&(n=(r.getCookie||Jt)(e)),n},t.del=function(e,n){var t=!1;return Vt(s)&&(t=s.purge(e,n)),t},t.purge=function(e,t){var i,a=!1;if(Xt(n)){var o=(i={},i.path=t||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);ln()||(o["max-age"]="0");var s=r.delCookie||Zt;s(e,Yt(b,o)),a=!0}return a},t);return s._ckMgr=s,s}function Xt(e){if(null===Rt){Rt=!1;try{var n=Ft||{};Rt=void 0!==n.cookie}catch(n){En(e,2,68,"Cannot access document.cookie - "+Se(n),{exception:dn(n)})}}return Rt}function Gt(e){var n={};if(e&&e.length){var t=me(e).split(";");de(t,(function(e){if(e=me(e||b),e){var t=e.indexOf("=");-1===t?n[e]=null:n[me(e.substring(0,t))]=me(e.substring(t+1))}}))}return n}function Wt(e,n){return ee(e[n])?e[n]():null}function Yt(e,n){var t=e||b;return te(n,(function(e,n){t+="; "+e+(J(n)?b:"="+n)})),t}function Jt(e){var n=b;if(Ft){var t=Ft.cookie||b;Ut!==t&&(zt=Gt(t),Ut=t),n=me(zt[e]||b)}return n}function Zt(e,n){Ft&&(Ft.cookie=e+"="+n)}function $t(e){return!!se(e)&&(!(!ie(e,"CPU iPhone OS 12")&&!ie(e,"iPad; CPU OS 12"))||(!!(ie(e,"Macintosh; Intel Mac OS X 10_14")&&ie(e,"Version/")&&ie(e,"Safari"))||(!(!ie(e,"Macintosh; Intel Mac OS X 10_14")||!re(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(!(!ie(e,"Chrome/5")&&!ie(e,"Chrome/6"))||(!(!ie(e,"UnrealEngine")||ie(e,"Chrome"))||!(!ie(e,"UCBrowser/12")&&!ie(e,"UCBrowser/11")))))))}var Qt=4294967296,er=4294967295,nr=!1,tr=123456789,rr=987654321;function ir(e){e<0&&(e>>>=0),tr=123456789+e&er,rr=987654321-e&er,nr=!0}function ar(){try{var e=2147483647&we();ir((Math.random()*Qt^e)+e)}catch(e){}}function or(e){var n=0,t=Ze("crypto")||Ze("msCrypto");return t&&t.getRandomValues&&(n=t.getRandomValues(new Uint32Array(1))[0]&er),0===n&&ln()&&(nr||ar(),n=sr()&er),0===n&&(n=Math.floor(Qt*Math.random()|0)),e||(n>>>=0),n}function sr(e){rr=36969*(65535&rr)+(rr>>16)&er,tr=18e3*(65535&tr)+(tr>>16)&er;var n=(rr<<16)+(65535&tr)>>>0&er|0;return e||(n>>>=0),n}function ur(e){void 0===e&&(e=22);for(var n=or()>>>0,t=0,r=b;r.length<e;)t++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n),n>>>=6,5===t&&(n=(or()<<2&4294967295|3&n)>>>0,t=0);return r}var cr=f,lr="2.8.18",fr="."+ur(6),dr=0;function pr(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function gr(e,n){var t=n[e.id];if(!t){t={};try{pr(n)&&(function(e,n,t){if(cr)try{return cr(e,n,{value:t,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(n,e.id,t)||(n[e.id]=t))}catch(e){}}return t}function vr(e,n){return void 0===n&&(n=!1),ne(e+dr+++(n?".2.8.18":b)+fr)}function mr(e){var n={id:vr("_aiData-"+(e||b)+"."+lr),accept:function(e){return pr(e)},get:function(e,t,r,i){var a=e[n.id];return a?a[ne(t)]:(i&&(a=gr(n,e),a[ne(t)]=r),r)},kill:function(e,n){if(e&&e[n])try{delete e[n]}catch(e){}}};return n}var hr="events",yr="visibilitychange",xr="pagehide",Tr="unload",br="beforeunload",Cr=vr("aiEvtPageHide"),Ir=(vr("aiEvtPageShow"),/\.[\.]+/g),wr=/[\.]+$/,Sr=1,kr=mr("events"),_r=/^([^.]*)(?:\.(.+)|)/;function Dr(e){return e&&e.replace?e.replace(/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,b):e}function Er(e,n){var t;if(n){var r=b;ae(n)?(r=b,de(n,(function(e){e=Dr(e),e&&("."!==e[0]&&(e="."+e),r+=e)}))):r=Dr(n),r&&("."!==r[0]&&(r="."+r),e=(e||b)+r)}var i=_r.exec(e||b)||[];return t={},t.type=i[1],t.ns=(i[2]||b).replace(Ir,".").replace(wr,b).split(".").sort().join("."),t}function Nr(e,n,t){void 0===t&&(t=!0);var r=kr.get(e,hr,{},t),i=r[n];return i||(i=r[n]=[]),i}function Pr(e,n,t,r){e&&n&&n.type&&(e.removeEventListener?e.removeEventListener(n.type,t,r):e.detachEvent&&e.detachEvent("on"+n.type,t))}function Mr(e,n,t,r){for(var i=n.length;i--;){var a=n[i];a&&(t.ns&&t.ns!==a.evtName.ns||r&&!r(a)||(Pr(e,a.evtName,a.handler,a.capture),n.splice(i,1)))}}function Ar(e,n){var t;return n?(t=ae(n)?[e].concat(n):[e,n],t=Er("xx",t).ns.split(".")):t=e,t}function Lr(e,n,t,r,i){var a;void 0===i&&(i=!1);var o=!1;if(e)try{var s=Er(n,r);if(o=function(e,n,t,r){var i=!1;return e&&n&&n.type&&t&&(e.addEventListener?(e.addEventListener(n.type,t,r),i=!0):e.attachEvent&&(e.attachEvent("on"+n.type,t),i=!0)),i}(e,s,t,i),o&&kr.accept(e)){var u=(a={guid:Sr++,evtName:s},a.handler=t,a.capture=i,a);Nr(e,s.type).push(u)}}catch(e){}return o}function Rr(e,n,t,r,i){if(void 0===i&&(i=!1),e)try{var a=Er(n,r),o=!1;!function(e,n,t){if(n.type)Mr(e,Nr(e,n.type),n,t);else{var r=kr.get(e,hr,{});te(r,(function(r,i){Mr(e,i,n,t)})),0===xe(r).length&&kr.kill(e,hr)}}(e,a,(function(e){return!((!a.ns||t)&&e.handler!==t)&&(o=!0,!0)})),o||Pr(e,a,t,i)}catch(e){}}function qr(e,n,t){var r=!1,i=Qe();i&&(r=Lr(i,e,n,t),r=Lr(i.body,e,n,t)||r);var a=nn();return a&&(r=Lr(a,e,n,t)||r),r}function Ur(e,n,t,r){var i=!1;return n&&e&&e.length>0&&de(e,(function(e){e&&(t&&-1!==pe(t,e)||(i=qr(e,n,r)||i))})),i}function Fr(e,n,t){e&&ae(e)&&de(e,(function(e){e&&function(e,n,t){var r=Qe();r&&(Rr(r,e,n,t),Rr(r.body,e,n,t));var i=nn();i&&Rr(i,e,n,t)}(e,n,t)}))}function zr(e,n,t){return function(e,n,t,r){var i=!1;return n&&e&&ae(e)&&(i=Ur(e,n,t,r),!i&&t&&t.length>0&&(i=Ur(e,n,null,r))),i}([br,Tr,xr],e,n,t)}function Hr(e,n,t){var r=Ar(Cr,t),i=Ur([xr],e,n,r);return n&&-1!==pe(n,yr)||(i=Ur([yr],(function(n){var t=nn();e&&t&&"hidden"===t.visibilityState&&e(n)}),n,r)||i),!i&&n&&(i=Hr(e,null,t)),i}function Br(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=b,r=0;r<4;r++)e=or(),t+=n[15&e]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&or())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var Vr="00",Or="ff",jr="00000000000000000000000000000000",Kr="0000000000000000";function Xr(e,n,t){return!(!e||e.length!==n||e===t)&&!!e.match(/^[\da-f]*$/i)}function Gr(e,n,t){return Xr(e,n)?e:t}function Wr(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var n=e.toString(16);n.length<2;)n="0"+n;return n}function Yr(e,n,t,r){var i;return i={},i.version=Xr(r,2,Or)?r:Vr,i.traceId=Jr(e)?e:Br(),i.spanId=Zr(n)?n:Br().substr(0,16),i.traceFlags=t>=0&&t<=255?t:1,i}function Jr(e){return Xr(e,32,jr)}function Zr(e){return Xr(e,16,Kr)}function $r(e){if(e){var n=Wr(e.traceFlags);Xr(n,2)||(n="01");var t=e.version||Vr;return"00"!==t&&"ff"!==t&&(t=Vr),"".concat(t.toLowerCase(),"-").concat(Gr(e.traceId,32,jr).toLowerCase(),"-").concat(Gr(e.spanId,16,Kr).toLowerCase(),"-").concat(n.toLowerCase())}return""}function Qr(e){var n=null;if(ee(Event))n=new Event(e);else{var t=nn();t&&t.createEvent&&(n=t.createEvent("Event"),n.initEvent(e,!0,!0))}return n}var ei,ni,ti=(ei={requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]},ni={},te(ei,(function(e,n){ni[e]=n[1],ni[n[0]]=n[1]})),Ce(ni)),ri=nn()||{},ii=0,ai=[null,null,null,null,null];function oi(e){var n=ii,t=ai,r=t[n];return ri.createElement?t[n]||(r=t[n]=ri.createElement("a")):r={host:ci(e,!0)},r.href=e,n++,n>=t.length&&(n=0),ii=n,r}function si(e){var n,t=oi(e);return t&&(n=t.href),n}function ui(e,n){return e?e.toUpperCase()+" "+n:n}function ci(e,n){var t=li(e,n)||"";if(t){var r=t.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r.length>3&&se(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return t}function li(e,n){var t=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r.length>2&&se(r[2])&&r[2].length>0&&(t=r[2]||"",n&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),t+=a}}return t}var fi=[nt+tt,"https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function di(e){return-1!==pe(fi,e.toLowerCase())}var pi={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,n,t){if(!n||e&&e.disableCorrelationHeaders)return!1;if(e&&e[qe])for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e[qe][r].test(n))return!1;var i=oi(n).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(li(n,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==t)return!1;var a,o=e&&e.correlationHeaderDomains;if(o&&(de(o,(function(e){var n=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||n.test(i)})),!a))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++){var u=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(u.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var n=pi.getCorrelationContextValue(e,ti[1]);if(n&&n!==pi.correlationIdPrefix)return n}},getCorrelationContextValue:function(e,n){if(e)for(var t=e.split(","),r=0;r<t.length;++r){var i=t[r].split("=");if(2===i.length&&i[0]===n)return i[1]}}};function gi(){var e=sn();if(e&&e.now&&e.timing){var n=e.now()+e.timing.navigationStart;if(n>0)return n}return we()}function vi(e,n){var t=null;return 0===e||0===n||J(e)||J(n)||(t=n-e),t}function mi(e,n){var t=e||{};return{getName:function(){return t.name},setName:function(e){n&&n.setName(e),t.name=e},getTraceId:function(){return t.traceID},setTraceId:function(e){n&&n.setTraceId(e),Jr(e)&&(t.traceID=e)},getSpanId:function(){return t.parentID},setSpanId:function(e){n&&n.setSpanId(e),Zr(e)&&(t.parentID=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){n&&n.setTraceFlags(e),t.traceFlags=e}}}var hi=function(){function e(e,n,t,r,i,a,o,s,u,c,l,f){void 0===u&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var d=this;d.ver=2,d.id=n,d.duration=Fe(i),d.success=a,d.resultCode=o+"",d.type=ot(e,u);var p=function(e,n,t,r){var i,a=r,o=r;if(n&&n.length>0){var s=oi(n);if(i=s.host,!a)if(null!=s.pathname){var u=0===s.pathname.length?"/":s.pathname;"/"!==u.charAt(0)&&(u="/"+u),o=s.pathname,a=ot(e,t?t+" "+u:u)}else a=ot(e,n)}else i=r,a=r;return{target:i,name:a,data:o}}(e,t,s,r);d.data=st(e,r)||p.data,d.target=ot(e,p.target),c&&(d.target="".concat(d.target," | ").concat(c)),d.name=ot(e,p.name),d.properties=lt(e,l),d.measurements=ft(e,f)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),yi=null,xi=function(){function e(n,t,r){var i,a=this,o=!1;(a.start=we(),a.name=n,a.isAsync=r,a.isChildEvt=function(){return!1},ee(t))&&(o=Te(a,"payload",(function(){return!i&&ee(t)&&(i=t(),t=null),i})));a.getCtx=function(n){return n?n===e.ParentContextKey||n===e.ChildrenContextKey?a[n]:(a.ctx||{})[n]:null},a.setCtx=function(n,t){if(n)if(n===e.ParentContextKey)a[n]||(a.isChildEvt=function(){return!0}),a[n]=t;else if(n===e.ChildrenContextKey)a[n]=t;else{var r=a.ctx=a.ctx||{};r[n]=t}},a.complete=function(){var n=0,r=a.getCtx(e.ChildrenContextKey);if(ae(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(n+=s.time)}a.time=we()-a.start,a.exTime=a.time-n,a.complete=function(){},!o&&ee(t)&&(a.payload=t())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Ti=function(){function e(n){this.ctx={},(0,r.A)(e,this,(function(e){e.create=function(e,n,t){return new xi(e,n,t)},e.fire=function(e){e&&(e.complete(),n&&ee(n.perfEvent)&&n.perfEvent(e))},e.setCtx=function(n,t){if(n){var r=e.ctx=e.ctx||{};r[n]=t}},e.getCtx=function(n){return(e.ctx||{})[n]}}))}return e.__ieDyn=1,e}(),bi="CoreUtils.doPerf";function Ci(e,n,t,r,i){if(e){var a=e;if(a.getPerfMgr&&(a=a.getPerfMgr()),a){var o=void 0,s=a.getCtx(bi);try{if(o=a.create(n(),r,i),o){if(s&&o.setCtx&&(o.setCtx(xi.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(xi.ChildrenContextKey);u||(u=[],s.setCtx(xi.ChildrenContextKey,u)),u.push(o)}return a.setCtx(bi,o),t(o)}}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&a.fire(o),a.setCtx(bi,s)}}}return t()}var Ii=mr("plugin");function wi(e){return Ii.get(e,"state",{},!0)}function Si(e,n){for(var t,r=[],i=null,a=e.getNext();a;){var o=a.getPlugin();if(o){i&&ee(i.setNextPlugin)&&ee(o.processTelemetry)&&i.setNextPlugin(o);var s=!1;ee(o.isInitialized)?s=o.isInitialized():(t=wi(o),s=t.isInitialized),s||r.push(o),i=o,a=a.getNext()}}de(r,(function(r){var i=e.core();r.initialize(e.getCfg(),i,n,e.getNext()),t=wi(r),r.core||t.core||(t.core=i),t.isInitialized=!0,delete t.teardown}))}function ki(e){return e.sort((function(e,n){var t=0;if(n){var r=ee(n.processTelemetry);ee(e.processTelemetry)?t=r?e.priority-n.priority:1:r&&(t=-1)}else t=e?1:-1;return t}))}var _i="TelemetryPluginChain",Di=0;function Ei(e,n,t,r){var i=null,a=[];null!==r&&(i=r?function(e,n,t){for(;e;){if(e.getPlugin()===t)return e;e=e.getNext()}return Ai([t],n.config||{},n)}(e,t,r):e);var o={_next:function(){var e=i;if(i=e?e.getNext():null,!e){var n=a;n&&n.length>0&&(de(n,(function(e){try{e.func.call(e.self,e.args)}catch(e){En(t.logger,2,73,"Unexpected Exception during onComplete - "+dn(e))}})),a=[])}return e},ctx:{core:function(){return t},diagLog:function(){return kn(t,n)},getCfg:function(){return n},getExtCfg:s,getConfig:function(e,t,r){void 0===r&&(r=!1);var i,a=s(e,null);a&&!J(a[t])?i=a[t]:n&&!J(n[t])&&(i=n[t]);return J(i)?r:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){var n;for(;n=o._next();){var t=n.getPlugin();t&&e(t)}},onComplete:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];e&&a.push({func:e,self:Y(n)?o.ctx:n,args:t})}}};function s(e,t,r){var i;if(void 0===t&&(t={}),void 0===r&&(r=0),n){var a=n.extensionConfig;a&&e&&(i=a[e])}if(i){if(Q(t)&&0!==r){var o=Re(!0,t,i);n&&2===r&&te(t,(function(e){if(J(o[e])){var t=n[e];J(t)||(o[e]=t)}})),i=o}}else i=t;return i}return o}function Ni(e,n,t,r){var i=Ei(e,n,t,r),a=i.ctx;return a.processNext=function(e){var n=i._next();return n&&n.processTelemetry(e,a),!n},a.createNew=function(e,r){return void 0===e&&(e=null),ae(e)&&(e=Ai(e,n,t,r)),Ni(e||a.getNext(),n,t,r)},a}function Pi(e,n,t){var r=n.config||{},i=Ei(e,r,n,t),a=i.ctx;return a.processNext=function(e){var n=i._next();return n&&n.unload(a,e),!n},a.createNew=function(e,t){return void 0===e&&(e=null),ae(e)&&(e=Ai(e,r,n,t)),Pi(e||a.getNext(),n,t)},a}function Mi(e,n,t){var r=n.config||{},i=Ei(e,r,n,t),a=i.ctx;return a.processNext=function(e){return a.iterate((function(n){ee(n.update)&&n.update(a,e)}))},a.createNew=function(e,t){return void 0===e&&(e=null),ae(e)&&(e=Ai(e,r,n,t)),Mi(e||a.getNext(),n,t)},a}function Ai(e,n,t,r){var i=null,a=!r;if(ae(e)&&e.length>0){var o=null;de(e,(function(e){if(a||r!==e||(a=!0),a&&e&&ee(e.processTelemetry)){var s=function(e,n,t){var r,i=null,a=ee(e.processTelemetry),o=ee(e.setNextPlugin);r=e?e.identifier+"-"+e.priority+"-"+Di++:"Unknown-0-"+Di++;var s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:l,unload:f,update:d,_id:r,_setNext:function(e){i=e}};function u(){var r;return e&&ee(e._getTelCtx)&&(r=e._getTelCtx()),r||(r=Ni(s,n,t)),r}function c(n,t,a,o,s){var u=!1,c=e?e.identifier:_i,l=n._hasRun;return l||(l=n._hasRun={}),n.setNext(i),e&&Ci(n.core(),(function(){return c+":"+a}),(function(){l[r]=!0;try{var e=i?i._id:b;e&&(l[e]=!1),u=t(n)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||En(n.diagLog(),1,73,"Plugin ["+c+"] failed during "+a+" - "+dn(e)+", run flags: "+dn(l))}}),o,s),u}function l(n,t){function r(t){if(!e||!a)return!1;var r=wi(e);return!r.teardown&&!r.disabled&&(o&&e.setNextPlugin(i),e.processTelemetry(n,t),!0)}t=t||u(),c(t,r,"processTelemetry",(function(){return{item:n}}),!n.sync)||t.processNext(n)}function f(n,t){function r(){var r=!1;if(e){var i=wi(e),a=e.core||i.core;!e||a&&a!==n.core()||i.teardown||(i.core=null,i.teardown=!0,i.isInitialized=!1,e.teardown&&!0===e.teardown(n,t)&&(r=!0))}return r}c(n,r,"unload",(function(){}),t.isAsync)||n.processNext(t)}function d(n,t){function r(){var r=!1;if(e){var i=wi(e),a=e.core||i.core;!e||a&&a!==n.core()||i.teardown||e.update&&!0===e.update(n,t)&&(r=!0)}return r}c(n,r,"update",(function(){}),!1)||n.processNext(t)}return Ie(s)}(e,n,t);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?Ai([r],n,t):i}var Li=["req","rsp","hkErr","fnErr"];function Ri(e,n){if(e)for(var t=0;t<e.length&&!n(e[t],t);t++);}function qi(e,n,t,r,i){i>=0&&i<=2&&Ri(e,(function(e,a){var o=e.cbks,s=o[Li[i]];if(s){n.ctx=function(){var e=r[a]=r[a]||{};return e};try{s.apply(n.inst,t)}catch(e){var u=n.err;try{var c=o[Li[2]];c&&(n.err=e,c.apply(n.inst,t))}catch(e){}finally{n.err=u}}}}))}function Ui(e,n,t,r){var i=null;return e&&($(e,n)?i=e:t&&(i=Ui(W(e),n,r,!1))),i}function Fi(e,n,t,r){var i=t&&t._aiHooks;if(!i){i={i:0,n,f:t,h:[]};var a=function(e){return function(){var n,t=this,r=arguments,i=e.h,a=(n={},n.name=e.n,n.inst=t,n.ctx=null,n.set=c,n),o=[],s=u([a],r);function u(e,n){return Ri(n,(function(n){e.push(n)})),e}function c(e,n){r=u([],r),r[e]=n,s=u([a],r)}a.evt=Ze("event"),qi(i,a,s,o,0);var l=e.f;if(l)try{a.rslt=l.apply(t,r)}catch(e){throw a.err=e,qi(i,a,s,o,3),e}return qi(i,a,s,o,1),a.rslt}}(i);a._aiHooks=i,e[n]=a}var o={id:i.i,cbks:r,rm:function(){var e=this.id;Ri(i.h,(function(n,t){if(n.id===e)return i.h.splice(t,1),1}))}};return i.i++,i.h.push(o),o}function zi(e,n,t,r,a){if(void 0===r&&(r=!0),e&&n&&t){var o=Ui(e,n,r,a);if(o){var s=o[n];if(typeof s===i)return Fi(o,n,s,t)}}return null}function Hi(e,n,t,r,i){if(e&&n&&t){var a=Ui(e,n,r,i)||e;if(a)return Fi(a,n,a[n],t)}return null}function Bi(){var e=[];return{add:function(n){n&&e.push(n)},run:function(n,t){de(e,(function(e){try{e(n,t)}catch(e){En(n.diagLog(),2,73,"Unexpected error calling unload handler - "+dn(e))}})),e=[]}}}var Vi=function(){function e(){var n,t,i,a,o,s=this;function u(e){void 0===e&&(e=null);var n=e;if(!n){var r=t||Ni(null,{},s.core);n=i&&i.getPlugin?r.createNew(null,i.getPlugin):r.createNew(null,i)}return n}function c(e,n,r){e&&ke(e,w,[],null,J),!r&&n&&(r=n.getProcessTelContext().getNext());var a=i;i&&i.getPlugin&&(a=i.getPlugin()),s.core=n,t=Ni(r,e,n,a)}function l(){n=!1,s.core=null,t=null,i=null,o=[],a=Bi()}l(),(0,r.A)(e,s,(function(e){e.initialize=function(e,t,r,i){c(e,t,i),n=!0},e.teardown=function(n,t){var r,s=e.core;if(s&&(!n||s===n.core())){var u,c=!1,f=n||Pi(null,s,i&&i.getPlugin?i.getPlugin():i),d=t||(r={reason:0},r.isAsync=!1,r);return e._doTeardown&&!0===e._doTeardown(f,d,p)?u=!0:p(),u}function p(){if(!c){c=!0,a.run(f,t);var e=o;o=[],de(e,(function(e){e.rm()})),!0===u&&f.processNext(d),l()}}},e.update=function(n,t){var r=e.core;if(r&&(!n||r===n.core())){var a,o=!1,s=n||Mi(null,r,i&&i.getPlugin?i.getPlugin():i),u=t||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,u,l)?a=!0:l(),a}function l(){o||(o=!0,c(s.getCfg(),s.core(),s.getNext()))}},e._addHook=function(e){e&&(ae(e)?o=o.concat(e):o.push(e))},Me(e,"_addUnloadCb",(function(){return a}),"add")})),s.diagLog=function(e){return u(e).diagLog()},s.isInitialized=function(){return n},s.setInitialized=function(e){n=e},s.setNextPlugin=function(e){i=e},s.processNext=function(e,n){n?n.processNext(e):i&&ee(i.processTelemetry)&&i.processTelemetry(e,null)},s._getTelCtx=u}return e.__ieDyn=1,e}(),Oi="enableUnhandledPromiseRejectionTracking",ji="isBrowserLinkTrackingEnabled",Ki="sendPageViewPerformanceInternal",Xi="populatePageViewPerformanceEvent",Gi=null;var Wi=function(){function e(n,t,i,a){(0,r.A)(e,this,(function(e){var r,o=null,s=[],u=!1;function c(e){i&&i.flush(e)}function l(){o||(o=setTimeout((function(){o=null;var e=s.slice(0),n=!1;s=[],de(e,(function(e){e()?n=!0:s.push(e)})),s.length>0&&l(),n&&c(!0)}),100))}function f(e){s.push(e),l()}i&&(r=i.logger),e.trackPageView=function(e,i){var o=e.name;if(J(o)||"string"!=typeof o){var s=nn();o=e.name=s&&s.title||""}var l=e.uri;if(J(l)||"string"!=typeof l){var d=on();l=e.uri=d&&d.href||""}if(!a.isPerformanceTimingSupported())return n.sendPageViewInternal(e,i),c(!0),void(function(){if(null==Gi)try{Gi=!!(self&&self instanceof WorkerGlobalScope)}catch(e){Gi=!1}return Gi}()||En(r,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info."));var p,g,v=!1,m=a.getPerformanceTiming().navigationStart;m>0&&(p=vi(m,+new Date),a.shouldCollectDuration(p)||(p=void 0)),J(i)||J(i.duration)||(g=i.duration),!t&&isNaN(g)||(isNaN(g)&&(i||(i={}),i.duration=p),n.sendPageViewInternal(e,i),c(!0),v=!0);i||(i={}),f((function(){var t=!1;try{if(a.isPerformanceTimingDataReady()){t=!0;var s={name:o,uri:l};a[Xi](s),s.isValid||v?(v||(i.duration=s.durationMs,n.sendPageViewInternal(e,i)),u||(n[Ki](s,i),u=!0)):(i.duration=p,n.sendPageViewInternal(e,i))}else m>0&&vi(m,+new Date)>6e4&&(t=!0,v||(i.duration=6e4,n.sendPageViewInternal(e,i)))}catch(e){En(r,1,38,"trackPageView failed on page load calculation: "+Se(e),{exception:dn(e)})}return t}))},e.teardown=function(e,n){if(o){clearTimeout(o),o=null;var t=s.slice(0);s=[],de(t,(function(e){e()&&!0}))}}}))}return e.__ieDyn=1,e}(),Yi=36e5,Ji=["googlebot","adsbot-google","apis-google","mediapartners-google"];function Zi(){var e=sn();return e&&!!e.timing}function $i(){var e=sn(),n=e?e.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0}function Qi(){return Zi()?sn().timing:null}function ea(){return e=sn(),e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0?sn().getEntriesByType("navigation")[0]:null;var e}function na(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=rn()||{},r=t.userAgent,i=!1;if(r)for(var a=0;a<Ji.length;a++)i=i||-1!==r.toLowerCase().indexOf(Ji[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=Yi)return!1;return!0}var ta=function(){function e(n){var t=kn(n);(0,r.A)(e,this,(function(e){e[Xi]=function(n){n.isValid=!1;var r=ea(),i=Qi(),a=0,o=0,s=0,u=0,c=0;(r||i)&&(r?(a=r.duration,o=0===r.startTime?r.connectEnd:vi(r.startTime,r.connectEnd),s=vi(r.requestStart,r.responseStart),u=vi(r.responseStart,r.responseEnd),c=vi(r.responseEnd,r.loadEventEnd)):(a=vi(i.navigationStart,i.loadEventEnd),o=vi(i.navigationStart,i.connectEnd),s=vi(i.requestStart,i.responseStart),u=vi(i.responseStart,i.responseEnd),c=vi(i.responseEnd,i.loadEventEnd)),0===a?En(t,2,10,"error calculating page view performance.",{total:a,network:o,request:s,response:u,dom:c}):e.shouldCollectDuration(a,o,s,u,c)?a<Math.floor(o)+Math.floor(s)+Math.floor(u)+Math.floor(c)?En(t,2,8,"client performance math error.",{total:a,network:o,request:s,response:u,dom:c}):(n.durationMs=a,n.perfTotal=n.duration=Fe(a),n.networkConnect=Fe(o),n.sentRequest=Fe(s),n.receivedResponse=Fe(u),n.domProcessing=Fe(c),n.isValid=!0):En(t,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:a,network:o,request:s,response:u,dom:c}))},e.getPerformanceTiming=Qi,e.isPerformanceTimingSupported=Zi,e.isPerformanceTimingDataReady=$i,e.shouldCollectDuration=na}))}return e.__ieDyn=1,e}(),ra=function(){function e(n,t){var i="prevPageVisitData";(0,r.A)(e,this,(function(e){e.trackPreviousPageVisit=function(e,r){try{var a=function(e,t){var r=null;try{r=function(){var e=null;try{if(Kn()){var t=we(),r=Xn(n,i);r&&un()&&(e=cn().parse(r),e.pageVisitTime=t-e.pageVisitStartTime,Wn(n,i))}}catch(t){Nn(n,"Stop page visit timer failed: "+dn(t)),e=null}return e}(),function(e,t){try{if(Kn()){null!=Xn(n,i)&&Ne("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new ia(e,t),a=cn().stringify(r);Gn(n,i,a)}}catch(e){Nn(n,"Call to start failed: "+dn(e))}}(e,t)}catch(e){Nn(n,"Call to restart failed: "+dn(e)),r=null}return r}(e,r);a&&t(a.pageName,a.pageUrl,a.pageVisitTime)}catch(e){Nn(n,"Auto track page visit time failed, metric will not be collected: "+dn(e))}},Te(e,"_logger",(function(){return n})),Te(e,"pageVisitTimeTrackingHandler",(function(){return t}))}))}return e.__ieDyn=1,e}(),ia=function(e,n){this.pageVisitStartTime=we(),this.pageName=e,this.pageUrl=n},aa=function(e,n){var t=this,r={};t.start=function(n){void 0!==r[n]&&En(e,2,62,"start was called more than once for this event without calling stop.",{name:n,key:n},!0),r[n]=+new Date},t.stop=function(n,i,a,o){var s=r[n];if(isNaN(s))En(e,2,63,"stop was called without a corresponding start.",{name:n,key:n},!0);else{var u=+new Date,c=vi(s,u);t.action(n,i,c,a,o)}delete r[n],r[n]=void 0}};function oa(e,n){e&&e.dispatchEvent&&n&&e.dispatchEvent(n)}function sa(e,n){return e=e||n,e<6e4&&(e=6e4),e}function ua(e){return e||(e={}),e.sessionRenewalMs=sa(e.sessionRenewalMs,18e5),e.sessionExpirationMs=sa(e.sessionExpirationMs,864e5),e.disableExceptionTracking=Ue(e.disableExceptionTracking),e.autoTrackPageVisitTime=Ue(e.autoTrackPageVisitTime),e.overridePageViewDuration=Ue(e.overridePageViewDuration),e[Oi]=Ue(e[Oi]),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Ue(e.isStorageUseDisabled),e[ji]=Ue(e[ji]),e.enableAutoRouteTracking=Ue(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Ue(e.enableDebug),e.disableFlushOnBeforeUnload=Ue(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Ue(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e}function ca(e){Y(e.isStorageUseDisabled)||(e.isStorageUseDisabled?zn():(An=Bn(!0),Ln=Kn(!0)))}var la=function(e){function n(){var t,i,a,s,u,c,l,f,d,p,g,v,m,y,x=e.call(this)||this;x.identifier=$n,x.priority=180,x.autoRoutePVDelay=500;var T,b,C;return(0,r.A)(n,x,(function(e,n){var r=n._addHook;function x(n,t,r,i,a){e.diagLog().throwInternal(n,t,r,i,a)}function I(){t=null,i=null,a=null,s=null,u=null,c=null,l=!1,f=!1,d=!1,p=!1,g=!1,v=!1,m=!1,y=!1,0;var e=on(!0);T=e&&e.href||"",b=null,C=null}I(),e.getCookieMgr=function(){return jt(e.core)},e.processTelemetry=function(n,t){e.processNext(n,t)},e.trackEvent=function(n,t){try{var r=vt(n,mt.dataType,mt.envelopeType,e.diagLog(),t);e.core.track(r)}catch(e){x(2,39,"trackTrace failed, trace will not be collected: "+Se(e),{exception:dn(e)})}},e.startTrackEvent=function(e){try{t.start(e)}catch(e){x(1,29,"startTrackEvent failed, event will not be collected: "+Se(e),{exception:dn(e)})}},e.stopTrackEvent=function(e,n,r){try{t.stop(e,void 0,n,r)}catch(e){x(1,30,"stopTrackEvent failed, event will not be collected: "+Se(e),{exception:dn(e)})}},e.trackTrace=function(n,t){try{var r=vt(n,ht.dataType,ht.envelopeType,e.diagLog(),t);e.core.track(r)}catch(e){x(2,39,"trackTrace failed, trace will not be collected: "+Se(e),{exception:dn(e)})}},e.trackMetric=function(n,t){try{var r=vt(n,xt.dataType,xt.envelopeType,e.diagLog(),t);e.core.track(r)}catch(e){x(1,36,"trackMetric failed, metric will not be collected: "+Se(e),{exception:dn(e)})}},e.trackPageView=function(n,t){try{var r=n||{};a.trackPageView(r,h(h(h({},r.properties),r.measurements),t)),e.config.autoTrackPageVisitTime&&u.trackPreviousPageVisit(r.name,r.uri)}catch(e){x(1,37,"trackPageView failed, page view will not be collected: "+Se(e),{exception:dn(e)})}},e.sendPageViewInternal=function(n,t,r){var i=nn();i&&(n.refUri=void 0===n.refUri?i.referrer:n.refUri);var a=vt(n,Tt.dataType,Tt.envelopeType,e.diagLog(),t,r);e.core.track(a),0},e[Ki]=function(n,t,r){var i=vt(n,bt.dataType,bt.envelopeType,e.diagLog(),t,r);e.core.track(i)},e.trackPageViewPerformance=function(n,t){var r=n||{};try{s[Xi](r),e[Ki](r,t)}catch(e){x(1,37,"trackPageViewPerformance failed, page view will not be collected: "+Se(e),{exception:dn(e)})}},e.startTrackPage=function(e){try{if("string"!=typeof e){var n=nn();e=n&&n.title||""}i.start(e)}catch(e){x(1,31,"startTrackPage failed, page view may not be collected: "+Se(e),{exception:dn(e)})}},e.stopTrackPage=function(n,t,r,a){try{if("string"!=typeof n){var o=nn();n=o&&o.title||""}if("string"!=typeof t){var s=on();t=s&&s.href||""}i.stop(n,t,r,a),e.config.autoTrackPageVisitTime&&u.trackPreviousPageVisit(n,t)}catch(e){x(1,32,"stopTrackPage failed, page view will not be collected: "+Se(e),{exception:dn(e)})}},e.sendExceptionInternal=function(n,t,r){var i=n&&(n.exception||n.error)||oe(n)&&n||{name:n&&typeof n,message:n||rt};n=n||{};var a=new Et(e.diagLog(),i,n.properties||t,n.measurements,n.severityLevel,n.id).toInterface(),o=vt(a,Et.dataType,Et.envelopeType,e.diagLog(),t,r);e.core.track(o)},e.trackException=function(n,t){n&&!n.exception&&n.error&&(n.exception=n.error);try{e.sendExceptionInternal(n,t)}catch(e){x(1,35,"trackException failed, exception will not be collected: "+Se(e),{exception:dn(e)})}},e._onerror=function(n){var t=n&&n.error,r=n&&n.evt;try{if(!r){var i=Qe();i&&(r=i.event)}var a=n&&n.url||(nn()||{}).URL,o=n.errorSrc||"window.onerror@"+a+":"+(n.lineNumber||0)+":"+(n.columnNumber||0),s={errorSrc:o,url:a,lineNumber:n.lineNumber||0,columnNumber:n.columnNumber||0,message:n.message};ze(n.message,n.url,n.lineNumber,n.columnNumber,n.error)?function(n,t){var r=vt(n,Et.dataType,Et.envelopeType,e.diagLog(),t);e.core.track(r)}(Et.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,n.lineNumber||0,n.columnNumber||0,t,r,null,o),s):(n.errorSrc||(n.errorSrc=o),e.trackException({exception:n,severityLevel:3},s))}catch(e){var u=t?t.name+", "+t.message:"null";x(1,11,"_onError threw exception while logging error, error will not be collected: "+Se(e),{exception:dn(e),errorString:u})}},e.addTelemetryInitializer=function(n){if(e.core)return e.core.addTelemetryInitializer(n);c||(c=[]),c.push(n)},e.initialize=function(h,x,I,w){if(!e.isInitialized()){J(x)&&Ne("Error initializing"),n.initialize(h,x,I,w),h.storagePrefix&&Hn(h.storagePrefix);try{C=Ar(vr(e.identifier),x.evtNamespace&&x.evtNamespace()),c&&(de(c,(function(e){x.addTelemetryInitializer(e)})),c=null);var S=function(n){var t=Ni(null,n,e.core),r=e.identifier,i=ua(n),a=e.config=t.getExtCfg(r);void 0!==i&&te(i,(function(e,n){a[e]=t.getConfig(r,e,n),void 0===a[e]&&(a=n)}));return a}(h);ca(S),s=new ta(e.core),a=new Wi(e,S.overridePageViewDuration,e.core,s),u=new ra(e.diagLog(),(function(n,t,r){return function(n,t,r){var i={PageName:n,PageUrl:t};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(n,t,r)})),function(n,t){l=n[ji]||t[ji],function(){if(!f&&l){var n=["/browserLinkSignalR/","/__browserLink/"],t=function(e){if(l&&e.baseType===hi.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0};e.addTelemetryInitializer(t),f=!0}}()}(S,h),t=new aa(e.diagLog(),"trackEvent"),t.action=function(n,t,r,i,a){i||(i={}),a||(a={}),i.duration=r.toString(),e.trackEvent({name:n,properties:i,measurements:a})},i=new aa(e.diagLog(),"trackPageView"),i.action=function(n,t,r,i,a){J(i)&&(i={}),i.duration=r.toString();var o={name:n,uri:t,properties:i,measurements:a};e.sendPageViewInternal(o,i)},$e()&&(function(n){var t=Qe(),i=on(!0);g=n.disableExceptionTracking,g||v||n.autoExceptionInstrumented||(r(Hi(t,"onerror",{ns:C,rsp:function(n,t,r,i,a,o){g||!0===n.rslt||e._onerror(Et.CreateAutoException(t,r,i,a,o,n.evt))}},!1)),v=!0);!function(n,t,i){m=!0===n[Oi],m&&!y&&(r(Hi(t,"onunhandledrejection",{ns:C,rsp:function(n,t){m&&!0!==n.rslt&&e._onerror(Et.CreateAutoException(function(e){if(e&&e.reason){var n=e.reason;return!se(n)&&ee(n.toString)?n.toString():dn(n)}return e||""}(t),i?i.href:"",0,0,t,n.evt))}},!1)),y=!0,n.autoUnhandledPromiseInstrumented=y)}(n,t,i)}(S),function(n){var t=Qe(),i=on(!0);if(d=!0===n.enableAutoRouteTracking,t&&d&&an()){var a=an()?history:Ze("history");ee(a.pushState)&&ee(a.replaceState)&&typeof Event!==o&&function(n,t,i,a){var o=n.namePrefix||"";function s(){d&&oa(t,Qr(o+"locationchange"))}function u(){if(b?(T=b,b=a&&a.href||""):b=a&&a.href||"",d){var n=function(){var n=null;e.core&&e.core.getTraceCtx&&(n=e.core.getTraceCtx(!1));if(!n){var t=e.core.getPlugin(Jn);if(t){var r=t.plugin.context;r&&(n=mi(r.telemetryTrace))}}return n}();if(n){n.setTraceId(Br());var t="_unknown_";a&&a.pathname&&(t=a.pathname+(a.hash||"")),n.setName(ot(e.diagLog(),t))}setTimeout(function(n){e.trackPageView({refUri:n,properties:{duration:0}})}.bind(e,T),e.autoRoutePVDelay)}}p||(r(Hi(i,"pushState",{ns:C,rsp:function(){d&&(oa(t,Qr(o+"pushState")),oa(t,Qr(o+"locationchange")))}},!0)),r(Hi(i,"replaceState",{ns:C,rsp:function(){d&&(oa(t,Qr(o+"replaceState")),oa(t,Qr(o+"locationchange")))}},!0)),Lr(t,o+"popstate",s,C),Lr(t,o+"locationchange",u,C),p=!0)}(n,t,a,i)}}(S))}catch(n){throw e.setInitialized(!1),n}}},e._doTeardown=function(e,n){a&&a.teardown(e,n),Rr(window,null,null,C),I()},Te(e,"_pageViewManager",(function(){return a})),Te(e,"_pageViewPerformanceManager",(function(){return s})),Te(e,"_pageVisitTimeManager",(function(){return u})),Te(e,"_evtNamespace",(function(){return"."+C}))})),x}return x(n,e),n.Version="2.8.18",n.getDefaultConfig=ua,n}(Vi);function fa(e){var n="ai."+e+".";return function(e){return n+e}}var da,pa=fa("application"),ga=fa("device"),va=fa("location"),ma=fa("operation"),ha=fa("session"),ya=fa("user"),xa=fa("cloud"),Ta=fa("internal"),ba=function(e){function n(){return e.call(this)||this}return x(n,e),n}((da={applicationVersion:pa("ver"),applicationBuild:pa("build"),applicationTypeId:pa("typeId"),applicationId:pa("applicationId"),applicationLayer:pa("layer"),deviceId:ga("id"),deviceIp:ga("ip"),deviceLanguage:ga("language"),deviceLocale:ga("locale"),deviceModel:ga("model"),deviceFriendlyName:ga("friendlyName"),deviceNetwork:ga("network"),deviceNetworkName:ga("networkName"),deviceOEMName:ga("oemName"),deviceOS:ga("os"),deviceOSVersion:ga("osVersion"),deviceRoleInstance:ga("roleInstance"),deviceRoleName:ga("roleName"),deviceScreenResolution:ga("screenResolution"),deviceType:ga("type"),deviceMachineName:ga("machineName"),deviceVMName:ga("vmName"),deviceBrowser:ga("browser"),deviceBrowserVersion:ga("browserVersion"),locationIp:va("ip"),locationCountry:va("country"),locationProvince:va("province"),locationCity:va("city"),operationId:ma("id"),operationName:ma("name"),operationParentId:ma("parentId"),operationRootId:ma("rootId"),operationSyntheticSource:ma("syntheticSource"),operationCorrelationVector:ma("correlationVector"),sessionId:ha("id"),sessionIsFirst:ha("isFirst"),sessionIsNew:ha("isNew"),userAccountAcquisitionDate:ya("accountAcquisitionDate"),userAccountId:ya("accountId"),userAgent:ya("userAgent"),userId:ya("id"),userStoreRegion:ya("storeRegion"),userAuthUserId:ya("authUserId"),userAnonymousUserAcquisitionDate:ya("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ya("authUserAcquisitionDate"),cloudName:xa("name"),cloudRole:xa("role"),cloudRoleVer:xa("roleVer"),cloudRoleInstance:xa("roleInstance"),cloudEnvironment:xa("environment"),cloudLocation:xa("location"),cloudDeploymentUnit:xa("deploymentUnit"),internalNodeName:Ta("nodeName"),internalSdkVersion:Ta("sdkVersion"),internalAgentVersion:Ta("agentVersion"),internalSnippet:Ta("snippet"),internalSdkSrc:Ta("sdkSrc")},function(){var e=this;da&&te(da,(function(n,t){e[n]=t}))})),Ca={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ia=new ba,wa=function(e,n,t){var r=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i.name=ot(e,t)||rt,i.data=n,i.time=fe(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===r.sampleRate?4:1},tags:1,data:1}},Sa=function(e,n){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=n},ka="disableInstrumentationKeyValidation",_a="true";function Da(e,n,t){return ke(e,n,t,Ee)}function Ea(e,n,t){J(e)||te(e,(function(e,r){ue(r)?t[e]=r:se(r)?n[e]=r:un()&&(n[e]=cn().stringify(r))}))}function Na(e,n){J(e)||te(e,(function(t,r){e[t]=r||n}))}function Pa(e,n,t,r){var i=new wa(e,r,n);Da(i,"sampleRate",t.sampleRate),(t.baseData||{}).startTime&&(i.time=fe(t.baseData.startTime)),i.iKey=t.iKey;var a=t.iKey.replace(/-/g,"");return i.name=i.name.replace("{0}",a),function(e,n,t){var r=t.tags=t.tags||{},i=n.ext=n.ext||{},a=n.tags=n.tags||[],o=i.user;o&&(Da(r,Ia.userAuthUserId,o.authId),Da(r,Ia.userId,o.id||o.localId));var s=i.app;s&&Da(r,Ia.sessionId,s.sesId);var u=i.device;u&&(Da(r,Ia.deviceId,u.id||u.localId),Da(r,Ia.deviceType,u.deviceClass),Da(r,Ia.deviceIp,u.ip),Da(r,Ia.deviceModel,u.model),Da(r,Ia.deviceType,u.deviceType));var c=n.ext.web;if(c){Da(r,Ia.deviceLanguage,c.browserLang),Da(r,Ia.deviceBrowserVersion,c.browserVer),Da(r,Ia.deviceBrowser,c.browser);var l=t.data=t.data||{},f=l.baseData=l.baseData||{},d=f.properties=f.properties||{};Da(d,"domain",c.domain),Da(d,"isManual",c.isManual?_a:null),Da(d,"screenRes",c.screenRes),Da(d,"userConsent",c.userConsent?_a:null)}var p=i.os;p&&Da(r,Ia.deviceOS,p.name);var g=i.trace;g&&(Da(r,Ia.operationParentId,g.parentID),Da(r,Ia.operationName,ot(e,g.name)),Da(r,Ia.operationId,g.traceID));for(var v={},m=a.length-1;m>=0;m--){var y=a[m];te(y,(function(e,n){v[e]=n})),a.splice(m,1)}te(a,(function(e,n){v[e]=n}));var x=h(h({},r),v);x[Ia.internalSdkVersion]||(x[Ia.internalSdkVersion]=ot(e,"javascript:".concat(Aa.Version),64)),t.tags=Le(x)}(e,t,i),t.tags=t.tags||[],Le(i)}function Ma(e,n){J(n.baseData)&&En(e,1,46,"telemetryItem.baseData cannot be null.")}var Aa={Version:"2.8.18"};function La(e,n,t){Ma(e,n);var r={},i={};n.baseType!==mt.dataType&&(r.baseTypeSource=n.baseType),n.baseType===mt.dataType?(r=n.baseData.properties||{},i=n.baseData.measurements||{}):n.baseData&&Ea(n.baseData,r,i),Ea(n.data,r,i),J(t)||Na(r,t);var a=n.baseData.name,o=new mt(e,a,r,i),s=new Sa(mt.dataType,o);return Pa(e,mt.envelopeType,n,s)}function Ra(e,n){Rr(e,null,null,n)}var qa,Ua=function(){function e(n,t){var i=[],a=!1;this._get=function(){return i},this._set=function(e){return i=e,i},(0,r.A)(e,this,(function(e){e.enqueue=function(r){e.count()>=t.eventsLimitInMem()?a||(En(n,2,105,"Maximum in-memory buffer size reached: "+e.count(),!0),a=!0):i.push(r)},e.count=function(){return i.length},e.size=function(){for(var e=i.length,n=0;n<i.length;n++)e+=i[n].length;return t.emitLineDelimitedJson()||(e+=2),e},e.clear=function(){i=[],a=!1},e.getItems=function(){return i.slice(0)},e.batchPayloads=function(e){if(e&&e.length>0){var n=t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]";return n}return null}}))}return e.__ieDyn=1,e}(),Fa=function(e){function n(t,i){var a=e.call(this,t,i)||this;return(0,r.A)(n,a,(function(e,n){e.markAsSent=function(e){n.clear()},e.clearSent=function(e){}})),a}return x(n,e),n.__ieDyn=1,n}(Ua),za=function(e){function n(t,i){var a=e.call(this,t,i)||this,o=!1,s=i.bufferOverride()||{getItem:Xn,setItem:Gn},u=s.getItem,c=s.setItem;return(0,r.A)(n,a,(function(e,r){var a=d(n.BUFFER_KEY),s=d(n.SENT_BUFFER_KEY),l=e._set(a.concat(s));function f(e,n){var t=[];return de(n,(function(n){ee(n)||-1!==pe(e,n)||t.push(n)})),t}function d(e){var n=e;try{n=i.namePrefix&&i.namePrefix()?i.namePrefix()+"_"+n:n;var r=u(t,n);if(r){var a=cn().parse(r);if(se(a)&&(a=cn().parse(a)),a&&ae(a))return a}}catch(e){En(t,1,42," storage key: "+n+", "+Se(e),{exception:dn(e)})}return[]}function p(e,n){var r=e;try{r=i.namePrefix&&i.namePrefix()?i.namePrefix()+"_"+r:r;var a=JSON.stringify(n);c(t,r,a)}catch(e){c(t,r,JSON.stringify([])),En(t,2,41," storage key: "+r+", "+Se(e)+". Buffer cleared",{exception:dn(e)})}}l.length>n.MAX_BUFFER_SIZE&&(l.length=n.MAX_BUFFER_SIZE),p(n.SENT_BUFFER_KEY,[]),p(n.BUFFER_KEY,l),e.enqueue=function(i){e.count()>=n.MAX_BUFFER_SIZE?o||(En(t,2,67,"Maximum buffer size reached: "+e.count(),!0),o=!0):(r.enqueue(i),p(n.BUFFER_KEY,e._get()))},e.clear=function(){r.clear(),p(n.BUFFER_KEY,e._get()),p(n.SENT_BUFFER_KEY,[]),o=!1},e.markAsSent=function(r){p(n.BUFFER_KEY,e._set(f(r,e._get())));var i=d(n.SENT_BUFFER_KEY);i instanceof Array&&r instanceof Array&&(i=i.concat(r),i.length>n.MAX_BUFFER_SIZE&&(En(t,1,67,"Sent buffer reached its maximum size: "+i.length,!0),i.length=n.MAX_BUFFER_SIZE),p(n.SENT_BUFFER_KEY,i))},e.clearSent=function(e){var t=d(n.SENT_BUFFER_KEY);t=f(e,t),p(n.SENT_BUFFER_KEY,t)}})),a}return x(n,e),n.BUFFER_KEY="AI_buffer",n.SENT_BUFFER_KEY="AI_sentBuffer",n.MAX_BUFFER_SIZE=2e3,n}(Ua),Ha=function(){function e(n){(0,r.A)(e,this,(function(e){function t(e,a){var o={};if(!e)return En(n,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),o;if(e.__aiCircularRefCheck)return En(n,2,50,"Circular reference detected while serializing object",{name:a},!0),o;if(!e.aiDataContract){if("measurements"===a)o=i(e,"number",a);else if("properties"===a)o=i(e,"string",a);else if("tags"===a)o=i(e,"string",a);else if(ae(e))o=r(e,a);else{En(n,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{cn().stringify(e),o=e}catch(e){En(n,1,48,e&&ee(e.toString)?e.toString():"Error serializing object",null,!0)}}return o}return e.__aiCircularRefCheck=!0,te(e.aiDataContract,(function(i,s){var u=ee(s)?1&s():1&s,c=ee(s)?4&s():4&s,l=2&s,f=void 0!==e[i],d=Q(e[i])&&null!==e[i];if(!u||f||l){if(!c){var p=void 0;p=d?l?r(e[i],i):t(e[i],i):e[i],void 0!==p&&(o[i]=p)}}else En(n,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:a})})),delete e.__aiCircularRefCheck,o}function r(e,r){var i;if(e)if(ae(e)){i=[];for(var a=0;a<e.length;a++){var o=e[a],s=t(o,r+"["+a+"]");i.push(s)}}else En(n,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,t,r){var i;return e&&(i={},te(e,(function(e,a){if("string"===t)void 0===a?i[e]="undefined":null===a?i[e]="null":a.toString?i[e]=a.toString():i[e]="invalid field: toString() is not defined.";else if("number"===t)if(void 0===a)i[e]="undefined";else if(null===a)i[e]="null";else{var o=parseFloat(a);isNaN(o)?i[e]="NaN":i[e]=o}else i[e]="invalid field: "+r+" is of unknown type.",En(n,1,i[e],null,!0)}))),i}e.serialize=function(e){var r=t(e,"root");try{return cn().stringify(r)}catch(e){En(n,1,48,e&&ee(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),Ba=function(){function e(){}return e.prototype.getHashCodeScore=function(n){var t=this.getHashCode(n)/e.INT_MAX_VALUE;return 100*t},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e.length<8;)e=e.concat(e);for(var n=5381,t=0;t<e.length;++t)n=(n<<5)+n+e.charCodeAt(t),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e}(),Va=function(){var e=new Ba,n=new ba;this.getSamplingScore=function(t){var r=0;return r=t.tags&&t.tags[n.userId]?e.getHashCodeScore(t.tags[n.userId]):t.ext&&t.ext.user&&t.ext.user.id?e.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[n.operationId]?e.getHashCodeScore(t.tags[n.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?e.getHashCodeScore(t.ext.telemetryTrace.traceID):100*Math.random(),r}},Oa=function(){function e(e,n){this.INT_MAX_VALUE=2147483647;var t=n||kn(null);(e>100||e<0)&&(t.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Va}return e.prototype.isSampledIn=function(e){var n,t=this.sampleRate;return null==t||t>=100||(e.baseType===xt.dataType||(n=this.samplingScoreGenerator.getSamplingScore(e)<t,n))},e}();function ja(e){try{return e.responseText}catch(e){}return null}function Ka(){var e,n;return e={endpointUrl:function(){return nt+tt}},e.emitLineDelimitedJson=function(){return!1},e.maxBatchInterval=function(){return 15e3},e.maxBatchSizeInBytes=function(){return 102400},e.disableTelemetry=function(){return!1},e.enableSessionStorageBuffer=function(){return!0},e.bufferOverride=function(){return!1},e.isRetryDisabled=function(){return!1},e.isBeaconApiDisabled=function(){return!0},e.disableXhr=function(){return!1},e.onunloadDisableFetch=function(){return!1},e.onunloadDisableBeacon=function(){return!1},e.instrumentationKey=function(){return n},e.namePrefix=function(){return n},e.samplingPercentage=function(){return 100},e.customHeaders=function(){},e.convertUndefined=function(){return n},e.eventsLimitInMem=function(){return 1e4},e.retryCodes=function(){return null},e}var Xa=(qa={},qa[mt.dataType]=La,qa[ht.dataType]=function(e,n,t){Ma(e,n);var r=n.baseData.message,i=n.baseData.severityLevel,a=n.baseData.properties||{},o=n.baseData.measurements||{};Ea(n.data,a,o),J(t)||Na(a,t);var s=new ht(e,r,i,a,o),u=new Sa(ht.dataType,s);return Pa(e,ht.envelopeType,n,u)},qa[Tt.dataType]=function(e,n,t){var r;Ma(e,n);var i=n.baseData;J(i)||J(i.properties)||J(i.properties.duration)?J(n.data)||J(n.data.duration)||(r=n.data.duration,delete n.data.duration):(r=i.properties.duration,delete i.properties.duration);var a,o=n.baseData;((n.ext||{}).trace||{}).traceID&&(a=n.ext.trace.traceID);var s=o.id||a,u=o.name,c=o.uri,l=o.properties||{},f=o.measurements||{};if(J(o.refUri)||(l.refUri=o.refUri),J(o.pageType)||(l.pageType=o.pageType),J(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn.toString()),!J(o.properties)){var d=o.properties;te(d,(function(e,n){l[e]=n}))}Ea(n.data,l,f),J(t)||Na(l,t);var p=new Tt(e,u,c,r,l,f,s),g=new Sa(Tt.dataType,p);return Pa(e,Tt.envelopeType,n,g)},qa[bt.dataType]=function(e,n,t){Ma(e,n);var r=n.baseData,i=r.name,a=r.uri||r.url,o=r.properties||{},s=r.measurements||{};Ea(n.data,o,s),J(t)||Na(o,t);var u=new bt(e,i,a,void 0,o,s,r),c=new Sa(bt.dataType,u);return Pa(e,bt.envelopeType,n,c)},qa[Et.dataType]=function(e,n,t){Ma(e,n);var r=n.baseData.measurements||{},i=n.baseData.properties||{};Ea(n.data,i,r),J(t)||Na(i,t);var a=n.baseData,o=Et.CreateFromInterface(e,a,i,r),s=new Sa(Et.dataType,o);return Pa(e,Et.envelopeType,n,s)},qa[xt.dataType]=function(e,n,t){Ma(e,n);var r=n.baseData,i=r.properties||{},a=r.measurements||{};Ea(n.data,i,a),J(t)||Na(i,t);var o=new xt(e,r.name,r.average,r.sampleCount,r.min,r.max,r.stdDev,i,a),s=new Sa(xt.dataType,o);return Pa(e,xt.envelopeType,n,s)},qa[hi.dataType]=function(e,n,t){Ma(e,n);var r=n.baseData.measurements||{},i=n.baseData.properties||{};Ea(n.data,i,r),J(t)||Na(i,t);var a=n.baseData;if(J(a))return Nn(e,"Invalid input for dependency data"),null;var o=a.properties&&a.properties[et]?a.properties[et]:"GET",s=new hi(e,a.id,a.target,a.name,a.duration,a.success,a.responseCode,o,a.type,a.correlationContext,i,r),u=new Sa(hi.dataType,s);return Pa(e,hi.envelopeType,n,u)},qa),Ga=function(e){function n(){var t,i,a,o,s,u,c,l=e.call(this)||this;l.priority=1001,l.identifier=Zn,l._senderConfig=Ka();var f,d,p,g,v,m=0;return(0,r.A)(n,l,(function(e,r){function h(n,r,i,a,o,s){var u=null;if(e._appId||(u=k(s),u&&u.appId&&(e._appId=u.appId)),(n<200||n>=300)&&0!==n){if((301===n||307===n||308===n)&&!y(i))return void e._onError(r,o);!e._senderConfig.isRetryDisabled()&&N(n)?(_(r),En(e.diagLog(),2,40,". Response code "+n+". Will retry to send "+r.length+" items.")):e._onError(r,o)}else if(p&&!p.isOnline()){if(!e._senderConfig.isRetryDisabled()){_(r,10),En(e.diagLog(),2,40,". Offline - Response Code: ".concat(n,". Offline status: ").concat(!p.isOnline(),". Will retry to send ").concat(r.length," items."))}}else y(i),206===n?(u||(u=k(s)),u&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,u):e._onError(r,o)):(t=0,e._onSuccess(r,a))}function y(n){return!(u>=10)&&(!J(n)&&""!==n&&n!==e._senderConfig.endpointUrl()&&(e._senderConfig.endpointUrl=function(){return n},++u,!0))}function x(e,n){d?d(e,!1):b(e,n)}function T(n){var t=rn(),r=e._buffer,i=e._senderConfig.endpointUrl(),a=e._buffer.batchPayloads(n),o=new Blob([a],{type:"text/plain;charset=UTF-8"}),s=t.sendBeacon(i,o);return s&&(r.markAsSent(n),e._onSuccess(n,n.length)),s}function b(n,t){if(ae(n)&&n.length>0&&!T(n)){for(var r=[],i=0;i<n.length;i++){var a=n[i];T([a])||r.push(a)}r.length>0&&(f&&f(r,!0),En(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function C(n,t){var r=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{r[Qn]=!0}catch(e){}r.open("POST",i,t),r.setRequestHeader("Content-type","application/json"),di(i)&&r.setRequestHeader(ti[6],ti[7]),de(xe(c),(function(e){r.setRequestHeader(e,c[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,n,n.length)},r.onerror=function(t){return e._onError(n,P(r),t)};var a=e._buffer.batchPayloads(n);r.send(a),e._buffer.markAsSent(n)}function I(n,t){if(ae(n)){for(var r=n.length,i=0;i<n.length;i++)r+=n[i].length;m+r<=65e3?S(n,!1):pn()?b(n):(f&&f(n,!0),En(e.diagLog(),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function w(e,n){S(e,!0)}function S(n,t){var r,i=e._senderConfig.endpointUrl(),a=e._buffer.batchPayloads(n),o=new Blob([a],{type:"application/json"}),s=new Headers,u=a.length,l=!1,f=!1;di(i)&&s.append(ti[6],ti[7]),de(xe(c),(function(e){s.append(e,c[e])}));var d=(r={method:"POST",headers:s,body:o},r[Qn]=!0,r);t||(d.keepalive=!0,l=!0,m+=u);var p=new Request(i,d);try{p[Qn]=!0}catch(e){}e._buffer.markAsSent(n);try{fetch(p).then((function(r){t||(m-=u,u=0),f||(f=!0,r.ok?r.text().then((function(e){h(r.status,n,r.url,n.length,r.statusText,e)})):e._onError(n,r.statusText))})).catch((function(r){t||(m-=u,u=0),f||(f=!0,e._onError(n,r.message))}))}catch(t){f||e._onError(n,dn(t))}l&&!f&&(f=!0,e._onSuccess(n,n.length))}function k(n){try{if(n&&""!==n){var t=cn().parse(n);if(t&&t.itemsReceived&&t.itemsReceived>=t.itemsAccepted&&t.itemsReceived-t.itemsAccepted===t.errors.length)return t}}catch(t){En(e.diagLog(),1,43,"Cannot parse the response. "+Se(t),{response:n})}return null}function _(n,r){if(void 0===r&&(r=1),n&&0!==n.length){var a=e._buffer;a.clearSent(n),t++;for(var o=0,s=n;o<s.length;o++){var u=s[o];a.enqueue(u)}!function(e){var n,r=10;if(t<=1)n=r;else{var a=(Math.pow(2,t)-1)/2,o=Math.floor(Math.random()*a*r)+1;o*=e,n=Math.max(Math.min(o,3600),r)}var s=we()+1e3*n;i=s}(r),D()}}function D(){if(!o&&!a){var n=i?Math.max(0,i-we()):0,t=Math.max(e._senderConfig.maxBatchInterval(),n);o=setTimeout((function(){o=null,e.triggerSend(!0,null,1)}),t)}}function E(){clearTimeout(o),o=null,i=null}function N(e){return J(v)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:v.length&&pe(v,e)>-1}function P(e,n){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+ja(e)||0:n}function M(n,t){var r=e._buffer,i=Qe(),a=new XDomainRequest;a.onload=function(){return e._xdrOnLoad(a,n)},a.onerror=function(t){return e._onError(n,A(a),t)};var o=i&&i.location&&i.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return En(e.diagLog(),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void r.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");a.open("POST",s);var u=r.batchPayloads(n);a.send(u),r.markAsSent(n)}function A(e,n){return e?"XDomainRequest,Response:"+ja(e)||0:n}function L(){e._sender=null,e._buffer=null,e._appId=null,e._sample=null,c={},p=null,t=0,i=null,null,a=!1,o=null,s=null,u=0,m=0,f=null,d=null,g=null}L(),e.pause=function(){E(),a=!0},e.resume=function(){a&&(a=!1,i=null,e._buffer.size()>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),D())},e.flush=function(n,t,r){if(void 0===n&&(n=!0),!a){E();try{e.triggerSend(n,null,r||1)}catch(n){En(e.diagLog(),1,22,"flush failed, telemetry will not be collected: "+Se(n),{exception:dn(n)})}}},e.onunloadFlush=function(){if(!a)if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!pn())e.flush();else try{e.triggerSend(!0,x,2)}catch(n){En(e.diagLog(),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Se(n),{exception:dn(n)})}},e.addHeader=function(e,n){c[e]=n},e.initialize=function(n,a,o,c){e.isInitialized()&&En(e.diagLog(),1,28,"Sender is already initialized"),r.initialize(n,a,o,c);var m=e._getTelCtx(),h=e.identifier;s=new Ha(a.logger),t=0,i=null,0,e._sender=null,u=0;var y=e.diagLog();g=Ar(vr("Sender"),a.evtNamespace&&a.evtNamespace()),p=function(e){var n,t=nn(),r=rn(),i=!1,a=!0,o=Ar(vr("OfflineListener"),e);try{if(u(Qe())&&(i=!0),t){var s=t.body||t;s.ononline&&u(s)&&(i=!0)}i&&r&&!J(r.onLine)&&(a=r.onLine)}catch(e){i=!1}function u(e){var n=!1;return e&&(n=Lr(e,"online",c,o),n&&Lr(e,"offline",l,o)),n}function c(){a=!0}function l(){a=!1}return n={},n.isOnline=function(){var e=!0;return i?e=a:r&&!J(r.onLine)&&(e=r.onLine),e},n.isListening=function(){return i},n.unload=function(){var e=Qe();if(e&&i){if(Ra(e,o),t){var n=t.body||t;Y(n.ononline)||Ra(n,o)}i=!1}},n}(g);var x=Ka();te(x,(function(n,t){e._senderConfig[n]=function(){var e=m.getConfig(h,n,t());return e||"endpointUrl"!==n||(e=t()),e}})),v=e._senderConfig.retryCodes(),n.storagePrefix&&Hn(n.storagePrefix);var T=e._senderConfig.enableSessionStorageBuffer()&&!(!e._senderConfig.bufferOverride()&&!Kn());e._buffer=T?new za(y,e._senderConfig):new Fa(y,e._senderConfig),e._sample=new Oa(e._senderConfig.samplingPercentage(),y),function(e){var n=!J(e[ka])&&e[ka];if(n)return!0;var t="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(t);return r.test(e.instrumentationKey)}(n)||En(y,1,100,"Invalid Instrumentation key "+n.instrumentationKey),!di(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&de(e._senderConfig.customHeaders(),(function(e){l.addHeader(e.header,e.value)}));var S=e._senderConfig,k=null;!S.disableXhr()&&vn()?k=M:!S.disableXhr()&&mn()&&(k=C),!k&&gn()&&(k=w),f=k||C,!S.isBeaconApiDisabled()&&pn()&&(k=b),e._sender=k||C,d=!S.onunloadDisableFetch()&&gn(!0)?I:pn()?b:!S.disableXhr()&&vn()?M:!S.disableXhr()&&mn()?C:f},e.processTelemetry=function(t,r){r=e._getTelCtx(r);var i,a=r.diagLog();try{if(e._senderConfig.disableTelemetry())return;if(!t)return void En(a,1,7,"Cannot send empty telemetry");if(t.baseData&&!t.baseType)return void En(a,1,70,"Cannot send telemetry without baseData and baseType");if(t.baseType||(t.baseType="EventData"),!e._sender)return void En(a,1,28,"Sender was not initialized");if(i=t,!e._sample.isSampledIn(i))return void En(a,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});t.sampleRate=e._sample.sampleRate;var o=e._senderConfig.convertUndefined()||void 0,u=t.iKey||e._senderConfig.instrumentationKey(),c=n.constructEnvelope(t,u,a,o);if(!c)return void En(a,1,47,"Unable to create an AppInsights envelope");var l=!1;if(t.tags&&t.tags.ProcessLegacy&&(de(t.tags.ProcessLegacy,(function(e){try{e&&!1===e(c)&&(l=!0,Nn(a,"Telemetry processor check returns false"))}catch(e){En(a,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Se(e),{exception:dn(e)},!0)}})),delete t.tags.ProcessLegacy),l)return;var f=s.serialize(c),d=e._buffer,g=d.size();g+f.length>e._senderConfig.maxBatchSizeInBytes()&&(p&&!p.isOnline()||e.triggerSend(!0,null,10)),d.enqueue(f),D()}catch(e){En(a,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Se(e),{exception:dn(e)})}e.processNext(t,r)},e._xhrReadyStateChange=function(e,n,t){4===e.readyState&&h(e.status,n,e.responseURL,t,P(e),ja(e)||e.response)},e.triggerSend=function(n,t,r){if(void 0===n&&(n=!0),!a)try{var i=e._buffer;if(e._senderConfig.disableTelemetry())i.clear();else{if(i.count()>0){var o=i.getItems();!function(n,t){var r=function(){var n="getNotifyMgr";if(e.core[n])return e.core[n]();return e.core._notificationManager}();if(r&&r.eventsSendRequest)try{r.eventsSendRequest(n,t)}catch(n){En(e.diagLog(),1,74,"send request notification failed: "+Se(n),{exception:dn(n)})}}(r||0,n),t?t.call(e,o,n):e._sender(o,n)}+new Date}E()}catch(n){var s=fn();(!s||s>9)&&En(e.diagLog(),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Se(n),{exception:dn(n)})}},e._doTeardown=function(n,t){e.onunloadFlush(),p.unload(),L()},e._onError=function(n,t,r){En(e.diagLog(),2,26,"Failed to send telemetry.",{message:t}),e._buffer&&e._buffer.clearSent(n)},e._onPartialSuccess=function(n,t){for(var r=[],i=[],a=t.errors.reverse(),o=0,s=a;o<s.length;o++){var u=s[o],c=n.splice(u.index,1)[0];N(u.statusCode)?i.push(c):r.push(c)}n.length>0&&e._onSuccess(n,t.itemsAccepted),r.length>0&&e._onError(r,P(null,["partial success",t.itemsAccepted,"of",t.itemsReceived].join(" "))),i.length>0&&(_(i),En(e.diagLog(),2,40,"Partial success. Delivered: "+n.length+", Failed: "+r.length+". Will retry to send "+i.length+" our of "+t.itemsReceived+" items"))},e._onSuccess=function(n,t){e._buffer&&e._buffer.clearSent(n)},e._xdrOnLoad=function(n,r){var i=ja(n);if(!n||i+""!="200"&&""!==i){var a=k(i);a&&a.itemsReceived&&a.itemsReceived>a.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(r,a):e._onError(r,A(n))}else t=0,e._onSuccess(r,0)}})),l}return x(n,e),n.constructEnvelope=function(e,n,t,r){var i;i=n===e.iKey||J(n)?e:h(h({},e),{iKey:n});var a=Xa[i.baseType]||La;return a(t,i,r)},n}(Vi);function Wa(e){if(!e)return{};var n=e.split(";"),t=ve(n,(function(e,n){var t=n.split("=");if(2===t.length){var r=t[0].toLowerCase(),i=t[1];e[r]=i}return e}),{});if(xe(t).length>0){if(t.endpointsuffix){var r=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+r+"dc."+t.endpointsuffix,re(t.ingestionendpoint,"/")&&(t.ingestionendpoint=t.ingestionendpoint.slice(0,-1))}t.ingestionendpoint=t.ingestionendpoint||nt}return t}Pn({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),function(){function e(){}e.getConfig=function(e,n,t,r){var i;return void 0===r&&(r=!1),i=t&&e.extensionConfig&&e.extensionConfig[t]&&!J(e.extensionConfig[t][n])?e.extensionConfig[t][n]:e[n],J(i)?r:i}}();var Ya=500;function Ja(e,n,t){n&&ae(n)&&n.length>0&&(n=n.sort((function(e,n){return e.priority-n.priority})),de(n,(function(e){e.priority<Ya&&Ne("Channel has invalid priority - "+e.identifier)})),e.push({queue:Ie(n),chain:Ai(n,t.config,t)}))}var Za=function(e){function n(){var t,i,a=e.call(this)||this;function o(){t=0,i=[]}return a.identifier="TelemetryInitializerPlugin",a.priority=199,o(),(0,r.A)(n,a,(function(e,n){e.addTelemetryInitializer=function(e){var n={id:t++,fn:e};i.push(n);var r={remove:function(){de(i,(function(e,t){if(e.id===n.id)return i.splice(t,1),-1}))}};return r},e.processTelemetry=function(n,t){for(var r=!1,a=i.length,o=0;o<a;++o){var s=i[o];if(s)try{if(!1===s.fn.apply(null,[n])){r=!0;break}}catch(e){En(t.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Se(e),{exception:dn(e)},!0)}}r||e.processNext(n,t)},e._doTeardown=function(){o()}})),a}return x(n,e),n.__ieDyn=1,n}(Vi),$a="Plugins must provide initialize method",Qa="SDK is still unloading...",eo={loggingLevelConsole:1};function no(e,n){return new Ti(n)}function to(e,n){var t=!1;return de(n,(function(n){if(n===e)return t=!0,-1})),t}var ro=function(){function e(){var n,t,i,a,o,s,u,c,l,f,d,p,g,v,h,y,x,b,S,k,_=0,D=!1;(0,r.A)(e,this,(function(e){function r(t){if(!_&&!D){var r=t||e.logger&&e.logger.queue.length>0;if(r){var i=De(n.diagnosticLogInterval);i&&i>0||(i=1e4),_=setInterval((function(){clearInterval(_),_=0,R()}),i)}}return _}function E(){t=!1,n=Re(!0,{},eo),e.config=n,e.logger=new _n(n),e._extensions=[],h=new Za,i=[],a=null,o=null,s=null,u=null,c=null,f=null,l=[],d=null,p=null,g=null,v=!1,y=null,x=vr("AIBaseCore",!0),b=Bi(),k=null}function N(){var t=Ni(A(),n,e);return t.onComplete(r),t}function P(t){var i=function(e,n,t){var r,i=[],a={};return de(t,(function(t){(J(t)||J(t.initialize))&&Ne($a);var r=t.priority,o=t.identifier;t&&r&&(J(a[r])?a[r]=o:Nn(e,"Two extensions have same priority #"+r+" - "+a[r]+", "+o)),(!r||r<n)&&i.push(t)})),r={all:t},r.core=i,r}(e.logger,Ya,l);f=i.core,c=null;var a=i.all;if(g=Ie(function(e,n,t){var r=[];if(e&&de(e,(function(e){return Ja(r,e,t)})),n){var i=[];de(n,(function(e){e.priority>Ya&&i.push(e)})),Ja(r,i,t)}return r}(p,a,e)),d){var o=pe(a,d);-1!==o&&a.splice(o,1),o=pe(f,d),-1!==o&&f.splice(o,1),d._setQueue(g)}else d=function(e,n){function t(){return Ni(null,n.config,n,null)}function r(e,n,t,r){var i=e?e.length+1:1;function a(){i--,0===i&&(r&&r(),r=null)}i>0&&de(e,(function(e){if(e&&e.queue.length>0){var r=e.chain,o=n.createNew(r);o.onComplete(a),t(o)}else i--})),a()}var i=!1,a={identifier:"ChannelControllerPlugin",priority:Ya,initialize:function(n,t,r,a){i=!0,de(e,(function(e){e&&e.queue.length>0&&Si(Ni(e.chain,n,t),r)}))},isInitialized:function(){return i},processTelemetry:function(n,i){r(e,i||t(),(function(e){e.processNext(n)}),(function(){i.processNext(n)}))},update:function(n,t){var i=t||{reason:0};return r(e,n,(function(e){e.processNext(i)}),(function(){n.processNext(i)})),!0},pause:function(){r(e,t(),(function(e){e.iterate((function(e){e.pause&&e.pause()}))}),null)},resume:function(){r(e,t(),(function(e){e.iterate((function(e){e.resume&&e.resume()}))}),null)},teardown:function(n,t){var a=t||{reason:0,isAsync:!1};return r(e,n,(function(e){e.processNext(a)}),(function(){n.processNext(a),i=!1})),!0},getChannel:function(n){var t=null;return e&&e.length>0&&de(e,(function(e){if(e&&e.queue.length>0&&(de(e.queue,(function(e){if(e.identifier===n)return t=e,-1})),t))return-1})),t},flush:function(n,i,a,o){var s=1,u=!1,c=null;function l(){s--,u&&0===s&&(c&&(clearTimeout(c),c=null),i&&i(u),i=null)}return o=o||5e3,r(e,t(),(function(e){e.iterate((function(e){if(e.flush){s++;var t=!1;e.flush(n,(function(){t=!0,l()}),a)||t||(n&&null==c?c=setTimeout((function(){c=null,l()}),o):l())}}))}),(function(){u=!0,l()})),!0},_setQueue:function(n){e=n}};return a}(g,e);a.push(d),f.push(d),e._extensions=ki(a),d.initialize(n,e,a);var s=N();Si(s,a),e._extensions=Ie(ki(f||[])).slice(),t&&function(n){var t=Mi(A(),e);t.onComplete(r),e._updateHook&&!0===e._updateHook(t,n)||t.processNext(n)}(t)}function M(n){var t,r=null,i=null;return de(e._extensions,(function(e){if(e.identifier===n&&e!==d&&e!==h)return i=e,-1})),!i&&d&&(i=d.getChannel(n)),i&&(t={plugin:i},t.setEnabled=function(e){wi(i).disabled=!e},t.isEnabled=function(){var e=wi(i);return!e.teardown&&!e.disabled},t.remove=function(e,n){var t;void 0===e&&(e=!0);var r=[i],a=(t={reason:1},t.isAsync=e,t);L(r,a,(function(e){e&&P({reason:32,removed:r}),n&&n(e)}))},r=t),r}function A(){if(!c){var t=(f||[]).slice();-1===pe(t,h)&&t.push(h),c=Ai(ki(t),n,e)}return c}function L(t,i,a){if(t&&t.length>0){var o=Ai(t,n,e),s=Pi(o,e);s.onComplete((function(){var e=!1,n=[];de(l,(function(r,i){to(r,t)?e=!0:n.push(r)})),l=n;var i=[];p&&(de(p,(function(n,r){var a=[];de(n,(function(n){to(n,t)?e=!0:a.push(n)})),i.push(a)})),p=i),a&&a(e),r()})),s.processNext(i)}else a(!1)}function R(){if(e.logger&&e.logger.queue){var t=e.logger.queue.slice(0);e.logger.queue.length=0,de(t,(function(t){var r,i=(r={},r.name=y||"InternalMessageId: "+t.messageId,r.iKey=De(n.instrumentationKey),r.time=fe(new Date),r.baseType=Sn.dataType,r.baseData={message:t.message},r);e.track(i)}))}}function q(e,n,t,r){return d?d.flush(e,n,t||6,r):(n&&n(!1),!0)}function U(n){var t=e.logger;t?(En(t,2,73,n),r()):Ne(n)}E(),e.isInitialized=function(){return t},e.initialize=function(r,i,o,u){var c;v&&Ne(Qa),e.isInitialized()&&Ne("Core should not be initialized more than once"),n=r||{},e.config=n,J(r.instrumentationKey)&&Ne("Please provide instrumentation key"),a=u,e._notificationManager=u,function(){var e=De(n.disableDbgExt);!0===e&&S&&(a.removeNotificationListener(S),S=null);a&&!S&&!0!==e&&(S=Cn(n),a.addNotificationListener(S))}(),function(){var e=De(n.enablePerfMgr);!e&&s&&(s=null);e&&_e(n,I,no)}(),c=_e(n,w,{}),c.NotificationManager=a,o&&(e.logger=o);var f=_e(n,"extensions",[]);l=[],l.push.apply(l,T(T([],i),f)),p=_e(n,C,[]),P(null),g&&0!==g.length||Ne("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return g&&de(g,(function(n){e.push(n.queue)})),Ie(e)},e.track=function(t){t.iKey=t.iKey||n.instrumentationKey,t.time=t.time||fe(new Date),t.ver=t.ver||"4.0",!v&&e.isInitialized()?N().processNext(t):i.push(t)},e.getProcessTelContext=N,e.getNotifyMgr=function(){return a||(a=function(){var e;return m((e={},e.addNotificationListener=function(e){},e.removeNotificationListener=function(e){},e.eventsSent=function(e){},e.eventsDiscarded=function(e,n){},e.eventsSendRequest=function(e,n){},e))}(),e._notificationManager=a),a},e.addNotificationListener=function(e){a&&a.addNotificationListener(e)},e.removeNotificationListener=function(e){a&&a.removeNotificationListener(e)},e.getCookieMgr=function(){return u||(u=Kt(n,e.logger)),u},e.setCookieMgr=function(e){u=e},e.getPerfMgr=function(){if(!o&&!s&&De(n.enablePerfMgr)){var t=De(n.createPerfMgr);ee(t)&&(s=t(e,e.getNotifyMgr()))}return o||s||yi},e.setPerfMgr=function(e){o=e},e.eventCnt=function(){return i.length},e.releaseQueue=function(){if(t&&i.length>0){var e=i;i=[],de(e,(function(e){N().processNext(e)}))}},e.pollInternalLogs=function(e){return y=e||null,D=!1,_&&(clearInterval(_),_=null),r(!0)},e.stopPollingInternalLogs=function(){D=!0,_&&(clearInterval(_),_=0,R())},Ae(e,(function(){return h}),["addTelemetryInitializer"]),e.unload=function(n,r,i){var a;void 0===n&&(n=!0),t||Ne("SDK is not initialized"),v&&Ne(Qa);var o=(a={reason:50},a.isAsync=n,a.flushComplete=!1,a),s=Pi(A(),e);function u(n){o.flushComplete=n,v=!0,b.run(s,o),e.stopPollingInternalLogs(),s.processNext(o)}s.onComplete((function(){E(),r&&r(o)}),e),R(),q(n,u,6,i)||u(!1)},e.getPlugin=M,e.addPlugin=function(e,n,t,r){if(!e)return r&&r(!1),void U($a);var i=M(e.identifier);if(i&&!n)return r&&r(!1),void U("Plugin ["+e.identifier+"] is already loaded!");var a={reason:16};function o(n){l.push(e),a.added=[e],P(a),r&&r(!0)}if(i){var s=[i.plugin],u={reason:2,isAsync:!!t};L(s,u,(function(e){e?(a.removed=s,a.reason|=32,o()):r&&r(!1)}))}else o()},e.evtNamespace=function(){return x},e.flush=q,e.getTraceCtx=function(e){var n,t;return k||(t={},k={getName:function(){return t.name},setName:function(e){n&&n.setName(e),t.name=e},getTraceId:function(){return t.traceId},setTraceId:function(e){n&&n.setTraceId(e),Jr(e)&&(t.traceId=e)},getSpanId:function(){return t.spanId},setSpanId:function(e){n&&n.setSpanId(e),Zr(e)&&(t.spanId=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){n&&n.setTraceFlags(e),t.traceFlags=e}}),k},e.setTraceCtx=function(e){k=e||null},Me(e,"addUnloadCb",(function(){return b}),"add")}))}return e.__ieDyn=1,e}();function io(e,n,t,r){de(e,(function(e){if(e&&e[n])if(t)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var ao=function(){function e(n){this.listeners=[];var t=!!(n||{}).perfEvtsSendAll;(0,r.A)(e,this,(function(e){e.addNotificationListener=function(n){e.listeners.push(n)},e.removeNotificationListener=function(n){for(var t=pe(e.listeners,n);t>-1;)e.listeners.splice(t,1),t=pe(e.listeners,n)},e.eventsSent=function(n){io(e.listeners,S,!0,(function(e){e.eventsSent(n)}))},e.eventsDiscarded=function(n,t){io(e.listeners,k,!0,(function(e){e.eventsDiscarded(n,t)}))},e.eventsSendRequest=function(n,t){io(e.listeners,_,t,(function(e){e.eventsSendRequest(n,t)}))},e.perfEvent=function(n){n&&(!t&&n.isChildEvt()||io(e.listeners,D,!1,(function(e){n.isAsync?setTimeout((function(){return e.perfEvent(n)}),0):e.perfEvent(n)})))}}))}return e.__ieDyn=1,e}(),oo=function(e){function n(){var t=e.call(this)||this;return(0,r.A)(n,t,(function(e,n){function t(n){var t=e.getNotifyMgr();t&&t.eventsDiscarded([n],2)}e.initialize=function(e,t,r,i){n.initialize(e,t,r||new _n(e),i||new ao(e))},e.track=function(r){Ci(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(t(r),Ne("Invalid telemetry item")),function(e){J(e.name)&&(t(e),Ne("telemetry name required"))}(r),n.track(r)}),(function(){return{item:r}}),!r.sync)}})),t}return x(n,e),n.__ieDyn=1,n}(ro),so="duration",uo="excludeRequestFromAutoTrackingPatterns";function co(e,n,t){var r=0,i=e[n],a=e[t];return i&&a&&(r=vi(i,a)),r}function lo(e,n,t,r,i){var a=0,o=co(t,r,i);return o&&(a=fo(e,n,Fe(o))),a}function fo(e,n,t){var r=0;if(e&&n&&t){var i=e.ajaxPerf=e.ajaxPerf||{};i[n]=t,r=1}return r}var po=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},go=function(){function e(n,t,i,a){var o,s=this,u=i;s.perfMark=null,s.completed=!1,s.requestHeadersSize=null,s.requestHeaders=null,s.responseReceivingDuration=null,s.callbackDuration=null,s.ajaxTotalDuration=null,s.aborted=0,s.pageUrl=null,s.requestUrl=null,s.requestSize=0,s.method=null,s.status=null,s.requestSentTime=null,s.responseStartedTime=null,s.responseFinishedTime=null,s.callbackFinishedTime=null,s.endTime=null,s.xhrMonitoringState=new po,s.clientFailure=0,s.traceID=n,s.spanID=t,s.traceFlags=null==a?void 0:a.getTraceFlags(),s.eventTraceCtx=a?(o={},o.traceId=a.getTraceId(),o.spanId=a.getSpanId(),o.traceFlags=a.getTraceFlags(),o):null,(0,r.A)(e,s,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?si(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?st(u,ui(e.method,e.requestUrl)):null},e.CreateTrackItem=function(n,t,r){var i;if(e.ajaxTotalDuration=Math.round(1e3*vi(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var a=(i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl()},i.name=e.getPathName(),i.type=n,i.startTime=null,i.duration=e.ajaxTotalDuration,i.success=+e.status>=200&&+e.status<400,i.responseCode=+e.status,i.properties={HttpMethod:e.method},i),o=a.properties;if(e.aborted&&(o.aborted=!0),e.requestSentTime&&(a.startTime=new Date,a.startTime.setTime(e.requestSentTime)),function(e,n){var t=e.perfTiming,r=n.properties||{},i=0,a="name",o="Start",s="End",u="domainLookup",c="connect",l="redirect",f="request",d="response",p="startTime",g="connectEnd",v="requestStart",m="responseEnd",h=l+o,y=l=s,x="transferSize",T="encodedBodySize",b="decodedBodySize",C="serverTiming";if(t){i|=lo(r,l,t,h,y),i|=lo(r,u,t,"domainLookupStart","domainLookupEnd"),i|=lo(r,c,t,"connectStart",g),i|=lo(r,f,t,v,"requestEnd"),i|=lo(r,d,t,"responseStart",m),i|=lo(r,"networkConnect",t,p,g),i|=lo(r,"sentRequest",t,v,m);var I=t.duration;I||(I=co(t,p,m)||0),i|=fo(r,so,I),i|=fo(r,"perfTotal",I);var w=t.serverTiming;if(w){var S={};de(w,(function(e,n){var t=ne(e.name||""+n),r=S[t]||{};te(e,(function(e,n){(e!==a&&se(n)||ue(n))&&(r[e]&&(n=r[e]+";"+n),!n&&se(n)||(r[e]=n))})),S[t]=r})),i|=fo(r,C,S)}i|=fo(r,x,t.transferSize),i|=fo(r,T,t.encodedBodySize),i|=fo(r,b,t.decodedBodySize)}else e.perfMark&&(i|=fo(r,"missing",e.perfAttempts));i&&(n.properties=r)}(e,a),t&&xe(e.requestHeaders).length>0&&(o.requestHeaders=e.requestHeaders),r){var s=r();if(s){var u=s.correlationContext;if(u&&(a.correlationContext=u),s.headerMap&&xe(s.headerMap).length>0&&(o.responseHeaders=s.headerMap),e.errorStatusText)if(e.status>=400){var c=s.type;""!==c&&"text"!==c||(o.responseText=s.responseText?s.statusText+" - "+s.responseText:s.statusText),"json"===c&&(o.responseText=s.response?s.statusText+" - "+JSON.stringify(s.response):s.statusText)}else 0===e.status&&(o.responseText=s.statusText||"")}}return a},e.getPartAProps=function(){var n,t=null,r=e.eventTraceCtx;if(r&&(r.traceId||r.spanId)){t={};var i=t[Ca.TraceExt]=(n={},n.traceID=r.traceId,n.parentID=r.spanId,n);J(r.traceFlags)||(i.traceFlags=r.traceFlags)}return t}}))}return e.__ieDyn=1,e}(),vo="ai.ajxmn.",mo="fetch",ho="Failed to monitor XMLHttpRequest",yo=", monitoring data for this ajax call ",xo=yo+"may be incorrect.",To=yo+"won't be sent.",bo="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",Co="Failed to add custom defined request context as configured call back may missing a null check.",Io="Failed to calculate the duration of the ",wo=0;var So=null;var ko=function(e,n){return e&&n&&e._ajaxData?(e._ajaxData.i||{})[n]:null},_o=function(e,n){var t=!1;if(e){var r=(e._ajaxData||{}).xh;r&&de(r,(function(e){if(e.n===n)return t=!0,-1}))}return t};function Do(e,n){var t="";try{var r=ko(e,n);r&&r.requestUrl&&(t+="(url: '"+r.requestUrl+"')")}catch(e){}return t}function Eo(e,n,t,r,i){En(e.diagLog(),1,n,t,r,i)}function No(e,n,t,r,i){En(e.diagLog(),2,n,t,r,i)}function Po(e,n,t){return function(r){Eo(e,n,t,{ajaxDiagnosticsMessage:Do(r.inst,e._ajaxDataId),exception:dn(r.err)})}}function Mo(e,n){return e&&n?e.indexOf(n):-1}function Ao(e,n,t){var r={id:n,fn:t};return e.push(r),{remove:function(){de(e,(function(n,t){if(n.id===r.id)return e.splice(t,1),-1}))}}}function Lo(e,n,t,r){var i=!0;return de(n,(function(n,a){try{!1===n.fn.call(null,t)&&(i=!1)}catch(n){En(e&&e.logger,1,64,"Dependency "+r+" [#"+a+"] failed: "+Se(n),{exception:dn(n)},!0)}})),i}var Ro="*.blob.core.",qo=Ce([Ro+"windows.net",Ro+"chinacloudapi.cn",Ro+"cloudapi.de",Ro+"usgovcloudapi.net"]),Uo=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i];function Fo(){var e={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!1,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:1,correlationHeaderExcludedDomains:qo,correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0,addIntEndpoints:!0};return e}function zo(){var e=Fo();return te(e,(function(n){e[n]=void 0})),e}var Ho=function(e){function n(){var t,i,a,o,s,u,c,l,f,d,p,v,m,y,x,T,b,C,I,w,S,k,_,D,E=e.call(this)||this;return E.identifier=n.identifier,E.priority=120,(0,r.A)(n,E,(function(e,r){var E=r._addHook;function N(){var r=on();t=!1,i=!1,a=r&&r.host&&r.host.toLowerCase(),o=n.getEmptyConfig(),s=!1,u=!1,c=0,l=null,f=!1,d=!1,p=null,v=!1,m=0,y=!1,x={},T=!1,b=!1,C=null,I=null,w=null,k=0,_=[],D=[],S=vr("ajaxData"),e._ajaxDataId=S}function P(e){var n=!0;return(e||o.ignoreHeaders)&&de(o.ignoreHeaders,(function(t){if(t.toLowerCase()===e.toLowerCase())return n=!1,-1})),n}function M(e,n,t){E(function(e,n,t){return e?zi(e.prototype,n,t,!1):null}(e,n,t))}function A(e,n,t){var r=!1,i=((se(n)?n:(n||{}).url||"")||"").toLowerCase();if(de(C,(function(e){var n=e;se(e)&&(n=new RegExp(e)),r||(r=n.test(i))})),r)return r;var a=Mo(i,"?"),o=Mo(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),J(e)?J(n)||(r="object"==typeof n&&!0===n[Qn]||!!t&&!0===t[Qn]):r=!0===e[Qn]||!0===i[Qn],!r&&i&&di(i)&&(r=!0),r?x[i]||(x[i]=1):x[i]&&(r=!0),r}function L(e,n,t){var r=!0,a=i;return J(e)||(r=!0===t||!J(n)),a&&r}function R(){var n=null;return e.core&&e.core.getTraceCtx&&(n=e.core.getTraceCtx(!1)),!n&&l&&l.telemetryTrace&&(n=mi(l.telemetryTrace)),n}function q(e){try{var n=e.responseType;if(""===n||"text"===n)return e.responseText}catch(e){}return null}function U(n){try{var t=n.getAllResponseHeaders();if(null!==t){var r=Mo(t.toLowerCase(),ti[8]);if(-1!==r){var i=n.getResponseHeader(ti[0]);return pi.getCorrelationContext(i)}}}catch(t){No(e,18,bo,{ajaxDiagnosticsMessage:Do(n,S),exception:dn(t)})}}function F(e,n){if(n.requestUrl&&p&&v){var t=sn();if(t&&ee(t.mark)){wo++;var r=p+e+"#"+wo;t.mark(r);var i=t.getEntriesByName(r);i&&1===i.length&&(n.perfMark=i[0])}}}function z(e,n,t,r){var i=n.perfMark,a=sn(),s=o.maxAjaxPerfLookupAttempts,u=o.ajaxPerfLookupDelay,c=n.requestUrl,l=0;!function o(){try{if(a&&i){l++;for(var f=null,d=a.getEntries(),p=d.length-1;p>=0;p--){var g=d[p];if(g){if("resource"===g.entryType)g.initiatorType!==e||-1===Mo(g.name,c)&&-1===Mo(c,g.name)||(f=g);else if("mark"===g.entryType&&g.name===i.name){n.perfTiming=f;break}if(g.startTime<i.startTime-1e3)break}}}!i||n.perfTiming||l>=s||!1===n.async?(i&&ee(a.clearMarks)&&a.clearMarks(i.name),n.perfAttempts=l,t()):setTimeout(o,u)}catch(e){r(e)}}()}function H(n){var t="";try{J(n)||(se(n)?t+="(url: '".concat(n,"')"):t+="(url: '".concat(n.url,"')"))}catch(n){Eo(e,15,"Failed to grab failed fetch diagnostics message",{exception:dn(n)})}return t}function B(n,t,r,i,a,o,u){function c(n,t,i){var a=i||{};a.fetchDiagnosticsMessage=H(r),t&&(a.exception=dn(t)),No(e,n,Io+"fetch call"+To,a)}a&&(a.responseFinishedTime=gi(),a.status=t,z(mo,a,(function(){var n,u=a.CreateTrackItem("Fetch",s,o);try{I&&(n=I({status:t,request:r,response:i}))}catch(n){No(e,104,Co)}if(u){void 0!==n&&(u.properties=h(h({},u.properties),n));var l=a.getPartAProps();O(D,e.core,a,u,null,l)}else c(14,null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}),(function(e){c(18,e,null)})))}function V(n){if(n&&n.headers)try{var t=n.headers.get(ti[0]);return pi.getCorrelationContext(t)}catch(t){No(e,18,bo,{fetchDiagnosticsMessage:H(n),exception:dn(t)})}}function O(n,t,r,i,a,o){var s=!0,u=n.length;if(u>0){var c={item:i,properties:a,sysProperties:o,context:r?r.context:null,aborted:!!r&&!!r.aborted};s=Lo(t,n,c,"initializer")}s&&e.trackDependencyDataInternal(i,a,o)}N(),e.initialize=function(a,c,x,k){var _;e.isInitialized()||(r.initialize(a,c,x,k),w=Ar(vr("ajax"),c&&c.evtNamespace&&c.evtNamespace()),function(t){var r=Ni(null,t,e.core);o=zo();var i=Fo();te(i,(function(e,t){o[e]=r.getConfig(n.identifier,e,t)}));var a=o.distributedTracingMode;if(s=o.enableRequestHeaderTracking,u=o.enableAjaxErrorStatusText,v=o.enableAjaxPerfTracking,m=o.maxAjaxCallsPerView,y=o.enableResponseHeaderTracking,C=[].concat(o[uo]||[],!1!==o.addIntEndpoints?Uo:[]),I=o.addRequestContext,d=0===a||1===a,f=1===a||2===a,v){var c=t.instrumentationKey||"unkwn";p=c.length>5?vo+c.substring(c.length-5)+".":vo+c+"."}T=!!o.disableAjaxTracking,b=!!o.disableFetchTracking}(a),!function(e,n){var t,r=!1;if(mn()){var i=XMLHttpRequest.prototype;r=!(J(i)||J(i.open)||J(i.send)||J(i.abort))}var a=fn();if(a&&a<9&&(r=!1),r)try{var o=new XMLHttpRequest,s={xh:[],i:(t={},t[n]={},t)};o._ajaxData=s;var u=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=u}catch(n){r=!1,Eo(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:dn(n)})}return r}(e,S)||T||i||(M(XMLHttpRequest,"open",{ns:w,req:function(n,t,r,i){if(!T){var a=n.inst,o=ko(a,S);!A(a,r)&&L(a,o,!0)&&(o&&o.xhrMonitoringState.openDone||(o=function(n,t,r,i){var a,o=R(),s=o&&o.getTraceId()||Br(),c=Br().substr(0,16),l=n._ajaxData=n._ajaxData||{xh:[],i:{}},f=l.i=l.i||{},d=f[S]=f[S]||new go(s,c,e.diagLog(),null===(a=e.core)||void 0===a?void 0:a.getTraceCtx());return d.traceFlags=o&&o.getTraceFlags(),d.method=t,d.requestUrl=r,d.xhrMonitoringState.openDone=!0,d.requestHeaders={},d.async=i,d.errorStatusText=u,d}(a,t,r,i)),function(n,t){t.xhrMonitoringState.stateChangeAttached=Lr(n,"readystatechange",(function(){try{n&&4===n.readyState&&L(n,t)&&function(n){var t=ko(n,S);function r(t,r){var i=r||{};i.ajaxDiagnosticsMessage=Do(n,S),t&&(i.exception=dn(t)),No(e,14,Io+"ajax call"+To,i)}t.responseFinishedTime=gi(),t.status=n.status,z("xmlhttprequest",t,(function(){try{var i=t.CreateTrackItem("Ajax",s,(function(){var e={statusText:n.statusText,headerMap:null,correlationContext:U(n),type:n.responseType,responseText:q(n),response:n.response};if(y){var t=n.getAllResponseHeaders();if(t){var r=me(t).split(/[\r\n]+/),i={};de(r,(function(e){var n=e.split(": "),t=n.shift(),r=n.join(": ");P(t)&&(i[t]=r)})),e.headerMap=i}}return e})),a=void 0;try{I&&(a=I({status:n.status,xhr:n}))}catch(n){No(e,104,Co)}if(i){void 0!==a&&(i.properties=h(h({},i.properties),a));var o=t.getPartAProps();O(D,e.core,t,i,null,o)}else r(null,{requestSentTime:t.requestSentTime,responseFinishedTime:t.responseFinishedTime})}finally{try{var u=n._ajaxData||{i:{}},c=u.i||{};c[S]&&(c[S]=null)}catch(e){}}}),(function(e){r(e,null)}))}(n)}catch(t){var r=dn(t);r&&-1!==Mo(r.toLowerCase(),"c00c023f")||Eo(e,16,ho+" 'readystatechange' event handler"+xo,{ajaxDiagnosticsMessage:Do(n,S),exception:r})}}),w)}(a,o))}},hkErr:Po(e,15,ho+".open"+xo)}),M(XMLHttpRequest,"send",{ns:w,req:function(n,t){if(!T){var r=n.inst,i=ko(r,S);L(r,i)&&!i.xhrMonitoringState.sendDone&&(F("xhr",i),i.requestSentTime=gi(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)}},hkErr:Po(e,17,ho+xo)}),M(XMLHttpRequest,"abort",{ns:w,req:function(e){if(!T){var n=e.inst,t=ko(n,S);L(n,t)&&!t.xhrMonitoringState.abortDone&&(t.aborted=1,t.xhrMonitoringState.abortDone=!0)}},hkErr:Po(e,13,ho+".abort"+xo)}),M(XMLHttpRequest,"setRequestHeader",{ns:w,req:function(e,n,t){if(!T){var r=e.inst,i=ko(r,S);i&&L(r,i)&&(function(e,n,t){if(e){var r=(e._ajaxData||{}).xh;r&&r.push({n,v:t})}}(r,n,t),s&&P(n)&&i&&(i.requestHeaders[n]=t))}},hkErr:Po(e,71,ho+".setRequestHeader"+xo)}),i=!0),function(){var n=(r=g(),!r||J(r.Request)||J(r.Request.prototype)||J(r.fetch)?null:r.fetch);var r;if(!n)return;var a=g(),o=n.polyfill;b||t?o&&E(zi(a,mo,{ns:w,req:function(e,n,t){A(null,n,t)}})):(E(zi(a,mo,{ns:w,req:function(n,r,a){var c;if(!b&&t&&!A(null,r,a)&&(!o||!i)){var l=n.ctx();c=function(n,t){var r,i=R(),a=i&&i.getTraceId()||Br(),o=Br().substr(0,16),c=new go(a,o,e.diagLog(),null===(r=e.core)||void 0===r?void 0:r.getTraceCtx());c.traceFlags=i&&i.getTraceFlags(),c.requestSentTime=gi(),c.errorStatusText=u,n instanceof Request?c.requestUrl=n?n.url:"":c.requestUrl=n;var l="GET";t&&t.method?l=t.method:n&&n instanceof Request&&(l=n.method);c.method=l;var f={};if(s){var d=new Headers((t?t.headers:0)||n instanceof Request&&n.headers||{});d.forEach((function(e,n){P(n)&&(f[n]=e)}))}return c.requestHeaders=f,F(mo,c),c}(r,a);var f=e.includeCorrelationHeaders(c,r,a);f!==a&&n.set(1,f),l.data=c}},rsp:function(e,n){if(!b){var t=e.ctx().data;t&&(e.rslt=e.rslt.then((function(r){return B(e,(r||{}).status,n,r,t,(function(){var e={statusText:(r||{}).statusText,headerMap:null,correlationContext:V(r)};if(y&&r){var n={};r.headers.forEach((function(e,t){P(t)&&(n[t]=e)})),e.headerMap=n}return e})),r})).catch((function(r){throw B(e,0,n,null,t,null,{error:r.message||dn(r)}),r})))}},hkErr:Po(e,15,"Failed to monitor Window.fetch"+xo)},!0,function(){if(null==So)try{So=!!(self&&self instanceof WorkerGlobalScope)}catch(e){So=!1}return So}())),t=!0);o&&(a.fetch.polyfill=o)}(),_=e.core.getPlugin(Jn),_&&(l=_.plugin.context))},e._doTeardown=function(){N()},e.trackDependencyData=function(n,t){O(D,e.core,null,n,t)},e.includeCorrelationHeaders=function(n,t,r,i){var u=e._currentWindowHost||a;if(function(e,n,t,r,i,a){var o=e.length;if(o>0){var s={core:n,xhr:r,input:i,init:a,traceId:t.traceID,spanId:t.spanID,traceFlags:t.traceFlags,context:t.context||{},aborted:!!t.aborted};Lo(n,e,s,"listener"),t.traceID=s.traceId,t.spanID=s.spanId,t.traceFlags=s.traceFlags,t.context=s.context}}(_,e.core,n,i,t,r),t||""===t){if(pi.canIncludeCorrelationHeader(o,n.getAbsoluteUrl(),u)){r||(r={});var c=new Headers(r.headers||t instanceof Request&&t.headers||{});if(d){var p="|"+n.traceID+"."+n.spanID;c.set(ti[3],p),s&&(n.requestHeaders[ti[3]]=p)}var g=o.appId||l&&l.appId();if(g&&(c.set(ti[0],ti[2]+g),s&&(n.requestHeaders[ti[0]]=ti[2]+g)),f){var v=n.traceFlags;J(v)&&(v=1);var m=$r(Yr(n.traceID,n.spanID,v));c.set(ti[4],m),s&&(n.requestHeaders[ti[4]]=m)}r.headers=c}return r}if(i){if(pi.canIncludeCorrelationHeader(o,n.getAbsoluteUrl(),u)){if(d)if(_o(i,ti[3]))No(e,71,"Unable to set ["+ti[3]+"] as it has already been set by another instance");else{p="|"+n.traceID+"."+n.spanID;i.setRequestHeader(ti[3],p),s&&(n.requestHeaders[ti[3]]=p)}g=o.appId||l&&l.appId();if(g&&(_o(i,ti[0])?No(e,71,"Unable to set ["+ti[0]+"] as it has already been set by another instance"):(i.setRequestHeader(ti[0],ti[2]+g),s&&(n.requestHeaders[ti[0]]=ti[2]+g))),f){v=n.traceFlags;if(J(v)&&(v=1),_o(i,ti[4]))No(e,71,"Unable to set ["+ti[4]+"] as it has already been set by another instance");else{m=$r(Yr(n.traceID,n.spanID,v));i.setRequestHeader(ti[4],m),s&&(n.requestHeaders[ti[4]]=m)}}}return i}},e.trackDependencyDataInternal=function(n,t,r){if(-1===m||c<m){2!==o.distributedTracingMode&&1!==o.distributedTracingMode||"string"!=typeof n.id||"."===n.id[n.id.length-1]||(n.id+="."),J(n.startTime)&&(n.startTime=new Date);var i=vt(n,hi.dataType,hi.envelopeType,e.diagLog(),t,r);e.core.track(i)}else c===m&&Eo(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++c},e.addDependencyListener=function(e){return Ao(_,k++,e)},e.addDependencyInitializer=function(e){return Ao(D,k++,e)}})),E}return x(n,e),n.prototype.processTelemetry=function(e,n){this.processNext(e,n)},n.prototype.addDependencyInitializer=function(e){return null},n.identifier="AjaxDependencyPlugin",n.getDefaultConfig=Fo,n.getEmptyConfig=zo,n}(Vi),Bo=function(){},Vo=function(){this.id="browser",this.deviceClass="Browser"},Oo=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.8.18"},jo=function(){},Ko=function(){},Xo=function(){function e(n,t){var i,a,o=kn(t),s=jt(t);(0,r.A)(e,this,(function(t){n||(n={}),ee(n.sessionExpirationMs)||(n.sessionExpirationMs=function(){return e.acquisitionSpan}),ee(n.sessionRenewalMs)||(n.sessionRenewalMs=function(){return e.renewalSpan}),t.config=n;var r=t.config.sessionCookiePostfix&&t.config.sessionCookiePostfix()?t.config.sessionCookiePostfix():t.config.namePrefix&&t.config.namePrefix()?t.config.namePrefix():"";function u(e,n){var t=!1,r=", session will be reset",i=n.split("|");if(i.length>=2)try{var a=+i[1]||0,s=+i[2]||0;isNaN(a)||a<=0?En(o,2,27,"AI session acquisition date is 0"+r):isNaN(s)||s<=0?En(o,2,27,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e.acquisitionDate=a,e.renewalDate=s,t=!0)}catch(e){En(o,1,9,"Error parsing ai_session value ["+(n||"")+"]"+r+" - "+Se(e),{exception:dn(e)})}return t}function c(e,n){var r=e.acquisitionDate;e.renewalDate=n;var o=t.config,u=o.sessionRenewalMs(),c=r+o.sessionExpirationMs()-n,l=[e.id,r,n],f=0;f=c<u?c/1e3:u/1e3;var d=o.cookieDomain?o.cookieDomain():null;s.set(i(),l.join("|"),o.sessionExpirationMs()>0?f:null,d),a=n}i=function(){return"ai_session"+r},t.automaticSession=new Ko,t.update=function(){var n=we(),r=!1,l=t.automaticSession;l.id||(r=!function(e,n){var t=!1,r=s.get(i());if(r&&ee(r.split))t=u(e,r);else{var a=Vn(o,i());a&&(t=u(e,a))}return t||!!e.id}(l));var f=t.config.sessionExpirationMs();if(!r&&f>0){var d=t.config.sessionRenewalMs(),p=n-l.acquisitionDate,g=n-l.renewalDate;r=p<0||g<0,r=r||p>f,r=r||g>d}r?function(e){var n=t.config||{},r=(n.getNewId?n.getNewId():null)||ur;t.automaticSession.id=r(n.idLength?n.idLength():22),t.automaticSession.acquisitionDate=e,c(t.automaticSession,e),Bn()||En(o,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}(n):(!a||n-a>e.cookieUpdateInterval)&&c(l,n)},t.backup=function(){var e,n,r,a=t.automaticSession;e=a.id,n=a.acquisitionDate,r=a.renewalDate,On(o,i(),[e,n,r].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),Go=function(e,n,t,r){var i=this;i.traceID=e||Br(),i.parentID=n;var a=on();!t&&a&&a.pathname&&(t=a.pathname),i.name=ot(r,t)};function Wo(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Yo=function(){function e(n,t){this.isNewUser=!1,this.isUserCookieSet=!1;var i,a=kn(t),o=jt(t);(0,r.A)(e,this,(function(t){t.config=n;var r=t.config.userCookiePostfix&&t.config.userCookiePostfix()?t.config.userCookiePostfix():"";i=function(){return e.userCookieName+r};var s=o.get(i());if(s){t.isNewUser=!1;var u=s.split(e.cookieSeparator);u.length>0&&(t.id=u[0],t.isUserCookieSet=!!t.id)}function c(){var e=n||{},t=(e.getNewId?e.getNewId():null)||ur,r=t(e.idLength?n.idLength():22);return r}function l(e){var n=fe(new Date);t.accountAcquisitionDate=n,t.isNewUser=!0;var r=[e,n];return r}function f(e){t.isUserCookieSet=o.set(i(),e,31536e3)}if(!t.id){t.id=c();var d=l(t.id);f(d.join(e.cookieSeparator));var p=n.namePrefix&&n.namePrefix()?n.namePrefix()+"ai_session":"ai_session";jn(a,p)}t.accountId=n.accountId?n.accountId():void 0;var g=o.get(e.authUserCookieName);if(g){g=decodeURI(g);var v=g.split(e.cookieSeparator);v[0]&&(t.authenticatedId=v[0]),v.length>1&&v[1]&&(t.accountId=v[1])}t.setAuthenticatedUserContext=function(n,r,i){void 0===i&&(i=!1);var s=!Wo(n)||r&&!Wo(r);if(s)En(a,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{t.authenticatedId=n;var u=t.authenticatedId;r&&(t.accountId=r,u=[t.authenticatedId,t.accountId].join(e.cookieSeparator)),i&&o.set(e.authUserCookieName,encodeURI(u))}},t.clearAuthenticatedUserContext=function(){t.authenticatedId=null,t.accountId=null,o.del(e.authUserCookieName)},t.update=function(n){if(t.id!==n||!t.isUserCookieSet){var r=n||c(),i=l(r);f(i.join(e.cookieSeparator))}}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),Jo="ext",Zo="tags";function $o(e,n){e&&e[n]&&0===xe(e[n]).length&&delete e[n]}var Qo=function(){function e(n,t,i){var a=this,o=n.logger;this.appId=function(){return null},this.getSessionId=function(){return null},(0,r.A)(e,this,(function(e){if(e.application=new Bo,e.internal=new Oo(t),$e()){e.sessionManager=new Xo(t,n),e.device=new Vo,e.location=new jo,e.user=new Yo(t,n);var r,s=void 0,u=void 0;i&&(s=i.getTraceId(),u=i.getSpanId(),r=i.getName()),e.telemetryTrace=new Go(s,u,r,o),e.session=new Ko}e.getSessionId=function(){var n=e.session,t=null;if(n&&se(n.id))t=n.id;else{var r=(e.sessionManager||{}).automaticSession;t=r&&se(r.id)?r.id:null}return t},e.applySessionContext=function(n,t){ke(_e(n.ext,Ca.AppExt),"sesId",e.getSessionId(),se)},e.applyOperatingSystemContxt=function(n,t){ke(n.ext,Ca.OSExt,e.os)},e.applyApplicationContext=function(n,t){var r=e.application;if(r){var i=_e(n,Zo);ke(i,Ia.applicationVersion,r.ver,se),ke(i,Ia.applicationBuild,r.build,se)}},e.applyDeviceContext=function(n,t){var r=e.device;if(r){var i=_e(_e(n,Jo),Ca.DeviceExt);ke(i,"localId",r.id,se),ke(i,"ip",r.ip,se),ke(i,"model",r.model,se),ke(i,"deviceClass",r.deviceClass,se)}},e.applyInternalContext=function(n,t){var r=e.internal;if(r){var i=_e(n,Zo);ke(i,Ia.internalAgentVersion,r.agentVersion,se),ke(i,Ia.internalSdkVersion,ot(o,r.sdkVersion,64),se),n.baseType!==Sn.dataType&&n.baseType!==Tt.dataType||(ke(i,Ia.internalSnippet,r.snippetVer,se),ke(i,Ia.internalSdkSrc,r.sdkSrc,se))}},e.applyLocationContext=function(e,n){var t=a.location;t&&ke(_e(e,Zo,[]),Ia.locationIp,t.ip,se)},e.applyOperationContext=function(n,t){var r=e.telemetryTrace;if(r){var i=_e(_e(n,Jo),Ca.TraceExt,{traceID:void 0,parentID:void 0});ke(i,"traceID",r.traceID,se,J),ke(i,"name",r.name,se,J),ke(i,"parentID",r.parentID,se,J)}},e.applyWebContext=function(e,n){var t=a.web;t&&ke(_e(e,Jo),Ca.WebExt,t)},e.applyUserContext=function(n,t){var r=e.user;if(r){var i=_e(n,Zo,[]);ke(i,Ia.userAccountId,r.accountId,se);var a=_e(_e(n,Jo),Ca.UserExt);ke(a,"id",r.id,se),ke(a,"authId",r.authenticatedId,se)}},e.cleanUp=function(e,n){var t=e.ext;t&&($o(t,Ca.DeviceExt),$o(t,Ca.UserExt),$o(t,Ca.WebExt),$o(t,Ca.OSExt),$o(t,Ca.AppExt),$o(t,Ca.TraceExt))}}))}return e.__ieDyn=1,e}(),es=function(e){function n(){var t,i,a,o=e.call(this)||this;return o.priority=110,o.identifier=Jn,(0,r.A)(n,o,(function(e,r){function o(){t=null,i=null,a=null}o(),e.initialize=function(o,s,u,c){r.initialize(o,s,u,c),function(r){var o=e.identifier,s=e.core,u=Ni(null,r,s),c=n.getDefaultConfig();t=t||{},te(c,(function(e,n){t[e]=function(){return u.getConfig(o,e,n())}})),r.storagePrefix&&Hn(r.storagePrefix);a=s.getTraceCtx(!1),e.context=new Qo(s,t,a),i=mi(e.context.telemetryTrace,a),s.setTraceCtx(i),e.context.appId=function(){var e=s.getPlugin(Zn);return e?e.plugin._appId:null},e._extConfig=t}(o)},e.processTelemetry=function(n,t){if(J(n));else{t=e._getTelCtx(t),n.name===Tt.envelopeType&&t.diagLog().resetInternalMessageCount();var r=e.context||{};r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update();var i=r.user;if(i&&!i.isUserCookieSet&&i.update(r.user.id),function(n,t){_e(n,"tags",[]),_e(n,"ext",{});var r=e.context;r.applySessionContext(n,t),r.applyApplicationContext(n,t),r.applyDeviceContext(n,t),r.applyOperationContext(n,t),r.applyUserContext(n,t),r.applyOperatingSystemContxt(n,t),r.applyWebContext(n,t),r.applyLocationContext(n,t),r.applyInternalContext(n,t),r.cleanUp(n,t)}(n,t),i&&i.isNewUser){i.isNewUser=!1;var a=new Sn(72,(rn()||{}).userAgent||"");!function(e,n,t){Dn(e).logInternalMessage(n,t)}(t.diagLog(),1,a)}e.processNext(n,t)}},e._doTeardown=function(e,n){var t=(e||{}).core();if(t&&t.getTraceCtx){var r=t.getTraceCtx(!1);r===i&&t.setTraceCtx(a)}o()}})),o}return x(n,e),n.getDefaultConfig=function(){var e,n,t=null,r=(e={instrumentationKey:function(){return n}},e.accountId=function(){return t},e.sessionRenewalMs=function(){return 18e5},e.samplingPercentage=function(){return 100},e.sessionExpirationMs=function(){return 864e5},e.cookieDomain=function(){return t},e.sdkExtension=function(){return t},e.isBrowserLinkTrackingEnabled=function(){return!1},e.appId=function(){return t},e.getSessionId=function(){return t},e.namePrefix=function(){return n},e.sessionCookiePostfix=function(){return n},e.userCookiePostfix=function(){return n},e.idLength=function(){return 22},e.getNewId=function(){return t},e);return r},n}(Vi);const ns=es;var ts,rs="snippet",is="addTelemetryInitializer",as="pollInternalLogs",os="getPlugin",ss="evtNamespace",us="disableIkeyDeprecationMessage",cs=[rs,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],ls=function(){function e(n){var t,i,a,o,s,u,c,l=this;(0,r.A)(e,this,(function(e){s=vr("AISKU"),u=null,t=null,i=null,a=null,o=null,o=""+(n.sv||n.version||""),n.queue=n.queue||[],n.version=n.version||2;var r=n.config||{};if(r.connectionString){var f=Wa(r.connectionString),d=f.ingestionendpoint;r.endpointUrl=d?d+tt:r.endpointUrl,r.instrumentationKey=f.instrumentationkey||r.instrumentationKey}e.appInsights=new la,i=new ns,t=new Ho,a=new Ga,c=new oo,e.core=c;var p=!!J(r[us])||r[us];r.connectionString||p||En(c.logger,1,106,"Instrumentation key support will end soon, see aka.ms/IkeyMigrate"),e.snippet=n,e.config=r,e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4,e.flush=function(e){void 0===e&&(e=!0),Ci(c,(function(){return"AISKU.flush"}),(function(){de(c.getTransmissionControls(),(function(n){de(n,(function(n){n.flush(e)}))}))}),null,e)},e.onunloadFlush=function(e){void 0===e&&(e=!0),de(c.getTransmissionControls(),(function(n){de(n,(function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e)}))}))},e.loadAppInsights=function(n,r,s){return void 0===n&&(n=!1),n&&e.config.extensions&&e.config.extensions.length>0&&Ne("Extensions not allowed in legacy mode"),Ci(e.core,(function(){return"AISKU.loadAppInsights"}),(function(){var u=[];u.push(a),u.push(i),u.push(t),u.push(e.appInsights),c.initialize(e.config,u,r,s),e.context=i.context,ts&&e.context&&(e.context.internal.sdkSrc=ts),function(t){if(t){var r="";J(o)||(r+=o),n&&(r+=".lg"),e.context&&e.context.internal&&(e.context.internal.snippetVer=r||"-"),te(e,(function(e,n){se(e)&&!ee(n)&&e&&"_"!==e[0]&&-1===pe(cs,e)&&(t[e]=n)}))}}(e.snippet),e.emptyQueue(),e.pollInternalLogs(),e.addHousekeepingBeforeUnload(e)})),e},e.updateSnippetDefinitions=function(n){!function(e,n,t){if(e&&n&&Q(e)&&Q(n)){var r=function(r){if(se(r)){var i=n[r];ee(i)?t&&!t(r,!0,n,e)||(e[r]=Pe(n,r)):t&&!t(r,!1,n,e)||($(e,r)&&delete e[r],Te(e,r,(function(){return n[r]}),(function(e){n[r]=e}))||(e[r]=i))}};for(var i in n)r(i)}}(n,e,(function(e){return e&&-1===pe(cs,e)}))},e.emptyQueue=function(){try{if(ae(e.snippet.queue)){for(var n=e.snippet.queue.length,t=0;t<n;t++){var r=e.snippet.queue[t];r()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&ee(e.toString)&&e.toString()}},e.addHousekeepingBeforeUnload=function(e){if($e()||en()){var n=function(){if(e.onunloadFlush(!1),ee(l.core.getPlugin)){var n=l.core.getPlugin(Jn);if(n){var t=n.plugin;t&&t.context&&t.context._sessionManager&&t.context._sessionManager.backup()}}},t=!1,r=e.appInsights.config.disablePageUnloadEvents;u||(u=Ar(s,c.evtNamespace&&c.evtNamespace())),e.appInsights.config.disableFlushOnBeforeUnload||(zr(n,r,u)&&(t=!0),Hr(n,r,u)&&(t=!0),t||(i=rn(),i&&i.product&&"ReactNative"===i.product)||En(e.appInsights.core.logger,1,19,"Could not add handler for beforeunload and pagehide")),t||e.appInsights.config.disableFlushOnUnload||Hr(n,r,u)}var i},e.getSender=function(){return a},e.unload=function(n,t,r){var i,a;e.onunloadFlush(n),u&&(i=null,a=u,Fr([br,Tr,xr],i,a),function(e,n){var t=Ar(Cr,n);Fr([xr],e,t),Fr([yr],null,t)}(null,u)),c.unload&&c.unload(n,t,r)},Ae(e,e.appInsights,["getCookieMgr","trackEvent","trackPageView","trackPageViewPerformance","trackException","_onerror","trackTrace","trackMetric","startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),Ae(e,(function(){return t}),["trackDependencyData","addDependencyListener","addDependencyInitializer"]),Ae(e,c,[is,as,"stopPollingInternalLogs",os,"addPlugin",ss,"addUnloadCb","getTraceCtx"]),Ae(e,(function(){var e=i.context;return e?e.user:null}),["setAuthenticatedUserContext","clearAuthenticatedUserContext"])}))}return e.prototype.addDependencyInitializer=function(e){return null},e}();!function(){var e=null,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var t=(document||{}).currentScript;t&&(e=t.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",a=0;a<n.length;a++)if(-1!==r.indexOf(n[a])){i="cdn"+(a+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),ts=i+"";break}}catch(e){}}()}}]);
//# sourceMappingURL=ca57834f2515c62e4bb7.bundle.js.map