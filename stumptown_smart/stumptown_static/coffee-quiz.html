<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Quiz: Find Your Perfect Coffee Beans | Grainhouse Coffee</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Take our 2-minute coffee quiz to find your perfect beans. Answer questions about taste preferences, brewing method, and roast level. Personalized recommendations.">
    <meta name="keywords" content="coffee quiz, find my coffee, coffee recommendations, what coffee should I buy, coffee taste quiz, best coffee for me">
    <link rel="canonical" href="https://grainhousecoffee.com/coffee-quiz.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://grainhousecoffee.com/coffee-quiz.html">
    <meta property="og:title" content="Coffee Quiz: Find Your Perfect Beans | Grainhouse Coffee">
    <meta property="og:description" content="Not sure which coffee to try? Take our 2-minute quiz for personalized recommendations based on your taste preferences.">
    <meta property="og:image" content="https://grainhousecoffee.com/images/coffee.jpg">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@grainhousecoffee">
    <meta name="twitter:title" content="Find Your Perfect Coffee | Grainhouse Coffee Quiz">
    <meta name="twitter:description" content="Take our quiz to discover which specialty coffee matches your taste preferences.">
    <meta name="twitter:image" content="https://grainhousecoffee.com/images/coffee.jpg">
    
    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Coffee Finder Quiz",
        "description": "Interactive quiz to help coffee lovers find their perfect beans based on taste preferences and brewing method.",
        "url": "https://grainhousecoffee.com/coffee-quiz.html",
        "applicationCategory": "LifestyleApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "provider": {
            "@type": "Organization",
            "name": "Grainhouse Coffee",
            "url": "https://grainhousecoffee.com"
        }
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Fonts & Styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Snipcart -->
    <link rel="preconnect" href="https://app.snipcart.com">
    <link rel="preconnect" href="https://cdn.snipcart.com">
    <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.css" />
    
    <style>
        .quiz-container {
            min-height: calc(100vh - 200px);
            background: linear-gradient(135deg, #f8f6f3 0%, #ebe6df 100%);
            padding: 60px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quiz-card {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            max-width: 700px;
            width: 100%;
            padding: 50px;
            text-align: center;
        }
        
        .quiz-progress {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-bottom: 40px;
        }
        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #e0e0e0;
            transition: all 0.3s;
        }
        .progress-dot.active {
            background: #2d5a3d;
            transform: scale(1.2);
        }
        .progress-dot.completed {
            background: #c9a96e;
        }
        
        .quiz-question {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.3;
        }
        .quiz-subtitle {
            color: #666;
            font-size: 16px;
            margin-bottom: 40px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        .option-btn {
            background: #f8f6f3;
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 25px 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .option-btn:hover {
            border-color: #c9a96e;
            transform: translateY(-2px);
        }
        .option-btn.selected {
            border-color: #2d5a3d;
            background: rgba(45, 90, 61, 0.08);
        }
        .option-icon {
            font-size: 32px;
            margin-bottom: 10px;
            display: block;
        }
        .option-text {
            font-weight: 600;
            color: #333;
            font-size: 16px;
            display: block;
            margin-bottom: 5px;
        }
        .option-desc {
            font-size: 13px;
            color: #888;
        }
        
        .quiz-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        .nav-btn {
            padding: 14px 30px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }
        .nav-btn.back {
            background: transparent;
            color: #666;
            border: 2px solid #ddd;
        }
        .nav-btn.back:hover {
            border-color: #999;
            color: #333;
        }
        .nav-btn.next {
            background: #2d5a3d;
            color: #fff;
        }
        .nav-btn.next:hover {
            background: #1a3d2a;
        }
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Results */
        .results-container {
            display: none;
        }
        .results-container.active {
            display: block;
        }
        .result-badge {
            display: inline-block;
            background: #c9a96e;
            color: #fff;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }
        .result-title {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            color: #333;
            margin-bottom: 15px;
        }
        .result-desc {
            color: #666;
            font-size: 17px;
            line-height: 1.7;
            margin-bottom: 40px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .recommended-products {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .rec-product {
            background: #f8f6f3;
            border-radius: 12px;
            padding: 25px;
            text-decoration: none;
            color: inherit;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .rec-product:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .rec-product img {
            width: 120px;
            height: 120px;
            object-fit: contain;
            margin-bottom: 15px;
        }
        .rec-product h4 {
            font-family: 'Playfair Display', serif;
            font-size: 20px;
            color: #333;
            margin: 0 0 5px;
        }
        .rec-product .notes {
            font-size: 13px;
            color: #888;
            margin-bottom: 8px;
        }
        .rec-product .price {
            font-weight: 600;
            color: #2d5a3d;
        }
        .rec-match {
            display: inline-block;
            background: #2d5a3d;
            color: #fff;
            font-size: 11px;
            padding: 4px 10px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .restart-btn {
            display: inline-block;
            background: transparent;
            color: #666;
            border: 2px solid #ddd;
            padding: 14px 30px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s;
        }
        .restart-btn:hover {
            border-color: #999;
            color: #333;
        }
        
        .quiz-step {
            display: none;
        }
        .quiz-step.active {
            display: block;
        }
        
        /* Intro */
        .quiz-intro {
            padding: 20px 0;
        }
        .quiz-intro-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }
        .quiz-intro h1 {
            font-family: 'Playfair Display', serif;
            font-size: 42px;
            color: #333;
            margin-bottom: 15px;
        }
        .quiz-intro p {
            color: #666;
            font-size: 18px;
            line-height: 1.6;
            max-width: 450px;
            margin: 0 auto 30px;
        }
        .start-btn {
            display: inline-block;
            background: #2d5a3d;
            color: #fff;
            padding: 18px 50px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 16px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        .start-btn:hover {
            background: #1a3d2a;
            transform: translateY(-2px);
        }
        
        @media (max-width: 600px) {
            .quiz-card { padding: 30px 20px; }
            .quiz-question { font-size: 24px; }
            .options-grid { grid-template-columns: 1fr; }
            .recommended-products { grid-template-columns: 1fr; }
            .quiz-intro h1 { font-size: 32px; }
            .result-title { font-size: 28px; }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-nav">Skip to main content</a>

    <div class="top-banner">
        <div class="banner-scroll">
            <span class="banner-item">Save 15% on orders $75+ with code <strong>HOLIDAY15</strong></span>
            <span class="banner-item">‚òï Free shipping on all orders over $45</span>
            <span class="banner-item">Save 30% on first subscription with code <strong>SAVE30</strong></span>
        </div>
    </div>
    
    <nav role="navigation" aria-label="Main navigation">
        <a href="index.html" class="logo">Grainhouse Coffee</a>
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle mobile menu"><span></span><span></span><span></span></button>
        <ul class="nav-links">
            <li><a href="collections.html">Shop</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
            <li><a href="locations.html">Locations</a></li>
            <li><a href="brew-guides.html">Brew Guides</a></li>
            <li><a href="our-story.html">Our Story</a></li>
        </ul>
        <div class="nav-right">
            <a href="account.html" class="account-link" aria-label="Sign in to your account">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
            </a>
            <button class="snipcart-checkout cart-btn" aria-label="Shopping cart">
                <svg class="cart-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"/>
                    <circle cx="20" cy="21" r="1"/>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                </svg>
                <span class="cart-text">Cart</span>
                <span class="cart-count-badge snipcart-items-count" aria-live="polite"></span>
            </button>
        </div>
    </nav>

    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    <div class="mobile-nav" id="mobileNav">
        <ul class="mobile-nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="collections.html">Shop</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
            <li><a href="learn.html">Learn</a></li>
            <li><a href="coffee-quiz.html" class="active">Coffee Quiz</a></li>
        </ul>
    </div>

    <main id="main-content">
        <div class="quiz-container">
            <div class="quiz-card">
                <!-- Intro -->
                <div class="quiz-step active" id="intro">
                    <div class="quiz-intro">
                        <div class="quiz-intro-icon">‚òï</div>
                        <h1>Find Your Perfect Coffee</h1>
                        <p>Answer 5 quick questions and we'll recommend specialty coffee beans tailored to your taste preferences.</p>
                        <button class="start-btn" onclick="startQuiz()">Start the Quiz ‚Üí</button>
                    </div>
                </div>
                
                <!-- Question 1: Brewing Method -->
                <div class="quiz-step" id="q1">
                    <div class="quiz-progress">
                        <span class="progress-dot active"></span>
                        <span class="progress-dot"></span>
                        <span class="progress-dot"></span>
                        <span class="progress-dot"></span>
                        <span class="progress-dot"></span>
                    </div>
                    <h2 class="quiz-question">How do you brew your coffee?</h2>
                    <p class="quiz-subtitle">This helps us match the right roast and grind to your method.</p>
                    <div class="options-grid">
                        <button class="option-btn" data-value="espresso" onclick="selectOption(this, 'method')">
                            <span class="option-icon">‚òï</span>
                            <span class="option-text">Espresso Machine</span>
                            <span class="option-desc">Pressurized extraction</span>
                        </button>
                        <button class="option-btn" data-value="pourover" onclick="selectOption(this, 'method')">
                            <span class="option-icon">ü´ñ</span>
                            <span class="option-text">Pour Over</span>
                            <span class="option-desc">V60, Chemex, Kalita</span>
                        </button>
                        <button class="option-btn" data-value="drip" onclick="selectOption(this, 'method')">
                            <span class="option-icon">‚è∞</span>
                            <span class="option-text">Drip / Auto</span>
                            <span class="option-desc">Coffee maker</span>
                        </button>
                        <button class="option-btn" data-value="frenchpress" onclick="selectOption(this, 'method')">
                            <span class="option-icon">üçµ</span>
                            <span class="option-text">French Press</span>
                            <span class="option-desc">Full immersion</span>
                        </button>
                    </div>
                    <div class="quiz-nav">
                        <button class="nav-btn back" onclick="prevStep()">‚Üê Back</button>
                        <button class="nav-btn next" onclick="nextStep()" disabled id="next1">Next ‚Üí</button>
                    </div>
                </div>
                
                <!-- Question 2: Roast Preference -->
                <div class="quiz-step" id="q2">
                    <div class="quiz-progress">
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot active"></span>
                        <span class="progress-dot"></span>
                        <span class="progress-dot"></span>
                        <span class="progress-dot"></span>
                    </div>
                    <h2 class="quiz-question">What roast level do you prefer?</h2>
                    <p class="quiz-subtitle">Lighter roasts are brighter; darker roasts are bolder.</p>
                    <div class="options-grid">
                        <button class="option-btn" data-value="light" onclick="selectOption(this, 'roast')">
                            <span class="option-icon">üåÖ</span>
                            <span class="option-text">Light Roast</span>
                            <span class="option-desc">Bright, fruity, acidic</span>
                        </button>
                        <button class="option-btn" data-value="medium" onclick="selectOption(this, 'roast')">
                            <span class="option-icon">‚òÄÔ∏è</span>
                            <span class="option-text">Medium Roast</span>
                            <span class="option-desc">Balanced, sweet, smooth</span>
                        </button>
                        <button class="option-btn" data-value="dark" onclick="selectOption(this, 'roast')">
                            <span class="option-icon">üåô</span>
                            <span class="option-text">Dark Roast</span>
                            <span class="option-desc">Bold, smoky, rich</span>
                        </button>
                        <button class="option-btn" data-value="unsure" onclick="selectOption(this, 'roast')">
                            <span class="option-icon">ü§î</span>
                            <span class="option-text">Not Sure</span>
                            <span class="option-desc">Surprise me!</span>
                        </button>
                    </div>
                    <div class="quiz-nav">
                        <button class="nav-btn back" onclick="prevStep()">‚Üê Back</button>
                        <button class="nav-btn next" onclick="nextStep()" disabled id="next2">Next ‚Üí</button>
                    </div>
                </div>
                
                <!-- Question 3: Flavor Preference -->
                <div class="quiz-step" id="q3">
                    <div class="quiz-progress">
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot active"></span>
                        <span class="progress-dot"></span>
                        <span class="progress-dot"></span>
                    </div>
                    <h2 class="quiz-question">Which flavors do you love?</h2>
                    <p class="quiz-subtitle">Pick the flavor profile that sounds most appealing.</p>
                    <div class="options-grid">
                        <button class="option-btn" data-value="fruity" onclick="selectOption(this, 'flavor')">
                            <span class="option-icon">üçä</span>
                            <span class="option-text">Fruity & Bright</span>
                            <span class="option-desc">Citrus, berry, tropical</span>
                        </button>
                        <button class="option-btn" data-value="chocolate" onclick="selectOption(this, 'flavor')">
                            <span class="option-icon">üç´</span>
                            <span class="option-text">Chocolate & Nutty</span>
                            <span class="option-desc">Cocoa, almond, hazelnut</span>
                        </button>
                        <button class="option-btn" data-value="caramel" onclick="selectOption(this, 'flavor')">
                            <span class="option-icon">üçØ</span>
                            <span class="option-text">Sweet & Caramel</span>
                            <span class="option-desc">Brown sugar, toffee, honey</span>
                        </button>
                        <button class="option-btn" data-value="earthy" onclick="selectOption(this, 'flavor')">
                            <span class="option-icon">üåø</span>
                            <span class="option-text">Earthy & Herbal</span>
                            <span class="option-desc">Tobacco, cedar, spice</span>
                        </button>
                    </div>
                    <div class="quiz-nav">
                        <button class="nav-btn back" onclick="prevStep()">‚Üê Back</button>
                        <button class="nav-btn next" onclick="nextStep()" disabled id="next3">Next ‚Üí</button>
                    </div>
                </div>
                
                <!-- Question 4: Origin Preference -->
                <div class="quiz-step" id="q4">
                    <div class="quiz-progress">
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot active"></span>
                        <span class="progress-dot"></span>
                    </div>
                    <h2 class="quiz-question">Single origin or blend?</h2>
                    <p class="quiz-subtitle">Single origins showcase terroir; blends offer balanced complexity.</p>
                    <div class="options-grid">
                        <button class="option-btn" data-value="single" onclick="selectOption(this, 'origin')">
                            <span class="option-icon">üìç</span>
                            <span class="option-text">Single Origin</span>
                            <span class="option-desc">Unique regional character</span>
                        </button>
                        <button class="option-btn" data-value="blend" onclick="selectOption(this, 'origin')">
                            <span class="option-icon">üé®</span>
                            <span class="option-text">Blend</span>
                            <span class="option-desc">Balanced, consistent</span>
                        </button>
                        <button class="option-btn" data-value="both" onclick="selectOption(this, 'origin')">
                            <span class="option-icon">‚ú®</span>
                            <span class="option-text">Both</span>
                            <span class="option-desc">I like variety</span>
                        </button>
                        <button class="option-btn" data-value="unsure" onclick="selectOption(this, 'origin')">
                            <span class="option-icon">ü§∑</span>
                            <span class="option-text">Not Sure</span>
                            <span class="option-desc">What's the difference?</span>
                        </button>
                    </div>
                    <div class="quiz-nav">
                        <button class="nav-btn back" onclick="prevStep()">‚Üê Back</button>
                        <button class="nav-btn next" onclick="nextStep()" disabled id="next4">Next ‚Üí</button>
                    </div>
                </div>
                
                <!-- Question 5: Caffeine -->
                <div class="quiz-step" id="q5">
                    <div class="quiz-progress">
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot completed"></span>
                        <span class="progress-dot active"></span>
                    </div>
                    <h2 class="quiz-question">Do you want caffeine?</h2>
                    <p class="quiz-subtitle">We have excellent decaf options too.</p>
                    <div class="options-grid">
                        <button class="option-btn" data-value="regular" onclick="selectOption(this, 'caffeine')">
                            <span class="option-icon">‚ö°</span>
                            <span class="option-text">Full Caffeine</span>
                            <span class="option-desc">Give me all the energy</span>
                        </button>
                        <button class="option-btn" data-value="decaf" onclick="selectOption(this, 'caffeine')">
                            <span class="option-icon">üò¥</span>
                            <span class="option-text">Decaf</span>
                            <span class="option-desc">All flavor, no buzz</span>
                        </button>
                        <button class="option-btn" data-value="both" onclick="selectOption(this, 'caffeine')">
                            <span class="option-icon">üîÑ</span>
                            <span class="option-text">Mix It Up</span>
                            <span class="option-desc">Regular AM, decaf PM</span>
                        </button>
                        <button class="option-btn" data-value="halfcaf" onclick="selectOption(this, 'caffeine')">
                            <span class="option-icon">¬Ω</span>
                            <span class="option-text">Half-Caf</span>
                            <span class="option-desc">Somewhere in between</span>
                        </button>
                    </div>
                    <div class="quiz-nav">
                        <button class="nav-btn back" onclick="prevStep()">‚Üê Back</button>
                        <button class="nav-btn next" onclick="showResults()" disabled id="next5">See My Results ‚Üí</button>
                    </div>
                </div>
                
                <!-- Results -->
                <div class="quiz-step results-container" id="results">
                    <span class="result-badge">Your Coffee Match</span>
                    <h2 class="result-title" id="resultTitle">The Bold Explorer</h2>
                    <p class="result-desc" id="resultDesc">You appreciate complex, full-bodied coffee with depth. These beans will deliver the rich, satisfying experience you're looking for.</p>
                    
                    <div class="recommended-products" id="recProducts">
                        <!-- Products inserted by JS -->
                    </div>
                    
                    <button class="restart-btn" onclick="restartQuiz()">Take Quiz Again</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-grid">
            <div>
                <div class="footer-brand">Grainhouse Coffee</div>
                <p class="footer-desc">Independent small batch coffee roasters.</p>
            </div>
            <div>
                <h4 class="footer-title">Shop</h4>
                <ul class="footer-links">
                    <li><a href="collections.html">Shop Coffee Beans</a></li>
                    <li><a href="subscribe.html">Coffee Subscription</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Learn</h4>
                <ul class="footer-links">
                    <li><a href="learn.html">Coffee Education</a></li>
                    <li><a href="brew-guides.html">Brew Guides</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Company</h4>
                <ul class="footer-links">
                    <li><a href="our-story.html">Our Story</a></li>
                    <li><a href="locations.html">Locations</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">¬© 2025 Grainhouse Coffee Roasters.</div>
    </footer>

    <div hidden id="snipcart" data-api-key="ODMwYTIxNjQtMjkxYy00YjNlLWI0NTAtYTkyNWFkNTdlNzNhNjM5MDE1ODA5OTIzMjEyMTUw" data-config-modal-style="side"></div>
    <script async src="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.js"></script>
    
    <!-- Snipcart Checkout Customizations -->
    <style>
        .snipcart-cart-summary-side .snipcart-cart-summary-item { display: flex !important; align-items: flex-start !important; gap: 16px !important; padding: 16px 0 !important; border-bottom: 1px solid #eee !important; }
        .snipcart-cart-summary-side .snipcart-cart-summary-item:last-child { border-bottom: none !important; }
        .snipcart-cart-summary-side .snipcart-cart-summary-item__image { display: block !important; width: 72px !important; height: 72px !important; min-width: 72px !important; border-radius: 8px !important; object-fit: cover !important; background: #f8f6f3 !important; box-shadow: 0 2px 8px rgba(0,0,0,0.08) !important; }
        .snipcart-cart-summary-side .snipcart-cart-summary-item__image img { width: 100% !important; height: 100% !important; object-fit: cover !important; border-radius: 8px !important; }
        .snipcart-cart-summary-item .snipcart-item-line__media, .snipcart-cart-summary-item__image-container { display: block !important; flex-shrink: 0 !important; }
        .snipcart-item-line .snipcart-item-line__image { display: block !important; width: 80px !important; height: 80px !important; border-radius: 8px !important; overflow: hidden !important; background: #f8f6f3 !important; }
        .snipcart-item-line .snipcart-item-line__image img { width: 100% !important; height: 100% !important; object-fit: cover !important; }
        .snipcart-checkout .snipcart-item-line { display: flex !important; align-items: center !important; gap: 16px !important; padding: 16px 0 !important; }
        .snipcart-checkout .snipcart-item-line__media { display: block !important; width: 64px !important; height: 64px !important; min-width: 64px !important; border-radius: 8px !important; overflow: hidden !important; background: #f8f6f3 !important; }
        .snipcart-checkout .snipcart-item-line__media img { width: 100% !important; height: 100% !important; object-fit: cover !important; }
        #snipcart .snipcart-cart-summary-fees__notice, #snipcart [class*="fees__notice"], .snipcart-modal [class*="fees__notice"], .snipcart-checkout [class*="fees__notice"] { margin-bottom: 24px !important; }
        #snipcart .snipcart-cart-summary__total, #snipcart [class*="summary__total"], .snipcart-modal [class*="summary__total"], .snipcart-checkout [class*="summary__total"] { margin-top: 16px !important; padding-top: 16px !important; }
        .snipcart-cart-summary-item__name { font-weight: 600 !important; color: #333 !important; font-size: 15px !important; margin-bottom: 4px !important; }
        .snipcart-cart-summary-item__quantity { color: #888 !important; font-size: 14px !important; }
        .snipcart-cart-summary-item__price { font-weight: 600 !important; color: #333 !important; }
    </style>
    
    <script>
        // Quiz state
        let currentStep = 0;
        const answers = {};
        const steps = ['intro', 'q1', 'q2', 'q3', 'q4', 'q5', 'results'];
        
        // Product database
        const products = {
            'hair-bender': {
                name: 'Hair Bender',
                notes: 'Citrus ‚Ä¢ Dark Chocolate ‚Ä¢ Raisin',
                price: '$50.95',
                img: 'images/Hair-Bender_e0a4e119-c201-4e7a-bf1c-f4cc4ae240e1_750x_2b77870c.png',
                url: 'product-hair-bender.html',
                tags: ['espresso', 'medium', 'chocolate', 'blend', 'regular']
            },
            'holler-mountain': {
                name: 'Holler Mountain',
                notes: 'Citrus ‚Ä¢ Caramel ‚Ä¢ Berry Jam',
                price: '$51.99',
                img: 'images/5lb_HollerMtn_750x_020a6823.png',
                url: 'product-holler-mountain.html',
                tags: ['drip', 'pourover', 'medium', 'caramel', 'fruity', 'blend', 'regular']
            },
            'ethiopia': {
                name: 'Ethiopia Mordecofe',
                notes: 'Nectarine ‚Ä¢ Melon ‚Ä¢ Jasmine',
                price: '$55.99',
                img: 'images/Ethiopia_Mordecofe_72DPI_750x_8f486bfc.png',
                url: 'product-ethiopia.html',
                tags: ['pourover', 'light', 'fruity', 'single', 'regular']
            },
            'trapper-creek': {
                name: 'Trapper Creek Decaf',
                notes: 'Citrus ‚Ä¢ Graham ‚Ä¢ Cocoa',
                price: '$54.95',
                img: 'images/SCR_Trapper_750x_c5bcc4b8.png',
                url: 'product-trapper-creek.html',
                tags: ['drip', 'frenchpress', 'medium', 'chocolate', 'caramel', 'blend', 'decaf', 'halfcaf', 'both']
            }
        };
        
        // Result profiles
        const profiles = {
            'adventurous': {
                title: 'The Flavor Explorer',
                desc: 'You appreciate bright, complex coffees with unique character. Single origins from Africa will showcase the exciting, fruit-forward flavors you crave.'
            },
            'classic': {
                title: 'The Coffee Purist',
                desc: 'You love balanced, approachable coffee with clean sweetness. A well-crafted blend delivers the consistent, satisfying experience you enjoy every day.'
            },
            'bold': {
                title: 'The Bold Connoisseur',
                desc: 'You want coffee with presence ‚Äî rich body, deep flavors, and lasting finish. Darker roasts and full-bodied blends are your perfect match.'
            },
            'curious': {
                title: 'The Curious Sipper',
                desc: 'You\'re open to new experiences and ready to explore. We\'ve picked coffees that will introduce you to the exciting world of specialty coffee.'
            }
        };
        
        function startQuiz() {
            currentStep = 1;
            showStep();
        }
        
        function showStep() {
            steps.forEach((step, i) => {
                document.getElementById(step).classList.remove('active');
            });
            document.getElementById(steps[currentStep]).classList.add('active');
        }
        
        function selectOption(btn, category) {
            // Deselect others in this question
            btn.parentElement.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            answers[category] = btn.dataset.value;
            
            // Enable next button
            const nextBtn = document.getElementById('next' + currentStep);
            if (nextBtn) nextBtn.disabled = false;
        }
        
        function nextStep() {
            if (currentStep < steps.length - 2) {
                currentStep++;
                showStep();
            }
        }
        
        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                showStep();
            }
        }
        
        function showResults() {
            currentStep = steps.length - 1;
            
            // Determine profile
            let profile = 'curious';
            if (answers.flavor === 'fruity' && answers.roast === 'light') {
                profile = 'adventurous';
            } else if (answers.roast === 'dark' || answers.flavor === 'earthy') {
                profile = 'bold';
            } else if (answers.origin === 'blend' || answers.roast === 'medium') {
                profile = 'classic';
            }
            
            document.getElementById('resultTitle').textContent = profiles[profile].title;
            document.getElementById('resultDesc').textContent = profiles[profile].desc;
            
            // Match products
            const scored = Object.entries(products).map(([id, product]) => {
                let score = 0;
                if (product.tags.includes(answers.method)) score += 2;
                if (product.tags.includes(answers.roast)) score += 2;
                if (product.tags.includes(answers.flavor)) score += 3;
                if (product.tags.includes(answers.origin)) score += 1;
                if (product.tags.includes(answers.caffeine)) score += 2;
                return { id, ...product, score };
            }).sort((a, b) => b.score - a.score);
            
            // Show top 2
            const recHtml = scored.slice(0, 2).map((p, i) => `
                <a href="${p.url}" class="rec-product">
                    <span class="rec-match">${i === 0 ? 'Best Match' : 'Also Great'}</span>
                    <img src="${p.img}" alt="${p.name}">
                    <h4>${p.name}</h4>
                    <div class="notes">${p.notes}</div>
                    <div class="price">${p.price}</div>
                </a>
            `).join('');
            
            document.getElementById('recProducts').innerHTML = recHtml;
            showStep();
        }
        
        function restartQuiz() {
            currentStep = 0;
            Object.keys(answers).forEach(k => delete answers[k]);
            document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
            document.querySelectorAll('.nav-btn.next').forEach(b => b.disabled = true);
            showStep();
        }
        
        // Mobile menu
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileNav = document.getElementById('mobileNav');
        const mobileNavOverlay = document.getElementById('mobileNavOverlay');
        function toggleMobileMenu() {
            mobileMenuBtn.classList.toggle('active');
            mobileNav.classList.toggle('active');
            mobileNavOverlay.classList.toggle('active');
        }
        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        mobileNavOverlay.addEventListener('click', toggleMobileMenu);
    </script>
    
    <script>
        // Banner scroll animation fallback for browsers that may have issues
        (function() {
            const bannerScroll = document.querySelector('.banner-scroll');
            if (!bannerScroll) return;
            
            const checkAnimation = function() {
                const style = window.getComputedStyle(bannerScroll);
                const animName = style.animationName || style.webkitAnimationName;
                const animDuration = parseFloat(style.animationDuration) || parseFloat(style.webkitAnimationDuration);
                
                if (!animName || animName === 'none' || !animDuration) {
                    startJSAnimation();
                }
            };
            
            function startJSAnimation() {
                let position = 0;
                const speed = 1;
                const scrollWidth = bannerScroll.scrollWidth / 2;
                
                function animate() {
                    position -= speed;
                    if (position <= -scrollWidth) {
                        position = 0;
                    }
                    bannerScroll.style.transform = 'translateX(' + position + 'px)';
                    requestAnimationFrame(animate);
                }
                
                bannerScroll.style.animation = 'none';
                bannerScroll.style.webkitAnimation = 'none';
                animate();
            }
            
            setTimeout(checkAnimation, 500);
        })();
    </script>
</body>
</html>

