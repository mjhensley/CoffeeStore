<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2d5a3d">
    <title>Contact Us | Grainhouse Coffee</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Get in touch with Grainhouse Coffee. Questions about orders, subscriptions, or just want to say hello? We'd love to hear from you.">
    <meta name="keywords" content="contact Grainhouse Coffee, customer support, coffee questions, order help">
    <link rel="canonical" href="https://grainhousecoffee.com/contact.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://grainhousecoffee.com/contact.html">
    <meta property="og:title" content="Contact Us | Grainhouse Coffee">
    <meta property="og:description" content="Get in touch with Grainhouse Coffee. We'd love to hear from you.">
    <meta property="og:image" content="https://grainhousecoffee.com/images/coffee.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Fonts & Styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Snipcart -->
    <link rel="preconnect" href="https://app.snipcart.com">
    <link rel="preconnect" href="https://cdn.snipcart.com">
    <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.css" />
    
    <style>
        /* Contact Page Styles */
        .contact-hero {
            background: linear-gradient(135deg, #2d5a3d 0%, #1a3d2a 100%);
            padding: 120px 40px 80px;
            text-align: center;
            color: #fff;
        }
        
        .contact-hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 56px;
            font-weight: 400;
            margin: 0 0 20px;
        }
        
        .contact-hero p {
            font-size: 18px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.7;
        }
        
        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 60px;
            max-width: 1100px;
            margin: 0 auto;
            padding: 80px 40px;
        }
        
        .contact-info h2 {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            color: #333;
            margin: 0 0 20px;
        }
        
        .contact-info > p {
            color: #666;
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 40px;
        }
        
        .contact-methods {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        
        .contact-method {
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }
        
        .contact-method-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #2d5a3d 0%, #1a3d2a 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .contact-method-icon svg {
            width: 24px;
            height: 24px;
            color: #fff;
        }
        
        .contact-method-content h3 {
            font-size: 18px;
            color: #333;
            margin: 0 0 6px;
            font-weight: 600;
        }
        
        .contact-method-content p {
            color: #666;
            font-size: 15px;
            margin: 0;
            line-height: 1.5;
        }
        
        .contact-method-content a {
            color: #2d5a3d;
            text-decoration: none;
            font-weight: 500;
        }
        
        .contact-method-content a:hover {
            color: #c9a96e;
        }
        
        /* Contact Form */
        .contact-form-wrapper {
            background: #fff;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 4px 30px rgba(0,0,0,0.08);
        }
        
        .contact-form-wrapper h2 {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            color: #333;
            margin: 0 0 30px;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .form-group label span {
            color: #c9a96e;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e8e4df;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s;
            background: #faf8f5;
            box-sizing: border-box;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #2d5a3d;
            background: #fff;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .form-group select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
        }
        
        .submit-btn {
            width: 100%;
            padding: 18px 40px;
            background: linear-gradient(135deg, #2d5a3d 0%, #1a3d2a 100%);
            color: #fff;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(45, 90, 61, 0.3);
        }
        
        .submit-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .submit-btn .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: #fff;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            display: none;
        }
        
        .submit-btn.loading .spinner {
            display: block;
        }
        
        .submit-btn.loading .btn-text {
            display: none;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Success Message */
        .form-success {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }
        
        .form-success.show {
            display: block;
        }
        
        .form-success-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #2d5a3d 0%, #1a3d2a 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
        }
        
        .form-success-icon svg {
            width: 40px;
            height: 40px;
            color: #fff;
        }
        
        .form-success h3 {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            color: #333;
            margin: 0 0 12px;
        }
        
        .form-success p {
            color: #666;
            font-size: 16px;
            line-height: 1.6;
            margin: 0 0 24px;
        }
        
        .form-success .reset-btn {
            background: none;
            border: 2px solid #2d5a3d;
            color: #2d5a3d;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .form-success .reset-btn:hover {
            background: #2d5a3d;
            color: #fff;
        }
        
        /* FAQ Section */
        .contact-faq {
            background: #f8f6f3;
            padding: 80px 40px;
        }
        
        .contact-faq h2 {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            text-align: center;
            color: #333;
            margin: 0 0 50px;
        }
        
        .faq-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .faq-item {
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
        }
        
        .faq-item h3 {
            font-size: 18px;
            color: #333;
            margin: 0 0 12px;
            font-weight: 600;
        }
        
        .faq-item p {
            color: #666;
            font-size: 15px;
            line-height: 1.7;
            margin: 0;
        }
        
        .faq-item a {
            color: #2d5a3d;
            text-decoration: none;
            font-weight: 500;
        }
        
        .faq-item a:hover {
            color: #c9a96e;
        }
        
        /* Responsive */
        @media (max-width: 900px) {
            .contact-content {
                grid-template-columns: 1fr;
                gap: 40px;
                padding: 50px 20px;
            }
            
            .contact-hero {
                padding: 100px 20px 60px;
            }
            
            .contact-hero h1 {
                font-size: 40px;
            }
            
            .faq-grid {
                grid-template-columns: 1fr;
            }
            
            .contact-faq {
                padding: 50px 20px;
            }
        }
        
        @media (max-width: 480px) {
            .contact-hero h1 {
                font-size: 32px;
            }
            
            .contact-form-wrapper {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Navigation -->
    <a href="#main-content" class="skip-nav">Skip to main content</a>

    <!-- Top Banner -->
    <div class="top-banner">
        <div class="banner-scroll">
            <span class="banner-item">Save 15% on orders $75+ with code <strong>HOLIDAY15</strong></span>
            <span class="banner-item">‚òï Free shipping on all orders over $45</span>
            <span class="banner-item">Save 30% on first subscription with code <strong>SAVE30</strong></span>
            <span class="banner-item">Save 15% on orders $75+ with code <strong>HOLIDAY15</strong></span>
            <span class="banner-item">‚òï Free shipping on all orders over $45</span>
            <span class="banner-item">Save 30% on first subscription with code <strong>SAVE30</strong></span>
        </div>
    </div>
    
    <!-- Navigation -->
    <nav role="navigation" aria-label="Main navigation">
        <a href="index.html" class="logo">Grainhouse Coffee</a>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle mobile menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
        
        <ul class="nav-links">
            <li><a href="collections.html">Shop</a></li>
            <li><a href="cold-brew.html">Cold Brew</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
            <li><a href="gift-guide.html" class="nav-gift-link">üéÅ Gifts</a></li>
            <li><a href="locations.html">Locations</a></li>
            <li><a href="our-story.html">Our Story</a></li>
        </ul>
        <div class="nav-right">
            <a href="account.html" class="account-link" aria-label="Sign in to your account">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
            </a>
            <button class="snipcart-checkout cart-btn" aria-label="Shopping cart">
                <svg class="cart-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"/>
                    <circle cx="20" cy="21" r="1"/>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                </svg>
                <span class="cart-text">Cart</span>
                <span class="cart-count-badge snipcart-items-count" aria-live="polite"></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    <div class="mobile-nav" id="mobileNav">
        <ul class="mobile-nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="collections.html">Shop</a></li>
            <li><a href="cold-brew.html">Cold Brew</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
            <li><a href="gift-guide.html">Gifts</a></li>
            <li><a href="locations.html">Locations</a></li>
            <li><a href="brew-guides.html">Brew Guides</a></li>
            <li><a href="our-story.html">Our Story</a></li>
            <li><a href="contact.html" class="active">Contact</a></li>
        </ul>
    </div>

    <main id="main-content">
        <!-- Hero Section -->
        <section class="contact-hero">
            <h1>Get in Touch</h1>
            <p>Have a question about your order, our coffee, or just want to say hello? We'd love to hear from you.</p>
        </section>

        <!-- Contact Content -->
        <section class="contact-content">
            <!-- Left: Contact Info -->
            <div class="contact-info">
                <h2>Let's Connect</h2>
                <p>Whether you have a question about our coffee, need help with an order, or want to explore wholesale opportunities, our team is here to help.</p>
                
                <div class="contact-methods">
                    <div class="contact-method">
                        <div class="contact-method-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                        </div>
                        <div class="contact-method-content">
                            <h3>Email Us</h3>
                            <p>General inquiries:<br><a href="mailto:support@grainhousecoffee.com">support@grainhousecoffee.com</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-method-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                        </div>
                        <div class="contact-method-content">
                            <h3>Call Us</h3>
                            <p>Customer Support:<br><a href="tel:+18005551234">(800) 555-1234</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-method-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                        </div>
                        <div class="contact-method-content">
                            <h3>Mailing Address</h3>
                            <p>Grainhouse Coffee Roasters<br>1234 Roaster Lane<br>Portland, OR 97201</p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-method-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                <polyline points="9 22 9 12 15 12 15 22"/>
                            </svg>
                        </div>
                        <div class="contact-method-content">
                            <h3>Visit Our Caf√©s</h3>
                            <p>Find a location near you<br><a href="locations.html">View our locations ‚Üí</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-method-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12 6 12 12 16 14"/>
                            </svg>
                        </div>
                        <div class="contact-method-content">
                            <h3>Response Time</h3>
                            <p>We typically respond within<br><strong>24 hours</strong> on business days</p>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="contact-method-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                            </svg>
                        </div>
                        <div class="contact-method-content">
                            <h3>Wholesale</h3>
                            <p>Interested in serving Grainhouse?<br><a href="mailto:admin@grainhousecoffee.com">admin@grainhousecoffee.com</a></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right: Contact Form -->
            <div class="contact-form-wrapper">
                <h2>Send Us a Message</h2>
                
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name">Your Name <span>*</span></label>
                        <input type="text" id="name" name="name" required placeholder="John Doe">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address <span>*</span></label>
                        <input type="email" id="email" name="email" required placeholder="john@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <select id="subject" name="subject">
                            <option value="">Select a topic...</option>
                            <option value="Order Question">Order Question</option>
                            <option value="Subscription Help">Subscription Help</option>
                            <option value="Product Question">Product Question</option>
                            <option value="Wholesale Inquiry">Wholesale Inquiry</option>
                            <option value="Feedback">Feedback</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message <span>*</span></label>
                        <textarea id="message" name="message" required placeholder="How can we help you?"></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-text">Send Message</span>
                        <span class="spinner"></span>
                    </button>
                </form>
                
                <!-- Success Message -->
                <div class="form-success" id="formSuccess">
                    <div class="form-success-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                    </div>
                    <h3>Message Sent!</h3>
                    <p>Thank you for reaching out. We've received your message and will get back to you within 24 hours.</p>
                    <button class="reset-btn" onclick="resetForm()">Send Another Message</button>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="contact-faq">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <h3>How do I track my order?</h3>
                    <p>Once your order ships, you'll receive an email with tracking information. You can also check your order status in your <a href="account.html">account dashboard</a>.</p>
                </div>
                <div class="faq-item">
                    <h3>Can I modify or cancel my subscription?</h3>
                    <p>Yes! You can pause, skip, or cancel your subscription anytime from your <a href="account.html">account</a>. Changes must be made 48 hours before your next shipment.</p>
                </div>
                <div class="faq-item">
                    <h3>What's your return policy?</h3>
                    <p>If you're not satisfied with your coffee, contact us within 30 days and we'll make it right ‚Äî whether that's a replacement or refund.</p>
                </div>
                <div class="faq-item">
                    <h3>Do you offer wholesale pricing?</h3>
                    <p>We do! If you're a caf√©, restaurant, or office interested in serving Grainhouse, email us at <a href="mailto:admin@grainhousecoffee.com">admin@grainhousecoffee.com</a>.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-grid">
            <div>
                <div class="footer-brand">Grainhouse Coffee</div>
                <p class="footer-desc">Premium artisan coffee, expertly sourced and roasted. From our roastery to coffee lovers everywhere.</p>
            </div>
            <div>
                <h4 class="footer-title">Shop</h4>
                <ul class="footer-links">
                    <li><a href="collections.html">All Coffee</a></li>
                    <li><a href="cold-brew.html">Cold Brew</a></li>
                    <li><a href="subscribe.html">Subscriptions</a></li>
                    <li><a href="gift-guide.html">Gift Guide</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Learn</h4>
                <ul class="footer-links">
                    <li><a href="brew-guides.html">Brew Guides</a></li>
                    <li><a href="our-story.html">Our Story</a></li>
                    <li><a href="locations.html">Locations</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Support</h4>
                <ul class="footer-links">
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="policies.html">Policies</a></li>
                    <li><a href="account.html">My Account</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-payment-methods">
            <h4 class="footer-payment-title">Accepted Payment Methods</h4>
            <div class="payment-logo-container">
                <img src="https://www.shift4shop.com/images/credit-card-logos/cc-lg-4.png" alt="Accepted payment methods: Visa, Mastercard, American Express, Discover" class="payment-logo-combined" loading="lazy" decoding="async" fetchpriority="low">
            </div>
        </div>
        
        <div class="footer-bottom">
            <span>¬© 2025 Grainhouse Coffee Roasters. All rights reserved.</span>
            <div class="footer-legal">
                <a href="policies.html#privacy">Privacy Policy</a>
                <a href="policies.html#terms">Terms of Service</a>
                <a href="accessibility.html">Accessibility</a>
            </div>
        </div>
    </footer>

    <!-- Snipcart -->
    <div hidden id="snipcart" data-api-key="ODMwYTIxNjQtMjkxYy00YjNlLWI0NTAtYTkyNWFkNTdlNzNhNjM5MDE1ODA5OTIzMjEyMTUw" data-config-modal-style="side"></div>
    <script src="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.js" async defer></script>
    
    <!-- INSTANT LOAD: Ultra-fast page transitions -->
    <script src="instant-load.js"></script>
    
    <!-- PERFORMANCE: Load fingerprinting for bot protection -->
    <script src="fingerprint.js" defer></script>
    
    <!-- PERFORMANCE: Load optimization module -->
    <script src="performance.js" defer></script>
    
    <script src="account.js" defer></script>
    <script src="cart.js" defer></script>
    
    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileNav = document.getElementById('mobileNav');
        const mobileNavOverlay = document.getElementById('mobileNavOverlay');

        function toggleMobileMenu() {
            const isOpen = mobileNav.classList.contains('active');
            mobileMenuBtn.classList.toggle('active');
            mobileNav.classList.toggle('active');
            mobileNavOverlay.classList.toggle('active');
            mobileMenuBtn.setAttribute('aria-expanded', !isOpen);
            document.body.style.overflow = isOpen ? '' : 'hidden';
        }

        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        mobileNavOverlay.addEventListener('click', toggleMobileMenu);

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                toggleMobileMenu();
            }
        });

        // Cart Badge Visibility
        document.addEventListener('DOMContentLoaded', function() {
            function updateCartBadge() {
                const badge = document.querySelector('.cart-count-badge');
                if (badge) {
                    const count = parseInt(badge.textContent) || 0;
                    badge.classList.toggle('hidden', count === 0);
                }
            }
            updateCartBadge();
            const badge = document.querySelector('.cart-count-badge');
            if (badge) {
                const observer = new MutationObserver(updateCartBadge);
                observer.observe(badge, { childList: true, characterData: true, subtree: true });
            }
        });

        // Contact Form Handling
        const contactForm = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const formSuccess = document.getElementById('formSuccess');

        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Show loading state
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value
            };
            
            try {
                const response = await fetch('/.netlify/functions/send-contact-email', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (response.ok && result.success) {
                    // Show success message
                    contactForm.style.display = 'none';
                    formSuccess.classList.add('show');
                } else {
                    throw new Error(result.error || 'Failed to send message');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry, there was an error sending your message. Please try again or email us directly at support@grainhousecoffee.com');
            } finally {
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
            }
        });

        function resetForm() {
            contactForm.reset();
            contactForm.style.display = 'block';
            formSuccess.classList.remove('show');
        }
        
        // Banner scroll animation fallback
        (function() {
            const bannerScroll = document.querySelector('.banner-scroll');
            if (!bannerScroll) return;
            
            const checkAnimation = function() {
                const style = window.getComputedStyle(bannerScroll);
                const animName = style.animationName || style.webkitAnimationName;
                const animDuration = parseFloat(style.animationDuration) || parseFloat(style.webkitAnimationDuration);
                
                if (!animName || animName === 'none' || !animDuration) {
                    startJSAnimation();
                }
            };
            
            function startJSAnimation() {
                let position = 0;
                const speed = 1;
                const scrollWidth = bannerScroll.scrollWidth / 2;
                
                function animate() {
                    position -= speed;
                    if (position <= -scrollWidth) {
                        position = 0;
                    }
                    bannerScroll.style.transform = 'translateX(' + position + 'px)';
                    requestAnimationFrame(animate);
                }
                
                bannerScroll.style.animation = 'none';
                bannerScroll.style.webkitAnimation = 'none';
                animate();
            }
            
            setTimeout(checkAnimation, 500);
        })();
    </script>
</body>
</html>

