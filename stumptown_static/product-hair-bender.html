<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2d5a3d">
    <title>Hair Bender | Grainhouse Coffee</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Hair Bender - Our most popular blend with notes of citrus, dark chocolate, and raisin. Perfect as espresso or pour over. Free shipping on orders over $45.">
    <meta name="keywords" content="Hair Bender coffee, espresso blend, coffee beans, Grainhouse Coffee">
    <link rel="canonical" href="https://grainhousecoffee.com/product-hair-bender.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="product">
    <meta property="og:url" content="https://grainhousecoffee.com/product-hair-bender.html">
    <meta property="og:title" content="Hair Bender | Grainhouse Coffee">
    <meta property="og:description" content="Our most popular blend with notes of citrus, dark chocolate, and raisin.">
    <meta property="og:image" content="https://grainhousecoffee.com/images/Hair-Bender_e0a4e119-c201-4e7a-bf1c-f4cc4ae240e1_750x_2b77870c.png">
    <meta property="product:price:amount" content="43.95">
    <meta property="product:price:currency" content="USD">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@grainhousecoffee">
    <meta name="twitter:title" content="Hair Bender | Grainhouse Coffee">
    <meta name="twitter:description" content="Our most popular blend with notes of citrus, dark chocolate, and raisin.">
    <meta name="twitter:image" content="https://grainhousecoffee.com/images/Hair-Bender_e0a4e119-c201-4e7a-bf1c-f4cc4ae240e1_750x_2b77870c.png">
    
    <!-- Schema.org Product Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Hair Bender",
        "description": "Our most popular blend and the one that started it all. Hair Bender is a complex, sweet espresso with notes of citrus, dark chocolate, and a raisin-like depth.",
        "image": "https://grainhousecoffee.com/images/Hair-Bender_e0a4e119-c201-4e7a-bf1c-f4cc4ae240e1_750x_2b77870c.png",
        "sku": "hair-bender",
        "brand": {
            "@type": "Brand",
            "name": "Grainhouse Coffee"
        },
        "offers": {
            "@type": "Offer",
            "url": "https://grainhousecoffee.com/product-hair-bender.html",
            "priceCurrency": "USD",
            "price": "43.95",
            "availability": "https://schema.org/InStock",
            "shippingDetails": {
                "@type": "OfferShippingDetails",
                "shippingRate": {
                    "@type": "MonetaryAmount",
                    "value": "0",
                    "currency": "USD"
                },
                "shippingDestination": {
                    "@type": "DefinedRegion",
                    "addressCountry": "US"
                },
                "deliveryTime": {
                    "@type": "ShippingDeliveryTime",
                    "handlingTime": {
                        "@type": "QuantitativeValue",
                        "minValue": "1",
                        "maxValue": "2",
                        "unitCode": "d"
                    },
                    "transitTime": {
                        "@type": "QuantitativeValue",
                        "minValue": "2",
                        "maxValue": "5",
                        "unitCode": "d"
                    }
                }
            }
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "bestRating": "5",
            "worstRating": "1"
        },
        "category": "Coffee",
        "additionalProperty": [
            {
                "@type": "PropertyValue",
                "name": "Roast Level",
                "value": "Medium"
            },
            {
                "@type": "PropertyValue",
                "name": "Flavor Notes",
                "value": "Citrus, Dark Chocolate, Raisin"
            },
            {
                "@type": "PropertyValue",
                "name": "Origin",
                "value": "Latin America & Africa"
            }
        ]
    }
    </script>
    
    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://grainhousecoffee.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Shop",
                "item": "https://grainhousecoffee.com/collections.html"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Hair Bender"
            }
        ]
    }
    </script>
    
        /* Quantity Selector Styles */
        .quantity-selector {
            margin-bottom: 0;
        }
        .quantity-controls {
            display: inline-flex;
            align-items: center;
            border: 2px solid #e8e4de;
            border-radius: 50px;
            background: #fff;
            overflow: hidden;
            transition: border-color 0.3s, box-shadow 0.3s;
            height: 52px;
        }
        .quantity-controls:hover {
            border-color: #c9a96e;
        }
        .quantity-controls:focus-within {
            border-color: #c9a96e;
            box-shadow: 0 0 0 3px rgba(201, 169, 110, 0.15);
        }
        .quantity-label {
            display: flex;
            align-items: center;
            font-size: 11px;
            font-weight: 600;
            color: #555;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 16px;
            border-right: 1px solid #e8e4de;
            height: 100%;
            background: #f8f6f3;
        }
        .qty-btn {
            width: 44px;
            height: 100%;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            transition: background 0.2s, color 0.2s;
        }
        .qty-btn:hover {
            background: #f8f6f3;
            color: #c9a96e;
        }
        .qty-btn:active {
            background: #f0ebe4;
        }
        .qty-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        .qty-btn:disabled:hover {
            background: transparent;
            color: #333;
        }
        .qty-input {
            width: 40px;
            height: 100%;
            border: none;
            background: transparent;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
            color: #333;
            font-family: inherit;
            -moz-appearance: textfield;
        }
        .qty-input::-webkit-outer-spin-button,
        .qty-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .product-actions .buy-btn {
            flex: 1;
            padding: 16px 28px;
            font-size: 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
            background: linear-gradient(135deg, #2d5a3d 0%, #1e3d2a 100%);
            color: #fff;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(45, 90, 61, 0.3);
            height: 52px;
            white-space: nowrap;
        }
        .product-actions .buy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(45, 90, 61, 0.4);
            background: linear-gradient(135deg, #3a7350 0%, #2d5a3d 100%);
        }
        .product-actions .buy-btn:active {
            transform: translateY(0);
        }
        
        @media (max-width: 480px) {
            .product-actions {
                flex-direction: column;
            }
            .quantity-controls {
                width: 100%;
                justify-content: space-between;
            }
            .qty-btn { width: 50px; }
            .qty-input { flex: 1; }
            .product-actions .buy-btn { width: 100%; }
        }
        
        /* =============================================
           PRODUCT OPTIONS - Size & Subscription Styles
           ============================================= */
        
        /* Product Header Row with Roast Indicator */
        .product-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .product-type-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #888;
        }
        
        .roast-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .roast-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #888;
        }
        
        .roast-scale {
            position: relative;
            width: 80px;
            height: 8px;
        }
        
        .roast-track {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, #d4c4a8, #8b7355, #3d2b1f);
            transform: translateY(-50%);
            border-radius: 2px;
        }
        
        .roast-marker {
            position: absolute;
            top: 50%;
            width: 12px;
            height: 12px;
            background: #1a1a1a;
            border: 2px solid #fff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 1px 4px rgba(0,0,0,0.3);
            cursor: help;
        }
        
        /* Size Selector Dropdown */
        .product-options {
            margin: 25px 0;
        }
        
        .option-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .size-selector {
            position: relative;
            display: inline-block;
        }
        
        .option-select {
            appearance: none;
            -webkit-appearance: none;
            background: #fff;
            border: 2px solid #e8e4de;
            border-radius: 50px;
            padding: 14px 45px 14px 22px;
            font-size: 15px;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            min-width: 160px;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .option-select:hover {
            border-color: #c9a96e;
        }
        
        .option-select:focus {
            outline: none;
            border-color: #c9a96e;
            box-shadow: 0 0 0 3px rgba(201, 169, 110, 0.15);
        }
        
        .select-arrow {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #666;
        }
        
        /* Purchase Type Toggle */
        .purchase-type-container {
            margin: 25px 0;
            padding: 20px;
            background: #f8f6f3;
            border-radius: 12px;
        }
        
        .purchase-type-toggle {
            display: flex;
            gap: 25px;
        }
        
        .toggle-option {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 500;
            color: #555;
            transition: color 0.2s;
        }
        
        .toggle-option input[type="radio"] {
            display: none;
        }
        
        .toggle-radio {
            width: 22px;
            height: 22px;
            border: 2px solid #ccc;
            border-radius: 50%;
            position: relative;
            transition: all 0.2s;
            background: #fff;
        }
        
        .toggle-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: #c9a96e;
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.2s;
        }
        
        .toggle-option.active .toggle-radio {
            border-color: #c9a96e;
        }
        
        .toggle-option.active .toggle-radio::after {
            transform: translate(-50%, -50%) scale(1);
        }
        
        .toggle-option.active .toggle-text {
            color: #333;
            font-weight: 600;
        }
        
        /* Subscription Options Panel */
        .subscription-options {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e0dcd5;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .subscription-savings {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .savings-badge {
            background: #2d5a3d;
            color: #fff;
            font-size: 12px;
            font-weight: 700;
            padding: 5px 12px;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .savings-text {
            font-size: 14px;
            color: #2d5a3d;
            font-weight: 500;
        }
        
        .frequency-selector {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .frequency-selector label {
            font-size: 14px;
            color: #555;
            font-weight: 500;
        }
        
        .frequency-select {
            appearance: none;
            -webkit-appearance: none;
            background: #fff;
            border: 2px solid #e0dcd5;
            border-radius: 8px;
            padding: 10px 35px 10px 15px;
            font-size: 14px;
            font-weight: 500;
            color: #333;
            cursor: pointer;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
        }
        
        .frequency-select:focus {
            outline: none;
            border-color: #c9a96e;
        }
        
        .subscription-perks {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .subscription-perks li {
            font-size: 13px;
            color: #666;
            padding: 4px 0;
        }
        
        .subscription-perks li::before {
            color: #2d5a3d;
        }
        
        /* Price Display */
        .price-display {
            display: flex;
            align-items: baseline;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .original-price {
            font-size: 18px;
            color: #999;
            text-decoration: line-through;
        }
        
        /* Buy Button Enhancement */
        .buy-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .buy-btn .btn-divider {
            width: 1px;
            height: 18px;
            background: rgba(255,255,255,0.3);
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .product-header-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .option-select {
                width: 100%;
            }
            
            .purchase-type-container {
                padding: 16px;
            }
            
            .purchase-type-toggle {
                gap: 20px;
            }
            
            .frequency-selector {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .frequency-select {
                width: 100%;
            }
        }
    </style>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Fonts & Styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="enhanced-ui.css">
    
    <!-- Snipcart -->
    <link rel="preconnect" href="https://app.snipcart.com">
    <link rel="preconnect" href="https://cdn.snipcart.com">
    <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.css" />
</head>
<body>
    <!-- Skip Navigation -->
    <a href="#main-content" class="skip-nav">Skip to main content</a>

    <!-- Top Banner -->
    <div class="top-banner">
        <div class="banner-scroll">
            <span class="banner-item">Save 15% on orders $75+ with code <strong>HOLIDAY15</strong></span>
            <span class="banner-item">‚òï Free shipping on all orders over $45</span>
            <span class="banner-item">Save 30% on first subscription with code <strong>SAVE30</strong></span>
            <span class="banner-item">Save 15% on orders $75+ with code <strong>HOLIDAY15</strong></span>
            <span class="banner-item">‚òï Free shipping on all orders over $45</span>
            <span class="banner-item">Save 30% on first subscription with code <strong>SAVE30</strong></span>
        </div>
    </div>
    
    <!-- Navigation -->
    <nav role="navigation" aria-label="Main navigation">
        <a href="index.html" class="logo">Grainhouse Coffee</a>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle mobile menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
        
        <ul class="nav-links">
            <li><a href="collections.html">Shop</a></li>
            <li><a href="cold-brew.html">Cold Brew</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
            <li><a href="gift-guide.html" class="nav-gift-link">üéÅ Gifts</a></li>
            <li><a href="locations.html">Locations</a></li>
            <li><a href="our-story.html">Our Story</a></li>
        </ul>
        <div class="nav-right">
            <a href="account.html" class="account-link" aria-label="Sign in to your account">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
            </a>
            <button class="snipcart-checkout cart-btn" aria-label="Shopping cart">
                <svg class="cart-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"/>
                    <circle cx="20" cy="21" r="1"/>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                </svg>
                <span class="cart-text">Cart</span>
                <span class="cart-count-badge snipcart-items-count" aria-live="polite"></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    <div class="mobile-nav" id="mobileNav">
        <ul class="mobile-nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="collections.html">Shop</a></li>
            <li><a href="cold-brew.html">Cold Brew</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
            <li><a href="gift-guide.html">Gifts</a></li>
            <li><a href="locations.html">Locations</a></li>
            <li><a href="brew-guides.html">Brew Guides</a></li>
            <li><a href="our-story.html">Our Story</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>

    <main id="main-content">
        <!-- Product Page -->
        <section class="product-page">
            <div class="product-layout">
                <div class="product-gallery">
                    <img src="images/Hair-Bender_e0a4e119-c201-4e7a-bf1c-f4cc4ae240e1_750x_2b77870c.png" alt="Hair Bender coffee bag - premium espresso blend" width="600" height="600" style="aspect-ratio: 1/1; max-width: 100%; height: auto;">
                </div>
                <div class="product-details">
                    <!-- Product Header with Roast Indicator -->
                    <div class="product-header-row">
                        <span class="product-type-label">BLEND</span>
                        <div class="roast-indicator">
                            <span class="roast-label">ROAST</span>
                            <div class="roast-scale">
                                <div class="roast-track"></div>
                                <div class="roast-marker" style="left: 50%;" title="Medium Roast"></div>
                            </div>
                        </div>
                    </div>
                    
                    <h1>Hair Bender</h1>
                    <p class="product-tagline">Citrus ‚Ä¢ Dark Chocolate ‚Ä¢ Raisin</p>
                    
                    <p class="product-description" style="background: linear-gradient(135deg, #f8f4e8 0%, #fff9e6 100%); padding: 15px; border-radius: 8px; border-left: 4px solid #c9a96e; margin-bottom: 20px;">
                        <strong style="color: #8b5a2b;">üîí Limited Reserve Selection</strong><br>
                        <span style="font-size: 13px;">Sourced from exclusive micro-lots in Latin America and Africa. Only 150 bags produced per roast cycle. This exceptional blend sells out within days of each release.</span>
                    </p>
                    <p class="product-description">
                        Our most coveted blend and the one that built our reputation. Hair Bender is a complex, sweet espresso with notes of citrus, dark chocolate, and a raisin-like depth. These rare beans come from small family farms we've partnered with for over a decade ‚Äî relationships that took years to cultivate.
                    </p>

                    <div class="product-meta">
                        <div class="meta-item">
                            <span class="meta-label">Region</span>
                            <span class="meta-value">Latin America & Africa</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Roast</span>
                            <span class="meta-value">Medium</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Best For</span>
                            <span class="meta-value">Espresso, Drip</span>
                        </div>
                    </div>

                    <!-- Size Selector -->
                    <div class="product-options">
                        <div class="option-group">
                            <div class="size-selector">
                                <select id="sizeSelect" class="option-select" onchange="updateProductOptions()">
                                    <option value="12oz">12 oz</option>
                                    <option value="2lb">2 lb</option>
                                    <option value="5lb">5 lb</option>
                                </select>
                                <svg class="select-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none">
                                    <path d="M1 1.5L6 6.5L11 1.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Purchase Type Toggle (One-time vs Subscribe) -->
                    <div class="purchase-type-container">
                        <div class="purchase-type-toggle">
                            <label class="toggle-option active" data-type="onetime">
                                <input type="radio" name="purchaseType" value="onetime" checked>
                                <span class="toggle-radio"></span>
                                <span class="toggle-text">One-time</span>
                            </label>
                            <label class="toggle-option" data-type="subscribe">
                                <input type="radio" name="purchaseType" value="subscribe">
                                <span class="toggle-radio"></span>
                                <span class="toggle-text">Subscribe</span>
                            </label>
                        </div>
                        
                        <!-- Subscription Options (hidden by default) -->
                        <div class="subscription-options" id="subscriptionOptions" style="display: none;">
                            <div class="subscription-savings">
                                <span class="savings-badge">Save 10%</span>
                                <span class="savings-text">on every delivery</span>
                            </div>
                            <div class="frequency-selector">
                                <label for="frequencySelect">Deliver every:</label>
                                <select id="frequencySelect" class="frequency-select">
                                    <option value="1week">Every Week</option>
                                    <option value="2weeks" selected>Every 2 Weeks</option>
                                    <option value="3weeks">Every 3 Weeks</option>
                                    <option value="4weeks">Every 4 Weeks</option>
                                </select>
                            </div>
                            <ul class="subscription-perks">
                                <li>‚úì Free shipping on all subscriptions</li>
                                <li>‚úì Skip, pause, or cancel anytime</li>
                                <li>‚úì Freshly roasted before each shipment</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Price Display -->
                    <div class="price-display">
                        <p class="product-price-large" id="currentPrice">$37.00</p>
                        <p class="original-price" id="originalPrice" style="display: none;"></p>
                    </div>

                    <div class="product-actions">
                        <!-- Quantity Selector -->
                        <div class="quantity-selector">
                            <div class="quantity-controls">
                                <label for="quantity" class="quantity-label">Qty</label>
                                <button type="button" class="qty-btn qty-decrease" onclick="decreaseQty()" aria-label="Decrease quantity">
                                    <svg width="12" height="2" viewBox="0 0 12 2" fill="currentColor"><rect width="12" height="2" rx="1"/></svg>
                                </button>
                                <input type="number" id="quantity" class="qty-input" value="1" min="1" max="10" readonly>
                                <button type="button" class="qty-btn qty-increase" onclick="increaseQty()" aria-label="Increase quantity">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><rect y="5" width="12" height="2" rx="1"/><rect x="5" width="2" height="12" rx="1"/></svg>
                                </button>
                            </div>
                        </div>
                        
                        <button class="snipcart-add-item buy-btn"
                            id="addToCartBtn"
                            data-item-id="hair-bender-12oz"
                            data-item-name="Hair Bender - 12 oz"
                            data-item-price="37.00"
                            data-item-url="https://grainhousecoffee.com/product-hair-bender.html"
                            data-item-description="Citrus ‚Ä¢ Dark Chocolate ‚Ä¢ Raisin"
                            data-item-image="https://grainhousecoffee.com/images/Hair-Bender_e0a4e119-c201-4e7a-bf1c-f4cc4ae240e1_750x_2b77870c.png"
                            data-item-quantity="1">
                            Add to Cart | $37.00
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Related Products -->
        <section class="featured" style="background: var(--cream);" aria-labelledby="related-title">
            <h2 class="section-title" id="related-title">More Rare Selections</h2>
            <div class="products-grid" style="max-width: 1100px; margin: 0 auto;">
                <a href="product-holler-mountain.html" class="product-card">
                    <div class="product-image">
                        <img src="images/5lb_HollerMtn_750x_020a6823.png" alt="Holler Mountain coffee blend">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Holler Mountain</h3>
                        <p class="product-notes">Citrus ‚Ä¢ Caramel ‚Ä¢ Berry Jam</p>
                        <p style="font-size: 11px; color: #8b5a2b; font-weight: 600; margin-top: 5px;">‚≠ê Single Estate ‚Ä¢ Limited</p>
                        <p class="product-price">$38.75</p>
                    </div>
                </a>
                
                <a href="product-ethiopia.html" class="product-card">
                    <div class="product-image">
                        <img src="images/5lb_HollerMtn_750x_020a6823.png" alt="Holler Mountain coffee blend">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Holler Mountain</h3>
                        <p class="product-notes">Citrus ‚Ä¢ Caramel ‚Ä¢ Berry Jam</p>
                        <p style="font-size: 11px; color: #8b5a2b; font-weight: 600; margin-top: 5px;">‚≠ê Single Estate ‚Ä¢ Limited</p>
                        <p class="product-price">$38.75</p>
                    </div>
                </a>
                
                <a href="product-ethiopia.html" class="product-card">
                    <div class="product-image">
                        <img src="images/Ethiopia_Mordecofe_72DPI_750x_8f486bfc.png" alt="Ethiopia Mordecofe single origin">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Ethiopia Mordecofe</h3>
                        <p class="product-notes">Nectarine ‚Ä¢ Melon ‚Ä¢ Jasmine</p>
                        <p style="font-size: 11px; color: #8b5a2b; font-weight: 600; margin-top: 5px;">üèÜ Competition Grade ‚Ä¢ Rare</p>
                        <p class="product-price">$44.75</p>
                    </div>
                </a>
                
                <a href="product-trapper-creek.html" class="product-card">
                    <div class="product-image">
                        <img src="images/SCR_Trapper_750x_c5bcc4b8.png" alt="Trapper Creek Decaf">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Trapper Creek Decaf</h3>
                        <p class="product-notes">Citrus ‚Ä¢ Graham ‚Ä¢ Cocoa</p>
                        <p style="font-size: 11px; color: #8b5a2b; font-weight: 600; margin-top: 5px;">‚ú® Rare Swiss Water</p>
                        <p class="product-price">$39.50</p>
                    </div>
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-grid">
            <div>
                <div class="footer-brand">Grainhouse Coffee</div>
                <p class="footer-desc">Premium artisan coffee, expertly sourced and roasted. From our roastery to coffee lovers everywhere.</p>
            </div>
            <div>
                <h4 class="footer-title">Shop</h4>
                <ul class="footer-links">
                    <li><a href="collections.html">All Coffee</a></li>
                    <li><a href="cold-brew.html">Cold Brew</a></li>
                    <li><a href="subscribe.html">Subscriptions</a></li>
                    <li><a href="gift-guide.html">Gift Guide</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Learn</h4>
                <ul class="footer-links">
                    <li><a href="brew-guides.html">Brew Guides</a></li>
                    <li><a href="our-story.html">Our Story</a></li>
                    <li><a href="locations.html">Locations</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Support</h4>
                <ul class="footer-links">
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="policies.html">Policies</a></li>
                    <li><a href="account.html">My Account</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-payment-methods">
            <h4 class="footer-payment-title">Accepted Payment Methods</h4>
            <div class="payment-logo-container">
                <img src="https://www.shift4shop.com/images/credit-card-logos/cc-lg-4.png" alt="Accepted payment methods: Visa, Mastercard, American Express, Discover" class="payment-logo-combined" loading="lazy" decoding="async" fetchpriority="low">
            </div>
        </div>
        
        <div class="footer-bottom">
            <span>¬© 2025 Grainhouse Coffee Roasters. All rights reserved.</span>
            <div class="footer-legal">
                <a href="policies.html#privacy">Privacy Policy</a>
                <a href="policies.html#terms">Terms of Service</a>
                <a href="accessibility.html">Accessibility</a>
            </div>
        </div>
    </footer>

    <!-- Snipcart - Replace YOUR_PUBLIC_API_KEY with your Snipcart public API key -->
    <div hidden id="snipcart" data-api-key="ODMwYTIxNjQtMjkxYy00YjNlLWI0NTAtYTkyNWFkNTdlNzNhNjM5MDE1ODA5OTIzMjEyMTUw" data-config-modal-style="side"></div>
    <script async src="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.js"></script>
    
    <!-- Snipcart Checkout Customizations -->
    <style>
        /* Show product images in checkout order summary */
        .snipcart-cart-summary-side .snipcart-cart-summary-item {
            display: flex !important;
            align-items: flex-start !important;
            gap: 16px !important;
            padding: 16px 0 !important;
            border-bottom: 1px solid #eee !important;
        }
        .snipcart-cart-summary-side .snipcart-cart-summary-item:last-child { border-bottom: none !important; }
        .snipcart-cart-summary-side .snipcart-cart-summary-item__image {
            display: block !important;
            width: 72px !important;
            height: 72px !important;
            min-width: 72px !important;
            border-radius: 8px !important;
            object-fit: cover !important;
            background: #f8f6f3 !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08) !important;
        }
        .snipcart-cart-summary-side .snipcart-cart-summary-item__image img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
            border-radius: 8px !important;
        }
        .snipcart-cart-summary-item .snipcart-item-line__media,
        .snipcart-cart-summary-item__image-container { display: block !important; flex-shrink: 0 !important; }
        .snipcart-item-line .snipcart-item-line__image {
            display: block !important;
            width: 80px !important;
            height: 80px !important;
            border-radius: 8px !important;
            overflow: hidden !important;
            background: #f8f6f3 !important;
        }
        .snipcart-item-line .snipcart-item-line__image img { width: 100% !important; height: 100% !important; object-fit: cover !important; }
        .snipcart-checkout .snipcart-item-line { display: flex !important; align-items: center !important; gap: 16px !important; padding: 16px 0 !important; }
        .snipcart-checkout .snipcart-item-line__media {
            display: block !important;
            width: 64px !important;
            height: 64px !important;
            min-width: 64px !important;
            border-radius: 8px !important;
            overflow: hidden !important;
            background: #f8f6f3 !important;
        }
        .snipcart-checkout .snipcart-item-line__media img { width: 100% !important; height: 100% !important; object-fit: cover !important; }
        #snipcart .snipcart-cart-summary-fees__notice, #snipcart [class*="fees__notice"],
        .snipcart-modal [class*="fees__notice"], .snipcart-checkout [class*="fees__notice"] { margin-bottom: 24px !important; }
        #snipcart .snipcart-cart-summary__total, #snipcart [class*="summary__total"],
        .snipcart-modal [class*="summary__total"], .snipcart-checkout [class*="summary__total"] { margin-top: 16px !important; padding-top: 16px !important; }
        .snipcart-cart-summary-item__name { font-weight: 600 !important; color: #333 !important; font-size: 15px !important; margin-bottom: 4px !important; }
        .snipcart-cart-summary-item__quantity { color: #888 !important; font-size: 14px !important; }
        .snipcart-cart-summary-item__price { font-weight: 600 !important; color: #333 !important; }
    </style>
    <!-- INSTANT LOAD: Ultra-fast page transitions -->
    <script src="instant-load.js"></script>
    
    <!-- PERFORMANCE: Load fingerprinting for bot protection -->
    <script src="fingerprint.js" defer></script>
    
    <!-- PERFORMANCE: Load optimization module -->
    <script src="performance.js" defer></script>
    
    <script src="product-pricing.js"></script>
    <script src="account.js" defer></script>
    <script src="cart.js" defer></script>
    <script src="enhanced-products.js" defer></script>
    
    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileNav = document.getElementById('mobileNav');
        const mobileNavOverlay = document.getElementById('mobileNavOverlay');

        function toggleMobileMenu() {
            const isOpen = mobileNav.classList.contains('active');
            mobileMenuBtn.classList.toggle('active');
            mobileNav.classList.toggle('active');
            mobileNavOverlay.classList.toggle('active');
            mobileMenuBtn.setAttribute('aria-expanded', !isOpen);
            document.body.style.overflow = isOpen ? '' : 'hidden';
        }

        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        mobileNavOverlay.addEventListener('click', toggleMobileMenu);

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                toggleMobileMenu();
            }
        });

        // Cart Badge Visibility
        document.addEventListener('DOMContentLoaded', function() {
            function updateCartBadge() {
                const badge = document.querySelector('.cart-count-badge');
                if (badge) {
                    const count = parseInt(badge.textContent) || 0;
                    badge.classList.toggle('hidden', count === 0);
                }
            }
            updateCartBadge();
            const badge = document.querySelector('.cart-count-badge');
            if (badge) {
                const observer = new MutationObserver(updateCartBadge);
                observer.observe(badge, { childList: true, characterData: true, subtree: true });
            }
        });

        );
            }
            
        }
        
        // =============================================
        // PRODUCT OPTIONS - Size & Subscription Logic
        // =============================================
        
        // Product configuration - loaded from centralized product-pricing.js
        const PRODUCT_CONFIG = getProductConfig('hair-bender');
        
        // State
        let currentSize = '12oz';
        let isSubscription = false;
        let currentFrequency = '2weeks';
        let currentQuantity = 1;
        
        // DOM Elements
        const qtyInput = document.getElementById('quantity');
        const addToCartBtn = document.getElementById('addToCartBtn');
        const decreaseBtn = document.querySelector('.qty-decrease');
        const sizeSelect = document.getElementById('sizeSelect');
        const priceDisplay = document.getElementById('currentPrice');
        const originalPriceDisplay = document.getElementById('originalPrice');
        const subscriptionOptions = document.getElementById('subscriptionOptions');
        const frequencySelect = document.getElementById('frequencySelect');
        const toggleOptions = document.querySelectorAll('.toggle-option');
        
        // Calculate current price
        function getCurrentPrice() {
            const sizePrice = PRODUCT_CONFIG.sizes[currentSize].price;
            if (isSubscription) {
                return roundToNiceCents(sizePrice * (1 - PRODUCT_CONFIG.subscriptionDiscount));
            }
            return sizePrice;
        }
        
        // Update all UI elements
        function updateProductOptions() {
            // Get current size
            currentSize = sizeSelect.value;
            
            // Calculate prices
            const basePrice = PRODUCT_CONFIG.sizes[currentSize].price;
            const finalPrice = getCurrentPrice();
            const totalPrice = finalPrice * currentQuantity;
            
            // Update price display
            priceDisplay.textContent = '$' + finalPrice.toFixed(2);
            
            // Show original price if subscription
            if (isSubscription) {
                originalPriceDisplay.style.display = 'inline';
                originalPriceDisplay.textContent = '$' + basePrice.toFixed(2);
            } else {
                originalPriceDisplay.style.display = 'none';
            }
            
            // Update button
            const sizeLabel = PRODUCT_CONFIG.sizes[currentSize].label;
            const btnText = currentQuantity > 1 
                ? `Add ${currentQuantity} to Cart | $${totalPrice.toFixed(2)}`
                : `Add to Cart | $${finalPrice.toFixed(2)}`;
            addToCartBtn.textContent = btnText;
            
            // Update Snipcart data attributes
            const itemId = isSubscription 
                ? `${PRODUCT_CONFIG.id}-${currentSize}-subscription-${currentFrequency}`
                : `${PRODUCT_CONFIG.id}-${currentSize}`;
            const itemName = isSubscription
                ? `${PRODUCT_CONFIG.name} - ${sizeLabel} (Subscription: ${getFrequencyLabel()})`
                : `${PRODUCT_CONFIG.name} - ${sizeLabel}`;
            
            addToCartBtn.setAttribute('data-item-id', itemId);
            addToCartBtn.setAttribute('data-item-name', itemName);
            addToCartBtn.setAttribute('data-item-price', finalPrice.toFixed(2));
            addToCartBtn.setAttribute('data-item-quantity', currentQuantity);
        }
        
        // Get frequency label for display
        function getFrequencyLabel() {
            const labels = {
                '1week': 'Weekly',
                '2weeks': 'Every 2 Weeks',
                '3weeks': 'Every 3 Weeks',
                '4weeks': 'Every 4 Weeks'
            };
            return labels[currentFrequency] || currentFrequency;
        }
        
        // Toggle purchase type (one-time vs subscribe)
        function setPurchaseType(type) {
            isSubscription = (type === 'subscribe');
            
            // Update toggle UI
            toggleOptions.forEach(opt => {
                opt.classList.toggle('active', opt.dataset.type === type);
            });
            
            // Show/hide subscription options
            subscriptionOptions.style.display = isSubscription ? 'block' : 'none';
            
            // Update prices
            updateProductOptions();
        }
        
        // Quantity functions
        function updateQuantity(newQty) {
            currentQuantity = Math.max(1, Math.min(10, newQty));
            qtyInput.value = currentQuantity;
            decreaseBtn.disabled = currentQuantity <= 1;
            updateProductOptions();
        }
        
        function increaseQty() {
            updateQuantity(currentQuantity + 1);
        }
        
        function decreaseQty() {
            updateQuantity(currentQuantity - 1);
        }
        
        // Event Listeners
        toggleOptions.forEach(opt => {
            opt.addEventListener('click', () => {
                setPurchaseType(opt.dataset.type);
            });
        });
        
        if (frequencySelect) {
            frequencySelect.addEventListener('change', () => {
                currentFrequency = frequencySelect.value;
                updateProductOptions();
            });
        }
        
        // Initialize
        updateProductOptions();
        
        // Order count tracking removed - no fake social proof
    </script>
    
    <script>
        // Banner scroll animation fallback for browsers that may have issues
        (function() {
            const bannerScroll = document.querySelector('.banner-scroll');
            if (!bannerScroll) return;
            
            const checkAnimation = function() {
                const style = window.getComputedStyle(bannerScroll);
                const animName = style.animationName || style.webkitAnimationName;
                const animDuration = parseFloat(style.animationDuration) || parseFloat(style.webkitAnimationDuration);
                
                if (!animName || animName === 'none' || !animDuration) {
                    startJSAnimation();
                }
            };
            
            function startJSAnimation() {
                let position = 0;
                const speed = 1;
                const scrollWidth = bannerScroll.scrollWidth / 2;
                
                function animate() {
                    position -= speed;
                    if (position <= -scrollWidth) {
                        position = 0;
                    }
                    bannerScroll.style.transform = 'translateX(' + position + 'px)';
                    requestAnimationFrame(animate);
                }
                
                bannerScroll.style.animation = 'none';
                bannerScroll.style.webkitAnimation = 'none';
                animate();
            }
            
            setTimeout(checkAnimation, 500);
        })();
    </script>
</body>
</html>
